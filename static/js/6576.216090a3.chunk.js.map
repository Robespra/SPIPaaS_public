{"version":3,"file":"static/js/6576.216090a3.chunk.js","mappings":"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","sources":["../node_modules/clsx/dist/clsx.m.js","../node_modules/draft-js/lib/AtomicBlockUtils.js","../node_modules/draft-js/lib/BlockMapBuilder.js","../node_modules/draft-js/lib/BlockTree.js","../node_modules/draft-js/lib/CharacterMetadata.js","../node_modules/draft-js/lib/CompositeDraftDecorator.js","../node_modules/draft-js/lib/ContentBlock.js","../node_modules/draft-js/lib/ContentBlockNode.js","../node_modules/draft-js/lib/ContentState.js","../node_modules/draft-js/lib/ContentStateInlineStyle.js","../node_modules/draft-js/lib/DefaultDraftBlockRenderMap.js","../node_modules/draft-js/lib/DefaultDraftInlineStyle.js","../node_modules/draft-js/lib/Draft.js","../node_modules/draft-js/lib/DraftEditor.react.js","../node_modules/draft-js/lib/DraftEditorBlock.react.js","../node_modules/draft-js/lib/DraftEditorCompositionHandler.js","../node_modules/draft-js/lib/DraftEditorContents-core.react.js","../node_modules/draft-js/lib/DraftEditorContents.react.js","../node_modules/draft-js/lib/DraftEditorDragHandler.js","../node_modules/draft-js/lib/DraftEditorEditHandler.js","../node_modules/draft-js/lib/DraftEditorLeaf.react.js","../node_modules/draft-js/lib/DraftEditorPlaceholder.react.js","../node_modules/draft-js/lib/DraftEditorTextNode.react.js","../node_modules/draft-js/lib/DraftEntity.js","../node_modules/draft-js/lib/DraftEntityInstance.js","../node_modules/draft-js/lib/DraftEntitySegments.js","../node_modules/draft-js/lib/DraftFeatureFlags-core.js","../node_modules/draft-js/lib/DraftFeatureFlags.js","../node_modules/draft-js/lib/DraftJsDebugLogging.js","../node_modules/draft-js/lib/DraftModifier.js","../node_modules/draft-js/lib/DraftOffsetKey.js","../node_modules/draft-js/lib/DraftPasteProcessor.js","../node_modules/draft-js/lib/DraftRemovableWord.js","../node_modules/draft-js/lib/DraftStringKey.js","../node_modules/draft-js/lib/DraftTreeAdapter.js","../node_modules/draft-js/lib/EditorBidiService.js","../node_modules/draft-js/lib/EditorState.js","../node_modules/draft-js/lib/KeyBindingUtil.js","../node_modules/draft-js/lib/RichTextEditorUtil.js","../node_modules/draft-js/lib/SecondaryClipboard.js","../node_modules/draft-js/lib/SelectionState.js","../node_modules/draft-js/lib/adjustBlockDepthForContentState.js","../node_modules/draft-js/lib/applyEntityToContentBlock.js","../node_modules/draft-js/lib/applyEntityToContentState.js","../node_modules/draft-js/lib/convertFromDraftStateToRaw.js","../node_modules/draft-js/lib/convertFromHTMLToContentBlocks.js","../node_modules/draft-js/lib/convertFromRawToDraftState.js","../node_modules/draft-js/lib/createCharacterList.js","../node_modules/draft-js/lib/decodeEntityRanges.js","../node_modules/draft-js/lib/decodeInlineStyleRanges.js","../node_modules/draft-js/lib/editOnBeforeInput.js","../node_modules/draft-js/lib/editOnBlur.js","../node_modules/draft-js/lib/editOnCompositionStart.js","../node_modules/draft-js/lib/editOnCopy.js","../node_modules/draft-js/lib/editOnCut.js","../node_modules/draft-js/lib/editOnDragOver.js","../node_modules/draft-js/lib/editOnDragStart.js","../node_modules/draft-js/lib/editOnFocus.js","../node_modules/draft-js/lib/editOnInput.js","../node_modules/draft-js/lib/editOnKeyDown.js","../node_modules/draft-js/lib/editOnPaste.js","../node_modules/draft-js/lib/editOnSelect.js","../node_modules/draft-js/lib/encodeEntityRanges.js","../node_modules/draft-js/lib/encodeInlineStyleRanges.js","../node_modules/draft-js/lib/expandRangeToStartOfLine.js","../node_modules/draft-js/lib/findAncestorOffsetKey.js","../node_modules/draft-js/lib/findRangesImmutable.js","../node_modules/draft-js/lib/generateRandomKey.js","../node_modules/draft-js/lib/getCharacterRemovalRange.js","../node_modules/draft-js/lib/getContentStateFragment.js","../node_modules/draft-js/lib/getDefaultKeyBinding.js","../node_modules/draft-js/lib/getDraftEditorSelection.js","../node_modules/draft-js/lib/getDraftEditorSelectionWithNodes.js","../node_modules/draft-js/lib/getEntityKeyForSelection.js","../node_modules/draft-js/lib/getFragmentFromSelection.js","../node_modules/draft-js/lib/getNextDelimiterBlockKey.js","../node_modules/draft-js/lib/getRangeBoundingClientRect.js","../node_modules/draft-js/lib/getRangeClientRects.js","../node_modules/draft-js/lib/getRangesForDraftEntity.js","../node_modules/draft-js/lib/getSafeBodyFromHTML.js","../node_modules/draft-js/lib/getSelectionOffsetKeyForNode.js","../node_modules/draft-js/lib/getTextContentFromFiles.js","../node_modules/draft-js/lib/getUpdatedSelectionState.js","../node_modules/draft-js/lib/getVisibleSelectionRect.js","../node_modules/draft-js/lib/insertFragmentIntoContentState.js","../node_modules/draft-js/lib/insertIntoList.js","../node_modules/draft-js/lib/insertTextIntoContentState.js","../node_modules/draft-js/lib/isEventHandled.js","../node_modules/draft-js/lib/isSelectionAtLeafStart.js","../node_modules/draft-js/lib/keyCommandBackspaceToStartOfLine.js","../node_modules/draft-js/lib/keyCommandBackspaceWord.js","../node_modules/draft-js/lib/keyCommandDeleteWord.js","../node_modules/draft-js/lib/keyCommandInsertNewline.js","../node_modules/draft-js/lib/keyCommandMoveSelectionToEndOfBlock.js","../node_modules/draft-js/lib/keyCommandMoveSelectionToStartOfBlock.js","../node_modules/draft-js/lib/keyCommandPlainBackspace.js","../node_modules/draft-js/lib/keyCommandPlainDelete.js","../node_modules/draft-js/lib/keyCommandTransposeCharacters.js","../node_modules/draft-js/lib/keyCommandUndo.js","../node_modules/draft-js/lib/modifyBlockForContentState.js","../node_modules/draft-js/lib/moveBlockInContentState.js","../node_modules/draft-js/lib/moveSelectionBackward.js","../node_modules/draft-js/lib/moveSelectionForward.js","../node_modules/draft-js/lib/randomizeBlockMapKeys.js","../node_modules/draft-js/lib/removeEntitiesAtEdges.js","../node_modules/draft-js/lib/removeRangeFromContentState.js","../node_modules/draft-js/lib/removeTextWithStrategy.js","../node_modules/draft-js/lib/sanitizeDraftText.js","../node_modules/draft-js/lib/setDraftEditorSelection.js","../node_modules/draft-js/lib/splitBlockInContentState.js","../node_modules/draft-js/lib/splitTextIntoTextBlocks.js","../node_modules/fbjs/lib/DataTransfer.js","../node_modules/fbjs/lib/Keys.js","../node_modules/fbjs/lib/PhotosMimeType.js","../node_modules/fbjs/lib/Scroll.js","../node_modules/fbjs/lib/Style.js","../node_modules/fbjs/lib/TokenizeUtil.js","../node_modules/fbjs/lib/URI.js","../node_modules/fbjs/lib/UnicodeBidi.js","../node_modules/fbjs/lib/UnicodeBidiDirection.js","../node_modules/fbjs/lib/UnicodeBidiService.js","../node_modules/fbjs/lib/UnicodeUtils.js","../node_modules/fbjs/lib/UserAgent.js","../node_modules/fbjs/lib/UserAgentData.js","../node_modules/fbjs/lib/VersionRange.js","../node_modules/fbjs/lib/camelize.js","../node_modules/fbjs/lib/containsNode.js","../node_modules/fbjs/lib/createArrayFromMixed.js","../node_modules/fbjs/lib/cx.js","../node_modules/fbjs/lib/emptyFunction.js","../node_modules/fbjs/lib/getActiveElement.js","../node_modules/fbjs/lib/getDocumentScrollElement.js","../node_modules/fbjs/lib/getElementPosition.js","../node_modules/fbjs/lib/getElementRect.js","../node_modules/fbjs/lib/getScrollPosition.js","../node_modules/fbjs/lib/getStyleProperty.js","../node_modules/fbjs/lib/getUnboundedScrollPosition.js","../node_modules/fbjs/lib/getViewportDimensions.js","../node_modules/fbjs/lib/hyphenate.js","../node_modules/fbjs/lib/invariant.js","../node_modules/fbjs/lib/isNode.js","../node_modules/fbjs/lib/isTextNode.js","../node_modules/fbjs/lib/joinClasses.js","../node_modules/fbjs/lib/mapObject.js","../node_modules/fbjs/lib/memoizeStringOnly.js","../node_modules/fbjs/lib/nullthrows.js","../node_modules/fbjs/lib/setImmediate.js","../node_modules/immutable/dist/immutable.js","../node_modules/lodash.isequal/index.js","../node_modules/react-draggable/webpack/universalModuleDefinition","../node_modules/react-draggable/webpack/bootstrap 15089f105fec648c1f75","../node_modules/react-draggable/index.js","../node_modules/react-draggable/lib/Draggable.es6","../node_modules/react-draggable/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","../node_modules/react-draggable/~/prop-types/index.js","../node_modules/react-draggable/~/prop-types/factoryWithTypeCheckers.js","../node_modules/react-draggable/~/fbjs/lib/emptyFunction.js","../node_modules/react-draggable/~/fbjs/lib/invariant.js","../node_modules/react-draggable/~/fbjs/lib/warning.js","../node_modules/react-draggable/~/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-draggable/~/prop-types/checkPropTypes.js","../node_modules/react-draggable/~/prop-types/factoryWithThrowingShims.js","../node_modules/react-draggable/external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","../node_modules/react-draggable/~/classnames/index.js","../node_modules/react-draggable/lib/utils/domFns.es6","../node_modules/react-draggable/lib/utils/shims.es6","../node_modules/react-draggable/lib/utils/getPrefix.es6","../node_modules/react-draggable/lib/utils/positionFns.es6","../node_modules/react-draggable/lib/DraggableCore.es6","../node_modules/react-draggable/~/process/browser.js","../node_modules/react-draggable/lib/utils/log.es6","../node_modules/react-resizable/build/Resizable.js","../node_modules/react-resizable/build/ResizableBox.js","../node_modules/react-resizable/build/propTypes.js","../node_modules/react-resizable/build/utils.js","../node_modules/react-resizable/index.js","../node_modules/react-resizable/node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/react-resizable/node_modules/prop-types/index.js","../node_modules/react-resizable/node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/Draggable.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/DraggableCore.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/cjs.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/utils/domFns.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/utils/getPrefix.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/utils/log.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/utils/positionFns.js","../node_modules/react-resizable/node_modules/react-draggable/build/cjs/utils/shims.js","../node_modules/react-stickies/lib/react-stickies.js","../node_modules/react-stickies/node_modules/react-grid-layout/build/GridItem.js","../node_modules/react-stickies/node_modules/react-grid-layout/build/ReactGridLayout.js","../node_modules/react-stickies/node_modules/react-grid-layout/build/ResponsiveReactGridLayout.js","../node_modules/react-stickies/node_modules/react-grid-layout/build/components/WidthProvider.js","../node_modules/react-stickies/node_modules/react-grid-layout/build/responsiveUtils.js","../node_modules/react-stickies/node_modules/react-grid-layout/build/utils.js","../node_modules/react-stickies/node_modules/react-grid-layout/index.js","../node_modules/setimmediate/setImmediate.js","../node_modules/ua-parser-js/src/ua-parser.js"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AtomicBlockUtils\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar BlockMapBuilder = require('./BlockMapBuilder');\nvar CharacterMetadata = require('./CharacterMetadata');\nvar ContentBlock = require('./ContentBlock');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar Immutable = require('immutable');\nvar SelectionState = require('./SelectionState');\n\nvar generateRandomKey = require('./generateRandomKey');\nvar moveBlockInContentState = require('./moveBlockInContentState');\n\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\n\n\nvar AtomicBlockUtils = {\n  insertAtomicBlock: function insertAtomicBlock(editorState, entityKey, character) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n\n    var afterRemoval = DraftModifier.removeRange(contentState, selectionState, 'backward');\n\n    var targetSelection = afterRemoval.getSelectionAfter();\n    var afterSplit = DraftModifier.splitBlock(afterRemoval, targetSelection);\n    var insertionTarget = afterSplit.getSelectionAfter();\n\n    var asAtomicBlock = DraftModifier.setBlockType(afterSplit, insertionTarget, 'atomic');\n\n    var charData = CharacterMetadata.create({ entity: entityKey });\n\n    var atomicBlockConfig = {\n      key: generateRandomKey(),\n      type: 'atomic',\n      text: character,\n      characterList: List(Repeat(charData, character.length))\n    };\n\n    var atomicDividerBlockConfig = {\n      key: generateRandomKey(),\n      type: 'unstyled'\n    };\n\n    if (experimentalTreeDataSupport) {\n      atomicBlockConfig = _extends({}, atomicBlockConfig, {\n        nextSibling: atomicDividerBlockConfig.key\n      });\n      atomicDividerBlockConfig = _extends({}, atomicDividerBlockConfig, {\n        prevSibling: atomicBlockConfig.key\n      });\n    }\n\n    var fragmentArray = [new ContentBlockRecord(atomicBlockConfig), new ContentBlockRecord(atomicDividerBlockConfig)];\n\n    var fragment = BlockMapBuilder.createFromArray(fragmentArray);\n\n    var withAtomicBlock = DraftModifier.replaceWithFragment(asAtomicBlock, insertionTarget, fragment);\n\n    var newContent = withAtomicBlock.merge({\n      selectionBefore: selectionState,\n      selectionAfter: withAtomicBlock.getSelectionAfter().set('hasFocus', true)\n    });\n\n    return EditorState.push(editorState, newContent, 'insert-fragment');\n  },\n\n  moveAtomicBlock: function moveAtomicBlock(editorState, atomicBlock, targetRange, insertionMode) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n\n    var withMovedAtomicBlock = void 0;\n\n    if (insertionMode === 'before' || insertionMode === 'after') {\n      var targetBlock = contentState.getBlockForKey(insertionMode === 'before' ? targetRange.getStartKey() : targetRange.getEndKey());\n\n      withMovedAtomicBlock = moveBlockInContentState(contentState, atomicBlock, targetBlock, insertionMode);\n    } else {\n      var afterRemoval = DraftModifier.removeRange(contentState, targetRange, 'backward');\n\n      var selectionAfterRemoval = afterRemoval.getSelectionAfter();\n      var _targetBlock = afterRemoval.getBlockForKey(selectionAfterRemoval.getFocusKey());\n\n      if (selectionAfterRemoval.getStartOffset() === 0) {\n        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'before');\n      } else if (selectionAfterRemoval.getEndOffset() === _targetBlock.getLength()) {\n        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'after');\n      } else {\n        var afterSplit = DraftModifier.splitBlock(afterRemoval, selectionAfterRemoval);\n\n        var selectionAfterSplit = afterSplit.getSelectionAfter();\n        var _targetBlock2 = afterSplit.getBlockForKey(selectionAfterSplit.getFocusKey());\n\n        withMovedAtomicBlock = moveBlockInContentState(afterSplit, atomicBlock, _targetBlock2, 'before');\n      }\n    }\n\n    var newContent = withMovedAtomicBlock.merge({\n      selectionBefore: selectionState,\n      selectionAfter: withMovedAtomicBlock.getSelectionAfter().set('hasFocus', true)\n    });\n\n    return EditorState.push(editorState, newContent, 'move-block');\n  }\n};\n\nmodule.exports = AtomicBlockUtils;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BlockMapBuilder\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar OrderedMap = Immutable.OrderedMap;\n\n\nvar BlockMapBuilder = {\n  createFromArray: function createFromArray(blocks) {\n    return OrderedMap(blocks.map(function (block) {\n      return [block.getKey(), block];\n    }));\n  }\n};\n\nmodule.exports = BlockMapBuilder;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule BlockTree\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat,\n    Record = Immutable.Record;\n\n\nvar returnTrue = emptyFunction.thatReturnsTrue;\n\nvar FINGERPRINT_DELIMITER = '-';\n\nvar defaultLeafRange = {\n  start: null,\n  end: null\n};\n\nvar LeafRange = Record(defaultLeafRange);\n\nvar defaultDecoratorRange = {\n  start: null,\n  end: null,\n  decoratorKey: null,\n  leaves: null\n};\n\nvar DecoratorRange = Record(defaultDecoratorRange);\n\nvar BlockTree = {\n  /**\n   * Generate a block tree for a given ContentBlock/decorator pair.\n   */\n  generate: function generate(contentState, block, decorator) {\n    var textLength = block.getLength();\n    if (!textLength) {\n      return List.of(new DecoratorRange({\n        start: 0,\n        end: 0,\n        decoratorKey: null,\n        leaves: List.of(new LeafRange({ start: 0, end: 0 }))\n      }));\n    }\n\n    var leafSets = [];\n    var decorations = decorator ? decorator.getDecorations(block, contentState) : List(Repeat(null, textLength));\n\n    var chars = block.getCharacterList();\n\n    findRangesImmutable(decorations, areEqual, returnTrue, function (start, end) {\n      leafSets.push(new DecoratorRange({\n        start: start,\n        end: end,\n        decoratorKey: decorations.get(start),\n        leaves: generateLeaves(chars.slice(start, end).toList(), start)\n      }));\n    });\n\n    return List(leafSets);\n  },\n\n  /**\n   * Create a string representation of the given tree map. This allows us\n   * to rapidly determine whether a tree has undergone a significant\n   * structural change.\n   */\n  getFingerprint: function getFingerprint(tree) {\n    return tree.map(function (leafSet) {\n      var decoratorKey = leafSet.get('decoratorKey');\n      var fingerprintString = decoratorKey !== null ? decoratorKey + '.' + (leafSet.get('end') - leafSet.get('start')) : '';\n      return '' + fingerprintString + '.' + leafSet.get('leaves').size;\n    }).join(FINGERPRINT_DELIMITER);\n  }\n};\n\n/**\n * Generate LeafRange records for a given character list.\n */\nfunction generateLeaves(characters, offset) {\n  var leaves = [];\n  var inlineStyles = characters.map(function (c) {\n    return c.getStyle();\n  }).toList();\n  findRangesImmutable(inlineStyles, areEqual, returnTrue, function (start, end) {\n    leaves.push(new LeafRange({\n      start: start + offset,\n      end: end + offset\n    }));\n  });\n  return List(leaves);\n}\n\nfunction areEqual(a, b) {\n  return a === b;\n}\n\nmodule.exports = BlockTree;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule CharacterMetadata\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = require('immutable'),\n    Map = _require.Map,\n    OrderedSet = _require.OrderedSet,\n    Record = _require.Record;\n\n// Immutable.map is typed such that the value for every key in the map\n// must be the same type\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  style: EMPTY_SET,\n  entity: null\n};\n\nvar CharacterMetadataRecord = Record(defaultRecord);\n\nvar CharacterMetadata = function (_CharacterMetadataRec) {\n  _inherits(CharacterMetadata, _CharacterMetadataRec);\n\n  function CharacterMetadata() {\n    _classCallCheck(this, CharacterMetadata);\n\n    return _possibleConstructorReturn(this, _CharacterMetadataRec.apply(this, arguments));\n  }\n\n  CharacterMetadata.prototype.getStyle = function getStyle() {\n    return this.get('style');\n  };\n\n  CharacterMetadata.prototype.getEntity = function getEntity() {\n    return this.get('entity');\n  };\n\n  CharacterMetadata.prototype.hasStyle = function hasStyle(style) {\n    return this.getStyle().includes(style);\n  };\n\n  CharacterMetadata.applyStyle = function applyStyle(record, style) {\n    var withStyle = record.set('style', record.getStyle().add(style));\n    return CharacterMetadata.create(withStyle);\n  };\n\n  CharacterMetadata.removeStyle = function removeStyle(record, style) {\n    var withoutStyle = record.set('style', record.getStyle().remove(style));\n    return CharacterMetadata.create(withoutStyle);\n  };\n\n  CharacterMetadata.applyEntity = function applyEntity(record, entityKey) {\n    var withEntity = record.getEntity() === entityKey ? record : record.set('entity', entityKey);\n    return CharacterMetadata.create(withEntity);\n  };\n\n  /**\n   * Use this function instead of the `CharacterMetadata` constructor.\n   * Since most content generally uses only a very small number of\n   * style/entity permutations, we can reuse these objects as often as\n   * possible.\n   */\n\n\n  CharacterMetadata.create = function create(config) {\n    if (!config) {\n      return EMPTY;\n    }\n\n    var defaultConfig = {\n      style: EMPTY_SET,\n      entity: null\n    };\n\n    // Fill in unspecified properties, if necessary.\n    var configMap = Map(defaultConfig).merge(config);\n\n    var existing = pool.get(configMap);\n    if (existing) {\n      return existing;\n    }\n\n    var newCharacter = new CharacterMetadata(configMap);\n    pool = pool.set(configMap, newCharacter);\n    return newCharacter;\n  };\n\n  return CharacterMetadata;\n}(CharacterMetadataRecord);\n\nvar EMPTY = new CharacterMetadata();\nvar pool = Map([[Map(defaultRecord), EMPTY]]);\n\nCharacterMetadata.EMPTY = EMPTY;\n\nmodule.exports = CharacterMetadata;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule CompositeDraftDecorator\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Immutable = require('immutable');\n\nvar List = Immutable.List;\n\n\nvar DELIMITER = '.';\n\n/**\n * A CompositeDraftDecorator traverses through a list of DraftDecorator\n * instances to identify sections of a ContentBlock that should be rendered\n * in a \"decorated\" manner. For example, hashtags, mentions, and links may\n * be intended to stand out visually, be rendered as anchors, etc.\n *\n * The list of decorators supplied to the constructor will be used in the\n * order they are provided. This allows the caller to specify a priority for\n * string matching, in case of match collisions among decorators.\n *\n * For instance, I may have a link with a `#` in its text. Though this section\n * of text may match our hashtag decorator, it should not be treated as a\n * hashtag. I should therefore list my link DraftDecorator\n * before my hashtag DraftDecorator when constructing this composite\n * decorator instance.\n *\n * Thus, when a collision like this is encountered, the earlier match is\n * preserved and the new match is discarded.\n */\n\nvar CompositeDraftDecorator = function () {\n  function CompositeDraftDecorator(decorators) {\n    _classCallCheck(this, CompositeDraftDecorator);\n\n    // Copy the decorator array, since we use this array order to determine\n    // precedence of decoration matching. If the array is mutated externally,\n    // we don't want to be affected here.\n    this._decorators = decorators.slice();\n  }\n\n  CompositeDraftDecorator.prototype.getDecorations = function getDecorations(block, contentState) {\n    var decorations = Array(block.getText().length).fill(null);\n\n    this._decorators.forEach(function ( /*object*/decorator, /*number*/ii) {\n      var counter = 0;\n      var strategy = decorator.strategy;\n      var callback = function callback( /*number*/start, /*number*/end) {\n        // Find out if any of our matching range is already occupied\n        // by another decorator. If so, discard the match. Otherwise, store\n        // the component key for rendering.\n        if (canOccupySlice(decorations, start, end)) {\n          occupySlice(decorations, start, end, ii + DELIMITER + counter);\n          counter++;\n        }\n      };\n      strategy(block, callback, contentState);\n    });\n\n    return List(decorations);\n  };\n\n  CompositeDraftDecorator.prototype.getComponentForKey = function getComponentForKey(key) {\n    var componentKey = parseInt(key.split(DELIMITER)[0], 10);\n    return this._decorators[componentKey].component;\n  };\n\n  CompositeDraftDecorator.prototype.getPropsForKey = function getPropsForKey(key) {\n    var componentKey = parseInt(key.split(DELIMITER)[0], 10);\n    return this._decorators[componentKey].props;\n  };\n\n  return CompositeDraftDecorator;\n}();\n\n/**\n * Determine whether we can occupy the specified slice of the decorations\n * array.\n */\n\n\nfunction canOccupySlice(decorations, start, end) {\n  for (var ii = start; ii < end; ii++) {\n    if (decorations[ii] != null) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Splice the specified component into our decoration array at the desired\n * range.\n */\nfunction occupySlice(targetArr, start, end, componentKey) {\n  for (var ii = start; ii < end; ii++) {\n    targetArr[ii] = componentKey;\n  }\n}\n\nmodule.exports = CompositeDraftDecorator;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlock\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  key: '',\n  type: 'unstyled',\n  text: '',\n  characterList: List(),\n  depth: 0,\n  data: Map()\n};\n\nvar ContentBlockRecord = Record(defaultRecord);\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlock = function (_ContentBlockRecord) {\n  _inherits(ContentBlock, _ContentBlockRecord);\n\n  function ContentBlock(config) {\n    _classCallCheck(this, ContentBlock);\n\n    return _possibleConstructorReturn(this, _ContentBlockRecord.call(this, decorateCharacterList(config)));\n  }\n\n  ContentBlock.prototype.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  ContentBlock.prototype.getType = function getType() {\n    return this.get('type');\n  };\n\n  ContentBlock.prototype.getText = function getText() {\n    return this.get('text');\n  };\n\n  ContentBlock.prototype.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  ContentBlock.prototype.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  ContentBlock.prototype.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  ContentBlock.prototype.getData = function getData() {\n    return this.get('data');\n  };\n\n  ContentBlock.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  ContentBlock.prototype.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  /**\n   * Execute a callback for every contiguous range of styles within the block.\n   */\n\n\n  ContentBlock.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  /**\n   * Execute a callback for every contiguous range of entities within the block.\n   */\n\n\n  ContentBlock.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlock;\n}(ContentBlockRecord);\n\nfunction haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n}\n\nfunction haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n}\n\nmodule.exports = ContentBlock;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentBlockNode\n * @format\n * \n *\n * This file is a fork of ContentBlock adding support for nesting references by\n * providing links to children, parent, prevSibling, and nextSibling.\n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\n\n\nvar EMPTY_SET = OrderedSet();\n\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = function (_Record) {\n  _inherits(ContentBlockNode, _Record);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n\n    _classCallCheck(this, ContentBlockNode);\n\n    return _possibleConstructorReturn(this, _Record.call(this, decorateCharacterList(props)));\n  }\n\n  ContentBlockNode.prototype.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  ContentBlockNode.prototype.getType = function getType() {\n    return this.get('type');\n  };\n\n  ContentBlockNode.prototype.getText = function getText() {\n    return this.get('text');\n  };\n\n  ContentBlockNode.prototype.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  ContentBlockNode.prototype.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  ContentBlockNode.prototype.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  ContentBlockNode.prototype.getData = function getData() {\n    return this.get('data');\n  };\n\n  ContentBlockNode.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  ContentBlockNode.prototype.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  ContentBlockNode.prototype.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  ContentBlockNode.prototype.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  ContentBlockNode.prototype.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  ContentBlockNode.prototype.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  ContentBlockNode.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  ContentBlockNode.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentState\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BlockMapBuilder = require('./BlockMapBuilder');\nvar CharacterMetadata = require('./CharacterMetadata');\nvar ContentBlock = require('./ContentBlock');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar DraftEntity = require('./DraftEntity');\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar Immutable = require('immutable');\nvar SelectionState = require('./SelectionState');\n\nvar generateRandomKey = require('./generateRandomKey');\nvar sanitizeDraftText = require('./sanitizeDraftText');\n\nvar List = Immutable.List,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\n\n\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\n\nvar defaultRecord = {\n  entityMap: null,\n  blockMap: null,\n  selectionBefore: null,\n  selectionAfter: null\n};\n\nvar ContentBlockNodeRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\n\nvar ContentStateRecord = Record(defaultRecord);\n\nvar ContentState = function (_ContentStateRecord) {\n  _inherits(ContentState, _ContentStateRecord);\n\n  function ContentState() {\n    _classCallCheck(this, ContentState);\n\n    return _possibleConstructorReturn(this, _ContentStateRecord.apply(this, arguments));\n  }\n\n  ContentState.prototype.getEntityMap = function getEntityMap() {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity;\n  };\n\n  ContentState.prototype.getBlockMap = function getBlockMap() {\n    return this.get('blockMap');\n  };\n\n  ContentState.prototype.getSelectionBefore = function getSelectionBefore() {\n    return this.get('selectionBefore');\n  };\n\n  ContentState.prototype.getSelectionAfter = function getSelectionAfter() {\n    return this.get('selectionAfter');\n  };\n\n  ContentState.prototype.getBlockForKey = function getBlockForKey(key) {\n    var block = this.getBlockMap().get(key);\n    return block;\n  };\n\n  ContentState.prototype.getKeyBefore = function getKeyBefore(key) {\n    return this.getBlockMap().reverse().keySeq().skipUntil(function (v) {\n      return v === key;\n    }).skip(1).first();\n  };\n\n  ContentState.prototype.getKeyAfter = function getKeyAfter(key) {\n    return this.getBlockMap().keySeq().skipUntil(function (v) {\n      return v === key;\n    }).skip(1).first();\n  };\n\n  ContentState.prototype.getBlockAfter = function getBlockAfter(key) {\n    return this.getBlockMap().skipUntil(function (_, k) {\n      return k === key;\n    }).skip(1).first();\n  };\n\n  ContentState.prototype.getBlockBefore = function getBlockBefore(key) {\n    return this.getBlockMap().reverse().skipUntil(function (_, k) {\n      return k === key;\n    }).skip(1).first();\n  };\n\n  ContentState.prototype.getBlocksAsArray = function getBlocksAsArray() {\n    return this.getBlockMap().toArray();\n  };\n\n  ContentState.prototype.getFirstBlock = function getFirstBlock() {\n    return this.getBlockMap().first();\n  };\n\n  ContentState.prototype.getLastBlock = function getLastBlock() {\n    return this.getBlockMap().last();\n  };\n\n  ContentState.prototype.getPlainText = function getPlainText(delimiter) {\n    return this.getBlockMap().map(function (block) {\n      return block ? block.getText() : '';\n    }).join(delimiter || '\\n');\n  };\n\n  ContentState.prototype.getLastCreatedEntityKey = function getLastCreatedEntityKey() {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity.__getLastCreatedEntityKey();\n  };\n\n  ContentState.prototype.hasText = function hasText() {\n    var blockMap = this.getBlockMap();\n    return blockMap.size > 1 || blockMap.first().getLength() > 0;\n  };\n\n  ContentState.prototype.createEntity = function createEntity(type, mutability, data) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__create(type, mutability, data);\n    return this;\n  };\n\n  ContentState.prototype.mergeEntityData = function mergeEntityData(key, toMerge) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__mergeData(key, toMerge);\n    return this;\n  };\n\n  ContentState.prototype.replaceEntityData = function replaceEntityData(key, newData) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__replaceData(key, newData);\n    return this;\n  };\n\n  ContentState.prototype.addEntity = function addEntity(instance) {\n    // TODO: update this when we fully remove DraftEntity\n    DraftEntity.__add(instance);\n    return this;\n  };\n\n  ContentState.prototype.getEntity = function getEntity(key) {\n    // TODO: update this when we fully remove DraftEntity\n    return DraftEntity.__get(key);\n  };\n\n  ContentState.createFromBlockArray = function createFromBlockArray(\n  // TODO: update flow type when we completely deprecate the old entity API\n  blocks, entityMap) {\n    // TODO: remove this when we completely deprecate the old entity API\n    var theBlocks = Array.isArray(blocks) ? blocks : blocks.contentBlocks;\n    var blockMap = BlockMapBuilder.createFromArray(theBlocks);\n    var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());\n    return new ContentState({\n      blockMap: blockMap,\n      entityMap: entityMap || DraftEntity,\n      selectionBefore: selectionState,\n      selectionAfter: selectionState\n    });\n  };\n\n  ContentState.createFromText = function createFromText(text) {\n    var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : /\\r\\n?|\\n/g;\n\n    var strings = text.split(delimiter);\n    var blocks = strings.map(function (block) {\n      block = sanitizeDraftText(block);\n      return new ContentBlockNodeRecord({\n        key: generateRandomKey(),\n        text: block,\n        type: 'unstyled',\n        characterList: List(Repeat(CharacterMetadata.EMPTY, block.length))\n      });\n    });\n    return ContentState.createFromBlockArray(blocks);\n  };\n\n  return ContentState;\n}(ContentStateRecord);\n\nmodule.exports = ContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ContentStateInlineStyle\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\n\nvar _require = require('immutable'),\n    Map = _require.Map;\n\nvar ContentStateInlineStyle = {\n  add: function add(contentState, selectionState, inlineStyle) {\n    return modifyInlineStyle(contentState, selectionState, inlineStyle, true);\n  },\n\n  remove: function remove(contentState, selectionState, inlineStyle) {\n    return modifyInlineStyle(contentState, selectionState, inlineStyle, false);\n  }\n};\n\nfunction modifyInlineStyle(contentState, selectionState, inlineStyle, addOrRemove) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart;\n    var sliceEnd;\n\n    if (startKey === endKey) {\n      sliceStart = startOffset;\n      sliceEnd = endOffset;\n    } else {\n      sliceStart = blockKey === startKey ? startOffset : 0;\n      sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    }\n\n    var chars = block.getCharacterList();\n    var current;\n    while (sliceStart < sliceEnd) {\n      current = chars.get(sliceStart);\n      chars = chars.set(sliceStart, addOrRemove ? CharacterMetadata.applyStyle(current, inlineStyle) : CharacterMetadata.removeStyle(current, inlineStyle));\n      sliceStart++;\n    }\n\n    return block.set('characterList', chars);\n  });\n\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = ContentStateInlineStyle;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DefaultDraftBlockRenderMap\n * @format\n * \n */\n\n'use strict';\n\nvar _require = require('immutable'),\n    Map = _require.Map;\n\nvar React = require('react');\n\nvar cx = require('fbjs/lib/cx');\n\nvar UL_WRAP = React.createElement('ul', { className: cx('public/DraftStyleDefault/ul') });\nvar OL_WRAP = React.createElement('ol', { className: cx('public/DraftStyleDefault/ol') });\nvar PRE_WRAP = React.createElement('pre', { className: cx('public/DraftStyleDefault/pre') });\n\nvar DefaultDraftBlockRenderMap = Map({\n  'header-one': {\n    element: 'h1'\n  },\n  'header-two': {\n    element: 'h2'\n  },\n  'header-three': {\n    element: 'h3'\n  },\n  'header-four': {\n    element: 'h4'\n  },\n  'header-five': {\n    element: 'h5'\n  },\n  'header-six': {\n    element: 'h6'\n  },\n  'unordered-list-item': {\n    element: 'li',\n    wrapper: UL_WRAP\n  },\n  'ordered-list-item': {\n    element: 'li',\n    wrapper: OL_WRAP\n  },\n  blockquote: {\n    element: 'blockquote'\n  },\n  atomic: {\n    element: 'figure'\n  },\n  'code-block': {\n    element: 'pre',\n    wrapper: PRE_WRAP\n  },\n  unstyled: {\n    element: 'div',\n    aliasedElements: ['p']\n  }\n});\n\nmodule.exports = DefaultDraftBlockRenderMap;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DefaultDraftInlineStyle\n * @format\n * \n */\n\n'use strict';\n\nmodule.exports = {\n  BOLD: {\n    fontWeight: 'bold'\n  },\n\n  CODE: {\n    fontFamily: 'monospace',\n    wordWrap: 'break-word'\n  },\n\n  ITALIC: {\n    fontStyle: 'italic'\n  },\n\n  STRIKETHROUGH: {\n    textDecoration: 'line-through'\n  },\n\n  UNDERLINE: {\n    textDecoration: 'underline'\n  }\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Draft\n * @format\n * \n */\n\n'use strict';\n\nvar AtomicBlockUtils = require('./AtomicBlockUtils');\nvar BlockMapBuilder = require('./BlockMapBuilder');\nvar CharacterMetadata = require('./CharacterMetadata');\nvar CompositeDraftDecorator = require('./CompositeDraftDecorator');\nvar ContentBlock = require('./ContentBlock');\nvar ContentState = require('./ContentState');\nvar DefaultDraftBlockRenderMap = require('./DefaultDraftBlockRenderMap');\nvar DefaultDraftInlineStyle = require('./DefaultDraftInlineStyle');\nvar DraftEditor = require('./DraftEditor.react');\nvar DraftEditorBlock = require('./DraftEditorBlock.react');\nvar DraftEntity = require('./DraftEntity');\nvar DraftModifier = require('./DraftModifier');\nvar DraftEntityInstance = require('./DraftEntityInstance');\nvar EditorState = require('./EditorState');\nvar KeyBindingUtil = require('./KeyBindingUtil');\nvar RichTextEditorUtil = require('./RichTextEditorUtil');\nvar SelectionState = require('./SelectionState');\n\nvar convertFromDraftStateToRaw = require('./convertFromDraftStateToRaw');\nvar convertFromHTMLToContentBlocks = require('./convertFromHTMLToContentBlocks');\nvar convertFromRawToDraftState = require('./convertFromRawToDraftState');\nvar generateRandomKey = require('./generateRandomKey');\nvar getDefaultKeyBinding = require('./getDefaultKeyBinding');\nvar getVisibleSelectionRect = require('./getVisibleSelectionRect');\n\nvar DraftPublic = {\n  Editor: DraftEditor,\n  EditorBlock: DraftEditorBlock,\n  EditorState: EditorState,\n\n  CompositeDecorator: CompositeDraftDecorator,\n  Entity: DraftEntity,\n  EntityInstance: DraftEntityInstance,\n\n  BlockMapBuilder: BlockMapBuilder,\n  CharacterMetadata: CharacterMetadata,\n  ContentBlock: ContentBlock,\n  ContentState: ContentState,\n  SelectionState: SelectionState,\n\n  AtomicBlockUtils: AtomicBlockUtils,\n  KeyBindingUtil: KeyBindingUtil,\n  Modifier: DraftModifier,\n  RichUtils: RichTextEditorUtil,\n\n  DefaultDraftBlockRenderMap: DefaultDraftBlockRenderMap,\n  DefaultDraftInlineStyle: DefaultDraftInlineStyle,\n\n  convertFromHTML: convertFromHTMLToContentBlocks,\n  convertFromRaw: convertFromRawToDraftState,\n  convertToRaw: convertFromDraftStateToRaw,\n  genKey: generateRandomKey,\n  getDefaultKeyBinding: getDefaultKeyBinding,\n  getVisibleSelectionRect: getVisibleSelectionRect\n};\n\nmodule.exports = DraftPublic;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditor.react\n * @format\n * \n * @preventMunge\n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DefaultDraftBlockRenderMap = require('./DefaultDraftBlockRenderMap');\nvar DefaultDraftInlineStyle = require('./DefaultDraftInlineStyle');\nvar DraftEditorCompositionHandler = require('./DraftEditorCompositionHandler');\nvar DraftEditorContents = require('./DraftEditorContents.react');\nvar DraftEditorDragHandler = require('./DraftEditorDragHandler');\nvar DraftEditorEditHandler = require('./DraftEditorEditHandler');\nvar DraftEditorPlaceholder = require('./DraftEditorPlaceholder.react');\nvar EditorState = require('./EditorState');\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Scroll = require('fbjs/lib/Scroll');\nvar Style = require('fbjs/lib/Style');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar cx = require('fbjs/lib/cx');\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar generateRandomKey = require('./generateRandomKey');\nvar getDefaultKeyBinding = require('./getDefaultKeyBinding');\nvar getScrollPosition = require('fbjs/lib/getScrollPosition');\nvar invariant = require('fbjs/lib/invariant');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nvar isIE = UserAgent.isBrowser('IE');\n\n// IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\nvar allowSpellCheck = !isIE;\n\n// Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\n\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\nvar DraftEditor = function (_React$Component) {\n  _inherits(DraftEditor, _React$Component);\n\n  function DraftEditor(props) {\n    _classCallCheck(this, DraftEditor);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.focus = function (scrollPosition) {\n      var editorState = _this.props.editorState;\n\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = ReactDOM.findDOMNode(_this.editor);\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !(editorNode instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus();\n\n      // Restore scroll position\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      }\n\n      // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    };\n\n    _this.blur = function () {\n      var editorNode = ReactDOM.findDOMNode(_this.editor);\n      !(editorNode instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    };\n\n    _this.setMode = function (mode) {\n      _this._handler = handlerMap[mode];\n    };\n\n    _this.exitCurrentMode = function () {\n      _this.setMode('edit');\n    };\n\n    _this.restoreEditorDOM = function (scrollPosition) {\n      _this.setState({ contentsKey: _this.state.contentsKey + 1 }, function () {\n        _this.focus(scrollPosition);\n      });\n    };\n\n    _this.setClipboard = function (clipboard) {\n      _this._clipboard = clipboard;\n    };\n\n    _this.getClipboard = function () {\n      return _this._clipboard;\n    };\n\n    _this.update = function (editorState) {\n      _this._latestEditorState = editorState;\n      _this.props.onChange(editorState);\n    };\n\n    _this.onDragEnter = function () {\n      _this._dragCount++;\n    };\n\n    _this.onDragLeave = function () {\n      _this._dragCount--;\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    };\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    // See `restoreEditorDOM()`.\n    _this.state = { contentsKey: 0 };\n    return _this;\n  }\n\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n\n\n  DraftEditor.prototype._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this;\n\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n        method && method(_this2, e);\n      }\n    };\n  };\n\n  DraftEditor.prototype._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  DraftEditor.prototype._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        text: nullthrows(this.props.placeholder),\n        editorState: this.props.editorState,\n        textAlignment: this.props.textAlignment,\n        accessibilityID: this._placeholderAccessibilityID\n      };\n\n      return React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n    return null;\n  };\n\n  DraftEditor.prototype.render = function render() {\n    var _this3 = this;\n\n    var _props = this.props,\n        blockRenderMap = _props.blockRenderMap,\n        blockRendererFn = _props.blockRendererFn,\n        blockStyleFn = _props.blockStyleFn,\n        customStyleFn = _props.customStyleFn,\n        customStyleMap = _props.customStyleMap,\n        editorState = _props.editorState,\n        readOnly = _props.readOnly,\n        textAlignment = _props.textAlignment,\n        textDirectionality = _props.textDirectionality;\n\n\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    };\n\n    // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _extends({}, DefaultDraftInlineStyle, customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      key: 'contents' + this.state.contentsKey,\n      textDirectionality: textDirectionality\n    };\n\n    return React.createElement(\n      'div',\n      { className: rootClass },\n      this._renderPlaceholder(),\n      React.createElement(\n        'div',\n        {\n          className: cx('DraftEditor/editorContainer'),\n          ref: function ref(_ref3) {\n            return _this3.editorContainer = _ref3;\n          } },\n        React.createElement(\n          'div',\n          {\n            'aria-activedescendant': readOnly ? null : this.props.ariaActiveDescendantID,\n            'aria-autocomplete': readOnly ? null : this.props.ariaAutoComplete,\n            'aria-controls': readOnly ? null : this.props.ariaControls,\n            'aria-describedby': this.props.ariaDescribedBy || this._placeholderAccessibilityID,\n            'aria-expanded': readOnly ? null : ariaExpanded,\n            'aria-label': this.props.ariaLabel,\n            'aria-labelledby': this.props.ariaLabelledBy,\n            'aria-multiline': this.props.ariaMultiline,\n            autoCapitalize: this.props.autoCapitalize,\n            autoComplete: this.props.autoComplete,\n            autoCorrect: this.props.autoCorrect,\n            className: cx({\n              // Chrome's built-in translation feature mutates the DOM in ways\n              // that Draft doesn't expect (ex: adding <font> tags inside\n              // DraftEditorLeaf spans) and causes problems. We add notranslate\n              // here which makes its autotranslation skip over this subtree.\n              notranslate: !readOnly,\n              'public/DraftEditor/content': true\n            }),\n            contentEditable: !readOnly,\n            'data-testid': this.props.webDriverTestID,\n            onBeforeInput: this._onBeforeInput,\n            onBlur: this._onBlur,\n            onCompositionEnd: this._onCompositionEnd,\n            onCompositionStart: this._onCompositionStart,\n            onCopy: this._onCopy,\n            onCut: this._onCut,\n            onDragEnd: this._onDragEnd,\n            onDragEnter: this.onDragEnter,\n            onDragLeave: this.onDragLeave,\n            onDragOver: this._onDragOver,\n            onDragStart: this._onDragStart,\n            onDrop: this._onDrop,\n            onFocus: this._onFocus,\n            onInput: this._onInput,\n            onKeyDown: this._onKeyDown,\n            onKeyPress: this._onKeyPress,\n            onKeyUp: this._onKeyUp,\n            onMouseUp: this._onMouseUp,\n            onPaste: this._onPaste,\n            onSelect: this._onSelect,\n            ref: function ref(_ref2) {\n              return _this3.editor = _ref2;\n            },\n            role: readOnly ? null : ariaRole,\n            spellCheck: allowSpellCheck && this.props.spellCheck,\n            style: contentStyle,\n            suppressContentEditableWarning: true,\n            tabIndex: this.props.tabIndex },\n          React.createElement(DraftEditorContents, editorContentsProps)\n        )\n      )\n    );\n  };\n\n  DraftEditor.prototype.componentDidMount = function componentDidMount() {\n    this.setMode('edit');\n\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n    if (isIE) {\n      document.execCommand('AutoUrlDetect', false, false);\n    }\n  };\n\n  /**\n   * Prevent selection events from affecting the current editor state. This\n   * is mostly intended to defend against IE, which fires off `selectionchange`\n   * events regardless of whether the selection is set via the browser or\n   * programmatically. We only care about selection events that occur because\n   * of browser interaction, not re-renders and forced selections.\n   */\n\n\n  DraftEditor.prototype.componentWillUpdate = function componentWillUpdate(nextProps) {\n    this._blockSelectEvents = true;\n    this._latestEditorState = nextProps.editorState;\n  };\n\n  DraftEditor.prototype.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestCommittedEditorState = this.props.editorState;\n  };\n\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n\n\n  /**\n   * Used via `this.setMode(...)`.\n   *\n   * Set the behavior mode for the editor component. This switches the current\n   * handler module to ensure that DOM events are managed appropriately for\n   * the active mode.\n   */\n\n\n  /**\n   * Used via `this.restoreEditorDOM()`.\n   *\n   * Force a complete re-render of the DraftEditorContents based on the current\n   * EditorState. This is useful when we know we are going to lose control of\n   * the DOM state (cut command, IME) and we want to make sure that\n   * reconciliation occurs on a version of the DOM that is synchronized with\n   * our EditorState.\n   */\n\n\n  /**\n   * Used via `this.setClipboard(...)`.\n   *\n   * Set the clipboard state for a cut/copy event.\n   */\n\n\n  /**\n   * Used via `this.getClipboard()`.\n   *\n   * Retrieve the clipboard state for a cut/copy event.\n   */\n\n\n  /**\n   * Used via `this.update(...)`.\n   *\n   * Propagate a new `EditorState` object to higher-level components. This is\n   * the method by which event handlers inform the `DraftEditor` component of\n   * state changes. A component that composes a `DraftEditor` **must** provide\n   * an `onChange` prop to receive state updates passed along from this\n   * function.\n   */\n\n\n  /**\n   * Used in conjunction with `onDragLeave()`, by counting the number of times\n   * a dragged element enters and leaves the editor (or any of its children),\n   * to determine when the dragged element absolutely leaves the editor.\n   */\n\n\n  /**\n   * See `onDragEnter()`.\n   */\n\n\n  return DraftEditor;\n}(React.Component);\n\nDraftEditor.defaultProps = {\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: emptyFunction.thatReturnsNull,\n  blockStyleFn: emptyFunction.thatReturns(''),\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n};\n\n\nmodule.exports = DraftEditor;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorBlock.react\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraftEditorLeaf = require('./DraftEditorLeaf.react');\nvar DraftOffsetKey = require('./DraftOffsetKey');\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Scroll = require('fbjs/lib/Scroll');\nvar Style = require('fbjs/lib/Style');\nvar UnicodeBidi = require('fbjs/lib/UnicodeBidi');\nvar UnicodeBidiDirection = require('fbjs/lib/UnicodeBidiDirection');\n\nvar cx = require('fbjs/lib/cx');\nvar getElementPosition = require('fbjs/lib/getElementPosition');\nvar getScrollPosition = require('fbjs/lib/getScrollPosition');\nvar getViewportDimensions = require('fbjs/lib/getViewportDimensions');\nvar invariant = require('fbjs/lib/invariant');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nvar SCROLL_BUFFER = 10;\n\n/**\n * Return whether a block overlaps with either edge of the `SelectionState`.\n */\nvar isBlockOnSelectionEdge = function isBlockOnSelectionEdge(selection, key) {\n  return selection.getAnchorKey() === key || selection.getFocusKey() === key;\n};\n\n/**\n * The default block renderer for a `DraftEditor` component.\n *\n * A `DraftEditorBlock` is able to render a given `ContentBlock` to its\n * appropriate decorator and inline style components.\n */\n\nvar DraftEditorBlock = function (_React$Component) {\n  _inherits(DraftEditorBlock, _React$Component);\n\n  function DraftEditorBlock() {\n    _classCallCheck(this, DraftEditorBlock);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  DraftEditorBlock.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.block !== nextProps.block || this.props.tree !== nextProps.tree || this.props.direction !== nextProps.direction || isBlockOnSelectionEdge(nextProps.selection, nextProps.block.getKey()) && nextProps.forceSelection;\n  };\n\n  /**\n   * When a block is mounted and overlaps the selection state, we need to make\n   * sure that the cursor is visible to match native behavior. This may not\n   * be the case if the user has pressed `RETURN` or pasted some content, since\n   * programatically creating these new blocks and setting the DOM selection\n   * will miss out on the browser natively scrolling to that position.\n   *\n   * To replicate native behavior, if the block overlaps the selection state\n   * on mount, force the scroll position. Check the scroll state of the scroll\n   * parent, and adjust it to align the entire block to the bottom of the\n   * scroll parent.\n   */\n\n\n  DraftEditorBlock.prototype.componentDidMount = function componentDidMount() {\n    var selection = this.props.selection;\n    var endKey = selection.getEndKey();\n    if (!selection.getHasFocus() || endKey !== this.props.block.getKey()) {\n      return;\n    }\n\n    var blockNode = ReactDOM.findDOMNode(this);\n    var scrollParent = Style.getScrollParent(blockNode);\n    var scrollPosition = getScrollPosition(scrollParent);\n    var scrollDelta = void 0;\n\n    if (scrollParent === window) {\n      var nodePosition = getElementPosition(blockNode);\n      var nodeBottom = nodePosition.y + nodePosition.height;\n      var viewportHeight = getViewportDimensions().height;\n      scrollDelta = nodeBottom - viewportHeight;\n      if (scrollDelta > 0) {\n        window.scrollTo(scrollPosition.x, scrollPosition.y + scrollDelta + SCROLL_BUFFER);\n      }\n    } else {\n      !(blockNode instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'blockNode is not an HTMLElement') : invariant(false) : void 0;\n      var blockBottom = blockNode.offsetHeight + blockNode.offsetTop;\n      var scrollBottom = scrollParent.offsetHeight + scrollPosition.y;\n      scrollDelta = blockBottom - scrollBottom;\n      if (scrollDelta > 0) {\n        Scroll.setTop(scrollParent, Scroll.getTop(scrollParent) + scrollDelta + SCROLL_BUFFER);\n      }\n    }\n  };\n\n  DraftEditorBlock.prototype._renderChildren = function _renderChildren() {\n    var _this2 = this;\n\n    var block = this.props.block;\n    var blockKey = block.getKey();\n    var text = block.getText();\n    var lastLeafSet = this.props.tree.size - 1;\n    var hasSelection = isBlockOnSelectionEdge(this.props.selection, blockKey);\n\n    return this.props.tree.map(function (leafSet, ii) {\n      var leavesForLeafSet = leafSet.get('leaves');\n      var lastLeaf = leavesForLeafSet.size - 1;\n      var leaves = leavesForLeafSet.map(function (leaf, jj) {\n        var offsetKey = DraftOffsetKey.encode(blockKey, ii, jj);\n        var start = leaf.get('start');\n        var end = leaf.get('end');\n        return React.createElement(DraftEditorLeaf, {\n          key: offsetKey,\n          offsetKey: offsetKey,\n          block: block,\n          start: start,\n          selection: hasSelection ? _this2.props.selection : null,\n          forceSelection: _this2.props.forceSelection,\n          text: text.slice(start, end),\n          styleSet: block.getInlineStyleAt(start),\n          customStyleMap: _this2.props.customStyleMap,\n          customStyleFn: _this2.props.customStyleFn,\n          isLast: ii === lastLeafSet && jj === lastLeaf\n        });\n      }).toArray();\n\n      var decoratorKey = leafSet.get('decoratorKey');\n      if (decoratorKey == null) {\n        return leaves;\n      }\n\n      if (!_this2.props.decorator) {\n        return leaves;\n      }\n\n      var decorator = nullthrows(_this2.props.decorator);\n\n      var DecoratorComponent = decorator.getComponentForKey(decoratorKey);\n      if (!DecoratorComponent) {\n        return leaves;\n      }\n\n      var decoratorProps = decorator.getPropsForKey(decoratorKey);\n      var decoratorOffsetKey = DraftOffsetKey.encode(blockKey, ii, 0);\n      var decoratedText = text.slice(leavesForLeafSet.first().get('start'), leavesForLeafSet.last().get('end'));\n\n      // Resetting dir to the same value on a child node makes Chrome/Firefox\n      // confused on cursor movement. See http://jsfiddle.net/d157kLck/3/\n      var dir = UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText), _this2.props.direction);\n\n      return React.createElement(\n        DecoratorComponent,\n        _extends({}, decoratorProps, {\n          contentState: _this2.props.contentState,\n          decoratedText: decoratedText,\n          dir: dir,\n          key: decoratorOffsetKey,\n          entityKey: block.getEntityAt(leafSet.get('start')),\n          offsetKey: decoratorOffsetKey }),\n        leaves\n      );\n    }).toArray();\n  };\n\n  DraftEditorBlock.prototype.render = function render() {\n    var _props = this.props,\n        direction = _props.direction,\n        offsetKey = _props.offsetKey;\n\n    var className = cx({\n      'public/DraftStyleDefault/block': true,\n      'public/DraftStyleDefault/ltr': direction === 'LTR',\n      'public/DraftStyleDefault/rtl': direction === 'RTL'\n    });\n\n    return React.createElement(\n      'div',\n      { 'data-offset-key': offsetKey, className: className },\n      this._renderChildren()\n    );\n  };\n\n  return DraftEditorBlock;\n}(React.Component);\n\nmodule.exports = DraftEditorBlock;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorCompositionHandler\n * @format\n * \n */\n\n'use strict';\n\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar Keys = require('fbjs/lib/Keys');\n\nvar getEntityKeyForSelection = require('./getEntityKeyForSelection');\nvar isEventHandled = require('./isEventHandled');\nvar isSelectionAtLeafStart = require('./isSelectionAtLeafStart');\n\n/**\n * Millisecond delay to allow `compositionstart` to fire again upon\n * `compositionend`.\n *\n * This is used for Korean input to ensure that typing can continue without\n * the editor trying to render too quickly. More specifically, Safari 7.1+\n * triggers `compositionstart` a little slower than Chrome/FF, which\n * leads to composed characters being resolved and re-render occurring\n * sooner than we want.\n */\nvar RESOLVE_DELAY = 20;\n\n/**\n * A handful of variables used to track the current composition and its\n * resolution status. These exist at the module level because it is not\n * possible to have compositions occurring in multiple editors simultaneously,\n * and it simplifies state management with respect to the DraftEditor component.\n */\nvar resolved = false;\nvar stillComposing = false;\nvar textInputData = '';\n\nvar DraftEditorCompositionHandler = {\n  onBeforeInput: function onBeforeInput(editor, e) {\n    textInputData = (textInputData || '') + e.data;\n  },\n\n  /**\n   * A `compositionstart` event has fired while we're still in composition\n   * mode. Continue the current composition session to prevent a re-render.\n   */\n  onCompositionStart: function onCompositionStart(editor) {\n    stillComposing = true;\n  },\n\n  /**\n   * Attempt to end the current composition session.\n   *\n   * Defer handling because browser will still insert the chars into active\n   * element after `compositionend`. If a `compositionstart` event fires\n   * before `resolveComposition` executes, our composition session will\n   * continue.\n   *\n   * The `resolved` flag is useful because certain IME interfaces fire the\n   * `compositionend` event multiple times, thus queueing up multiple attempts\n   * at handling the composition. Since handling the same composition event\n   * twice could break the DOM, we only use the first event. Example: Arabic\n   * Google Input Tools on Windows 8.1 fires `compositionend` three times.\n   */\n  onCompositionEnd: function onCompositionEnd(editor) {\n    resolved = false;\n    stillComposing = false;\n    setTimeout(function () {\n      if (!resolved) {\n        DraftEditorCompositionHandler.resolveComposition(editor);\n      }\n    }, RESOLVE_DELAY);\n  },\n\n  /**\n   * In Safari, keydown events may fire when committing compositions. If\n   * the arrow keys are used to commit, prevent default so that the cursor\n   * doesn't move, otherwise it will jump back noticeably on re-render.\n   */\n  onKeyDown: function onKeyDown(editor, e) {\n    if (!stillComposing) {\n      // If a keydown event is received after compositionend but before the\n      // 20ms timer expires (ex: type option-E then backspace, or type A then\n      // backspace in 2-Set Korean), we should immediately resolve the\n      // composition and reinterpret the key press in edit mode.\n      DraftEditorCompositionHandler.resolveComposition(editor);\n      editor._onKeyDown(e);\n      return;\n    }\n    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Keypress events may fire when committing compositions. In Firefox,\n   * pressing RETURN commits the composition and inserts extra newline\n   * characters that we do not want. `preventDefault` allows the composition\n   * to be committed while preventing the extra characters.\n   */\n  onKeyPress: function onKeyPress(editor, e) {\n    if (e.which === Keys.RETURN) {\n      e.preventDefault();\n    }\n  },\n\n  /**\n   * Attempt to insert composed characters into the document.\n   *\n   * If we are still in a composition session, do nothing. Otherwise, insert\n   * the characters into the document and terminate the composition session.\n   *\n   * If no characters were composed -- for instance, the user\n   * deleted all composed characters and committed nothing new --\n   * force a re-render. We also re-render when the composition occurs\n   * at the beginning of a leaf, to ensure that if the browser has\n   * created a new text node for the composition, we will discard it.\n   *\n   * Resetting innerHTML will move focus to the beginning of the editor,\n   * so we update to force it back to the correct place.\n   */\n  resolveComposition: function resolveComposition(editor) {\n    if (stillComposing) {\n      return;\n    }\n\n    resolved = true;\n    var composedChars = textInputData;\n    textInputData = '';\n\n    var editorState = EditorState.set(editor._latestEditorState, {\n      inCompositionMode: false\n    });\n\n    var currentStyle = editorState.getCurrentInlineStyle();\n    var entityKey = getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection());\n\n    var mustReset = !composedChars || isSelectionAtLeafStart(editorState) || currentStyle.size > 0 || entityKey !== null;\n\n    if (mustReset) {\n      editor.restoreEditorDOM();\n    }\n\n    editor.exitCurrentMode();\n\n    if (composedChars) {\n      if (DraftFeatureFlags.draft_handlebeforeinput_composed_text && editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(composedChars, editorState))) {\n        return;\n      }\n      // If characters have been composed, re-rendering with the update\n      // is sufficient to reset the editor.\n      var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), composedChars, currentStyle, entityKey);\n      editor.update(EditorState.push(editorState, contentState, 'insert-characters'));\n      return;\n    }\n\n    if (mustReset) {\n      editor.update(EditorState.set(editorState, {\n        nativelyRenderedContent: null,\n        forceSelection: true\n      }));\n    }\n  }\n};\n\nmodule.exports = DraftEditorCompositionHandler;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorContents-core.react\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraftEditorBlock = require('./DraftEditorBlock.react');\nvar DraftOffsetKey = require('./DraftOffsetKey');\nvar EditorState = require('./EditorState');\nvar React = require('react');\n\nvar cx = require('fbjs/lib/cx');\nvar joinClasses = require('fbjs/lib/joinClasses');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\n/**\n * Provide default styling for list items. This way, lists will be styled with\n * proper counters and indentation even if the caller does not specify\n * their own styling at all. If more than five levels of nesting are needed,\n * the necessary CSS classes can be provided via `blockStyleFn` configuration.\n */\nvar getListItemClasses = function getListItemClasses(type, depth, shouldResetCount, direction) {\n  return cx({\n    'public/DraftStyleDefault/unorderedListItem': type === 'unordered-list-item',\n    'public/DraftStyleDefault/orderedListItem': type === 'ordered-list-item',\n    'public/DraftStyleDefault/reset': shouldResetCount,\n    'public/DraftStyleDefault/depth0': depth === 0,\n    'public/DraftStyleDefault/depth1': depth === 1,\n    'public/DraftStyleDefault/depth2': depth === 2,\n    'public/DraftStyleDefault/depth3': depth === 3,\n    'public/DraftStyleDefault/depth4': depth === 4,\n    'public/DraftStyleDefault/listLTR': direction === 'LTR',\n    'public/DraftStyleDefault/listRTL': direction === 'RTL'\n  });\n};\n\n/**\n * `DraftEditorContents` is the container component for all block components\n * rendered for a `DraftEditor`. It is optimized to aggressively avoid\n * re-rendering blocks whenever possible.\n *\n * This component is separate from `DraftEditor` because certain props\n * (for instance, ARIA props) must be allowed to update without affecting\n * the contents of the editor.\n */\n\nvar DraftEditorContents = function (_React$Component) {\n  _inherits(DraftEditorContents, _React$Component);\n\n  function DraftEditorContents() {\n    _classCallCheck(this, DraftEditorContents);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  DraftEditorContents.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var prevEditorState = this.props.editorState;\n    var nextEditorState = nextProps.editorState;\n\n    var prevDirectionMap = prevEditorState.getDirectionMap();\n    var nextDirectionMap = nextEditorState.getDirectionMap();\n\n    // Text direction has changed for one or more blocks. We must re-render.\n    if (prevDirectionMap !== nextDirectionMap) {\n      return true;\n    }\n\n    var didHaveFocus = prevEditorState.getSelection().getHasFocus();\n    var nowHasFocus = nextEditorState.getSelection().getHasFocus();\n\n    if (didHaveFocus !== nowHasFocus) {\n      return true;\n    }\n\n    var nextNativeContent = nextEditorState.getNativelyRenderedContent();\n\n    var wasComposing = prevEditorState.isInCompositionMode();\n    var nowComposing = nextEditorState.isInCompositionMode();\n\n    // If the state is unchanged or we're currently rendering a natively\n    // rendered state, there's nothing new to be done.\n    if (prevEditorState === nextEditorState || nextNativeContent !== null && nextEditorState.getCurrentContent() === nextNativeContent || wasComposing && nowComposing) {\n      return false;\n    }\n\n    var prevContent = prevEditorState.getCurrentContent();\n    var nextContent = nextEditorState.getCurrentContent();\n    var prevDecorator = prevEditorState.getDecorator();\n    var nextDecorator = nextEditorState.getDecorator();\n    return wasComposing !== nowComposing || prevContent !== nextContent || prevDecorator !== nextDecorator || nextEditorState.mustForceSelection();\n  };\n\n  DraftEditorContents.prototype.render = function render() {\n    var _props = this.props,\n        blockRenderMap = _props.blockRenderMap,\n        blockRendererFn = _props.blockRendererFn,\n        blockStyleFn = _props.blockStyleFn,\n        customStyleMap = _props.customStyleMap,\n        customStyleFn = _props.customStyleFn,\n        editorState = _props.editorState,\n        editorKey = _props.editorKey,\n        textDirectionality = _props.textDirectionality;\n\n\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var forceSelection = editorState.mustForceSelection();\n    var decorator = editorState.getDecorator();\n    var directionMap = nullthrows(editorState.getDirectionMap());\n\n    var blocksAsArray = content.getBlocksAsArray();\n    var processedBlocks = [];\n\n    var currentDepth = null;\n    var lastWrapperTemplate = null;\n\n    for (var ii = 0; ii < blocksAsArray.length; ii++) {\n      var _block = blocksAsArray[ii];\n      var key = _block.getKey();\n      var blockType = _block.getType();\n\n      var customRenderer = blockRendererFn(_block);\n      var CustomComponent = void 0,\n          customProps = void 0,\n          customEditable = void 0;\n      if (customRenderer) {\n        CustomComponent = customRenderer.component;\n        customProps = customRenderer.props;\n        customEditable = customRenderer.editable;\n      }\n\n      var direction = textDirectionality ? textDirectionality : directionMap.get(key);\n      var offsetKey = DraftOffsetKey.encode(key, 0, 0);\n      var componentProps = {\n        contentState: content,\n        block: _block,\n        blockProps: customProps,\n        blockStyleFn: blockStyleFn,\n        customStyleMap: customStyleMap,\n        customStyleFn: customStyleFn,\n        decorator: decorator,\n        direction: direction,\n        forceSelection: forceSelection,\n        key: key,\n        offsetKey: offsetKey,\n        selection: selection,\n        tree: editorState.getBlockTree(key)\n      };\n\n      var configForType = blockRenderMap.get(blockType) || blockRenderMap.get('unstyled');\n      var wrapperTemplate = configForType.wrapper;\n\n      var Element = configForType.element || blockRenderMap.get('unstyled').element;\n\n      var depth = _block.getDepth();\n      var className = '';\n      if (blockStyleFn) {\n        className = blockStyleFn(_block);\n      }\n\n      // List items are special snowflakes, since we handle nesting and\n      // counters manually.\n      if (Element === 'li') {\n        var shouldResetCount = lastWrapperTemplate !== wrapperTemplate || currentDepth === null || depth > currentDepth;\n        className = joinClasses(className, getListItemClasses(blockType, depth, shouldResetCount, direction));\n      }\n\n      var Component = CustomComponent || DraftEditorBlock;\n      var childProps = {\n        className: className,\n        'data-block': true,\n        'data-editor': editorKey,\n        'data-offset-key': offsetKey,\n        key: key\n      };\n      if (customEditable !== undefined) {\n        childProps = _extends({}, childProps, {\n          contentEditable: customEditable,\n          suppressContentEditableWarning: true\n        });\n      }\n\n      var child = React.createElement(Element, childProps, React.createElement(Component, componentProps));\n\n      processedBlocks.push({\n        block: child,\n        wrapperTemplate: wrapperTemplate,\n        key: key,\n        offsetKey: offsetKey\n      });\n\n      if (wrapperTemplate) {\n        currentDepth = _block.getDepth();\n      } else {\n        currentDepth = null;\n      }\n      lastWrapperTemplate = wrapperTemplate;\n    }\n\n    // Group contiguous runs of blocks that have the same wrapperTemplate\n    var outputBlocks = [];\n    for (var _ii = 0; _ii < processedBlocks.length;) {\n      var info = processedBlocks[_ii];\n      if (info.wrapperTemplate) {\n        var blocks = [];\n        do {\n          blocks.push(processedBlocks[_ii].block);\n          _ii++;\n        } while (_ii < processedBlocks.length && processedBlocks[_ii].wrapperTemplate === info.wrapperTemplate);\n        var wrapperElement = React.cloneElement(info.wrapperTemplate, {\n          key: info.key + '-wrap',\n          'data-offset-key': info.offsetKey\n        }, blocks);\n        outputBlocks.push(wrapperElement);\n      } else {\n        outputBlocks.push(info.block);\n        _ii++;\n      }\n    }\n\n    return React.createElement(\n      'div',\n      { 'data-contents': 'true' },\n      outputBlocks\n    );\n  };\n\n  return DraftEditorContents;\n}(React.Component);\n\nmodule.exports = DraftEditorContents;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorContents.react\n * @format\n * \n */\n\n'use strict';\n\nvar DraftEditorContents = require('./DraftEditorContents-core.react');\n\nmodule.exports = DraftEditorContents;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorDragHandler\n * @format\n * \n */\n\n'use strict';\n\nvar DataTransfer = require('fbjs/lib/DataTransfer');\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\n\nvar findAncestorOffsetKey = require('./findAncestorOffsetKey');\nvar getTextContentFromFiles = require('./getTextContentFromFiles');\nvar getUpdatedSelectionState = require('./getUpdatedSelectionState');\nvar isEventHandled = require('./isEventHandled');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\n/**\n * Get a SelectionState for the supplied mouse event.\n */\nfunction getSelectionForEvent(event, editorState) {\n  var node = null;\n  var offset = null;\n\n  if (typeof document.caretRangeFromPoint === 'function') {\n    var dropRange = document.caretRangeFromPoint(event.x, event.y);\n    node = dropRange.startContainer;\n    offset = dropRange.startOffset;\n  } else if (event.rangeParent) {\n    node = event.rangeParent;\n    offset = event.rangeOffset;\n  } else {\n    return null;\n  }\n\n  node = nullthrows(node);\n  offset = nullthrows(offset);\n  var offsetKey = nullthrows(findAncestorOffsetKey(node));\n\n  return getUpdatedSelectionState(editorState, offsetKey, offset, offsetKey, offset);\n}\n\nvar DraftEditorDragHandler = {\n  /**\n   * Drag originating from input terminated.\n   */\n  onDragEnd: function onDragEnd(editor) {\n    editor.exitCurrentMode();\n  },\n\n  /**\n   * Handle data being dropped.\n   */\n  onDrop: function onDrop(editor, e) {\n    var data = new DataTransfer(e.nativeEvent.dataTransfer);\n\n    var editorState = editor._latestEditorState;\n    var dropSelection = getSelectionForEvent(e.nativeEvent, editorState);\n\n    e.preventDefault();\n    editor.exitCurrentMode();\n\n    if (dropSelection == null) {\n      return;\n    }\n\n    var files = data.getFiles();\n    if (files.length > 0) {\n      if (editor.props.handleDroppedFiles && isEventHandled(editor.props.handleDroppedFiles(dropSelection, files))) {\n        return;\n      }\n\n      getTextContentFromFiles(files, function (fileText) {\n        fileText && editor.update(insertTextAtSelection(editorState, dropSelection, fileText));\n      });\n      return;\n    }\n\n    var dragType = editor._internalDrag ? 'internal' : 'external';\n    if (editor.props.handleDrop && isEventHandled(editor.props.handleDrop(dropSelection, data, dragType))) {\n      return;\n    }\n\n    if (editor._internalDrag) {\n      editor.update(moveText(editorState, dropSelection));\n      return;\n    }\n\n    editor.update(insertTextAtSelection(editorState, dropSelection, data.getText()));\n  }\n};\n\nfunction moveText(editorState, targetSelection) {\n  var newContentState = DraftModifier.moveText(editorState.getCurrentContent(), editorState.getSelection(), targetSelection);\n  return EditorState.push(editorState, newContentState, 'insert-fragment');\n}\n\n/**\n * Insert text at a specified selection.\n */\nfunction insertTextAtSelection(editorState, selection, text) {\n  var newContentState = DraftModifier.insertText(editorState.getCurrentContent(), selection, text, editorState.getCurrentInlineStyle());\n  return EditorState.push(editorState, newContentState, 'insert-fragment');\n}\n\nmodule.exports = DraftEditorDragHandler;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorEditHandler\n * @format\n * \n */\n\n'use strict';\n\nvar onBeforeInput = require('./editOnBeforeInput');\nvar onBlur = require('./editOnBlur');\nvar onCompositionStart = require('./editOnCompositionStart');\nvar onCopy = require('./editOnCopy');\nvar onCut = require('./editOnCut');\nvar onDragOver = require('./editOnDragOver');\nvar onDragStart = require('./editOnDragStart');\nvar onFocus = require('./editOnFocus');\nvar onInput = require('./editOnInput');\nvar onKeyDown = require('./editOnKeyDown');\nvar onPaste = require('./editOnPaste');\nvar onSelect = require('./editOnSelect');\n\nvar DraftEditorEditHandler = {\n  onBeforeInput: onBeforeInput,\n  onBlur: onBlur,\n  onCompositionStart: onCompositionStart,\n  onCopy: onCopy,\n  onCut: onCut,\n  onDragOver: onDragOver,\n  onDragStart: onDragStart,\n  onFocus: onFocus,\n  onInput: onInput,\n  onKeyDown: onKeyDown,\n  onPaste: onPaste,\n  onSelect: onSelect\n};\n\nmodule.exports = DraftEditorEditHandler;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorLeaf.react\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraftEditorTextNode = require('./DraftEditorTextNode.react');\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar invariant = require('fbjs/lib/invariant');\nvar setDraftEditorSelection = require('./setDraftEditorSelection');\n\n/**\n * All leaf nodes in the editor are spans with single text nodes. Leaf\n * elements are styled based on the merging of an optional custom style map\n * and a default style map.\n *\n * `DraftEditorLeaf` also provides a wrapper for calling into the imperative\n * DOM Selection API. In this way, top-level components can declaratively\n * maintain the selection state.\n */\nvar DraftEditorLeaf = function (_React$Component) {\n  _inherits(DraftEditorLeaf, _React$Component);\n\n  function DraftEditorLeaf() {\n    _classCallCheck(this, DraftEditorLeaf);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  DraftEditorLeaf.prototype._setSelection = function _setSelection() {\n    var selection = this.props.selection;\n\n    // If selection state is irrelevant to the parent block, no-op.\n\n    if (selection == null || !selection.getHasFocus()) {\n      return;\n    }\n\n    var _props = this.props,\n        block = _props.block,\n        start = _props.start,\n        text = _props.text;\n\n    var blockKey = block.getKey();\n    var end = start + text.length;\n    if (!selection.hasEdgeWithin(blockKey, start, end)) {\n      return;\n    }\n\n    // Determine the appropriate target node for selection. If the child\n    // is not a text node, it is a <br /> spacer. In this case, use the\n    // <span> itself as the selection target.\n    var node = ReactDOM.findDOMNode(this);\n    !node ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing node') : invariant(false) : void 0;\n    var child = node.firstChild;\n    !child ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing child') : invariant(false) : void 0;\n    var targetNode = void 0;\n\n    if (child.nodeType === Node.TEXT_NODE) {\n      targetNode = child;\n    } else if (child.tagName === 'BR') {\n      targetNode = node;\n    } else {\n      targetNode = child.firstChild;\n      !targetNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing targetNode') : invariant(false) : void 0;\n    }\n\n    setDraftEditorSelection(selection, targetNode, blockKey, start, end);\n  };\n  /**\n   * By making individual leaf instances aware of their context within\n   * the text of the editor, we can set our selection range more\n   * easily than we could in the non-React world.\n   *\n   * Note that this depends on our maintaining tight control over the\n   * DOM structure of the DraftEditor component. If leaves had multiple\n   * text nodes, this would be harder.\n   */\n\n  DraftEditorLeaf.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var leafNode = ReactDOM.findDOMNode(this.leaf);\n    !leafNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing leafNode') : invariant(false) : void 0;\n    return leafNode.textContent !== nextProps.text || nextProps.styleSet !== this.props.styleSet || nextProps.forceSelection;\n  };\n\n  DraftEditorLeaf.prototype.componentDidUpdate = function componentDidUpdate() {\n    this._setSelection();\n  };\n\n  DraftEditorLeaf.prototype.componentDidMount = function componentDidMount() {\n    this._setSelection();\n  };\n\n  DraftEditorLeaf.prototype.render = function render() {\n    var _this2 = this;\n\n    var block = this.props.block;\n    var text = this.props.text;\n\n    // If the leaf is at the end of its block and ends in a soft newline, append\n    // an extra line feed character. Browsers collapse trailing newline\n    // characters, which leaves the cursor in the wrong place after a\n    // shift+enter. The extra character repairs this.\n\n    if (text.endsWith('\\n') && this.props.isLast) {\n      text += '\\n';\n    }\n\n    var _props2 = this.props,\n        customStyleMap = _props2.customStyleMap,\n        customStyleFn = _props2.customStyleFn,\n        offsetKey = _props2.offsetKey,\n        styleSet = _props2.styleSet;\n\n    var styleObj = styleSet.reduce(function (map, styleName) {\n      var mergedStyles = {};\n      var style = customStyleMap[styleName];\n\n      if (style !== undefined && map.textDecoration !== style.textDecoration) {\n        // .trim() is necessary for IE9/10/11 and Edge\n        mergedStyles.textDecoration = [map.textDecoration, style.textDecoration].join(' ').trim();\n      }\n\n      return _assign(map, style, mergedStyles);\n    }, {});\n\n    if (customStyleFn) {\n      var newStyles = customStyleFn(styleSet, block);\n      styleObj = _assign(styleObj, newStyles);\n    }\n\n    return React.createElement(\n      'span',\n      {\n        'data-offset-key': offsetKey,\n        ref: function ref(_ref) {\n          return _this2.leaf = _ref;\n        },\n        style: styleObj },\n      React.createElement(\n        DraftEditorTextNode,\n        null,\n        text\n      )\n    );\n  };\n\n  return DraftEditorLeaf;\n}(React.Component);\n\nmodule.exports = DraftEditorLeaf;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorPlaceholder.react\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\n\nvar cx = require('fbjs/lib/cx');\n\n/**\n * This component is responsible for rendering placeholder text for the\n * `DraftEditor` component.\n *\n * Override placeholder style via CSS.\n */\nvar DraftEditorPlaceholder = function (_React$Component) {\n  _inherits(DraftEditorPlaceholder, _React$Component);\n\n  function DraftEditorPlaceholder() {\n    _classCallCheck(this, DraftEditorPlaceholder);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  DraftEditorPlaceholder.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.text !== nextProps.text || this.props.editorState.getSelection().getHasFocus() !== nextProps.editorState.getSelection().getHasFocus();\n  };\n\n  DraftEditorPlaceholder.prototype.render = function render() {\n    var hasFocus = this.props.editorState.getSelection().getHasFocus();\n\n    var className = cx({\n      'public/DraftEditorPlaceholder/root': true,\n      'public/DraftEditorPlaceholder/hasFocus': hasFocus\n    });\n\n    var contentStyle = {\n      whiteSpace: 'pre-wrap'\n    };\n\n    return React.createElement(\n      'div',\n      { className: className },\n      React.createElement(\n        'div',\n        {\n          className: cx('public/DraftEditorPlaceholder/inner'),\n          id: this.props.accessibilityID,\n          style: contentStyle },\n        this.props.text\n      )\n    );\n  };\n\n  return DraftEditorPlaceholder;\n}(React.Component);\n\nmodule.exports = DraftEditorPlaceholder;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEditorTextNode.react\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar invariant = require('fbjs/lib/invariant');\n\n// In IE, spans with <br> tags render as two newlines. By rendering a span\n// with only a newline character, we can be sure to render a single line.\nvar useNewlineChar = UserAgent.isBrowser('IE <= 11');\n\n/**\n * Check whether the node should be considered a newline.\n */\nfunction isNewline(node) {\n  return useNewlineChar ? node.textContent === '\\n' : node.tagName === 'BR';\n}\n\n/**\n * Placeholder elements for empty text content.\n *\n * What is this `data-text` attribute, anyway? It turns out that we need to\n * put an attribute on the lowest-level text node in order to preserve correct\n * spellcheck handling. If the <span> is naked, Chrome and Safari may do\n * bizarre things to do the DOM -- split text nodes, create extra spans, etc.\n * If the <span> has an attribute, this appears not to happen.\n * See http://jsfiddle.net/9khdavod/ for the failure case, and\n * http://jsfiddle.net/7pg143f7/ for the fixed case.\n */\nvar NEWLINE_A = useNewlineChar ? React.createElement(\n  'span',\n  { key: 'A', 'data-text': 'true' },\n  '\\n'\n) : React.createElement('br', { key: 'A', 'data-text': 'true' });\n\nvar NEWLINE_B = useNewlineChar ? React.createElement(\n  'span',\n  { key: 'B', 'data-text': 'true' },\n  '\\n'\n) : React.createElement('br', { key: 'B', 'data-text': 'true' });\n\n/**\n * The lowest-level component in a `DraftEditor`, the text node component\n * replaces the default React text node implementation. This allows us to\n * perform custom handling of newline behavior and avoid re-rendering text\n * nodes with DOM state that already matches the expectations of our immutable\n * editor state.\n */\nvar DraftEditorTextNode = function (_React$Component) {\n  _inherits(DraftEditorTextNode, _React$Component);\n\n  function DraftEditorTextNode(props) {\n    _classCallCheck(this, DraftEditorTextNode);\n\n    // By flipping this flag, we also keep flipping keys which forces\n    // React to remount this node every time it rerenders.\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this._forceFlag = false;\n    return _this;\n  }\n\n  DraftEditorTextNode.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    var node = ReactDOM.findDOMNode(this);\n    var shouldBeNewline = nextProps.children === '';\n    !(node instanceof Element) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'node is not an Element') : invariant(false) : void 0;\n    if (shouldBeNewline) {\n      return !isNewline(node);\n    }\n    return node.textContent !== nextProps.children;\n  };\n\n  DraftEditorTextNode.prototype.componentDidMount = function componentDidMount() {\n    this._forceFlag = !this._forceFlag;\n  };\n\n  DraftEditorTextNode.prototype.componentDidUpdate = function componentDidUpdate() {\n    this._forceFlag = !this._forceFlag;\n  };\n\n  DraftEditorTextNode.prototype.render = function render() {\n    if (this.props.children === '') {\n      return this._forceFlag ? NEWLINE_A : NEWLINE_B;\n    }\n    return React.createElement(\n      'span',\n      { key: this._forceFlag ? 'A' : 'B', 'data-text': 'true' },\n      this.props.children\n    );\n  };\n\n  return DraftEditorTextNode;\n}(React.Component);\n\nmodule.exports = DraftEditorTextNode;","'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEntity\n * @format\n * \n */\n\nvar DraftEntityInstance = require('./DraftEntityInstance');\nvar Immutable = require('immutable');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar Map = Immutable.Map;\n\n\nvar instances = Map();\nvar instanceKey = 0;\n\n/**\n * Temporary utility for generating the warnings\n */\nfunction logWarning(oldMethodCall, newMethodCall) {\n  console.warn('WARNING: ' + oldMethodCall + ' will be deprecated soon!\\nPlease use \"' + newMethodCall + '\" instead.');\n}\n\n/**\n * A \"document entity\" is an object containing metadata associated with a\n * piece of text in a ContentBlock.\n *\n * For example, a `link` entity might include a `uri` property. When a\n * ContentBlock is rendered in the browser, text that refers to that link\n * entity may be rendered as an anchor, with the `uri` as the href value.\n *\n * In a ContentBlock, every position in the text may correspond to zero\n * or one entities. This correspondence is tracked using a key string,\n * generated via DraftEntity.create() and used to obtain entity metadata\n * via DraftEntity.get().\n */\nvar DraftEntity = {\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.getLastCreatedEntityKey' instead.\n   * ---\n   * Get the random key string from whatever entity was last created.\n   * We need this to support the new API, as part of transitioning to put Entity\n   * storage in contentState.\n   */\n  getLastCreatedEntityKey: function getLastCreatedEntityKey() {\n    logWarning('DraftEntity.getLastCreatedEntityKey', 'contentState.getLastCreatedEntityKey');\n    return DraftEntity.__getLastCreatedEntityKey();\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.createEntity' instead.\n   * ---\n   * Create a DraftEntityInstance and store it for later retrieval.\n   *\n   * A random key string will be generated and returned. This key may\n   * be used to track the entity's usage in a ContentBlock, and for\n   * retrieving data about the entity at render time.\n   */\n  create: function create(type, mutability, data) {\n    logWarning('DraftEntity.create', 'contentState.createEntity');\n    return DraftEntity.__create(type, mutability, data);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.addEntity' instead.\n   * ---\n   * Add an existing DraftEntityInstance to the DraftEntity map. This is\n   * useful when restoring instances from the server.\n   */\n  add: function add(instance) {\n    logWarning('DraftEntity.add', 'contentState.addEntity');\n    return DraftEntity.__add(instance);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.getEntity' instead.\n   * ---\n   * Retrieve the entity corresponding to the supplied key string.\n   */\n  get: function get(key) {\n    logWarning('DraftEntity.get', 'contentState.getEntity');\n    return DraftEntity.__get(key);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.mergeEntityData' instead.\n   * ---\n   * Entity instances are immutable. If you need to update the data for an\n   * instance, this method will merge your data updates and return a new\n   * instance.\n   */\n  mergeData: function mergeData(key, toMerge) {\n    logWarning('DraftEntity.mergeData', 'contentState.mergeEntityData');\n    return DraftEntity.__mergeData(key, toMerge);\n  },\n\n  /**\n   * WARNING: This method will be deprecated soon!\n   * Please use 'contentState.replaceEntityData' instead.\n   * ---\n   * Completely replace the data for a given instance.\n   */\n  replaceData: function replaceData(key, newData) {\n    logWarning('DraftEntity.replaceData', 'contentState.replaceEntityData');\n    return DraftEntity.__replaceData(key, newData);\n  },\n\n  // ***********************************WARNING******************************\n  // --- the above public API will be deprecated in the next version of Draft!\n  // The methods below this line are private - don't call them directly.\n\n  /**\n   * Get the random key string from whatever entity was last created.\n   * We need this to support the new API, as part of transitioning to put Entity\n   * storage in contentState.\n   */\n  __getLastCreatedEntityKey: function __getLastCreatedEntityKey() {\n    return '' + instanceKey;\n  },\n\n  /**\n   * Create a DraftEntityInstance and store it for later retrieval.\n   *\n   * A random key string will be generated and returned. This key may\n   * be used to track the entity's usage in a ContentBlock, and for\n   * retrieving data about the entity at render time.\n   */\n  __create: function __create(type, mutability, data) {\n    return DraftEntity.__add(new DraftEntityInstance({ type: type, mutability: mutability, data: data || {} }));\n  },\n\n  /**\n   * Add an existing DraftEntityInstance to the DraftEntity map. This is\n   * useful when restoring instances from the server.\n   */\n  __add: function __add(instance) {\n    var key = '' + ++instanceKey;\n    instances = instances.set(key, instance);\n    return key;\n  },\n\n  /**\n   * Retrieve the entity corresponding to the supplied key string.\n   */\n  __get: function __get(key) {\n    var instance = instances.get(key);\n    !!!instance ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Unknown DraftEntity key: %s.', key) : invariant(false) : void 0;\n    return instance;\n  },\n\n  /**\n   * Entity instances are immutable. If you need to update the data for an\n   * instance, this method will merge your data updates and return a new\n   * instance.\n   */\n  __mergeData: function __mergeData(key, toMerge) {\n    var instance = DraftEntity.__get(key);\n    var newData = _extends({}, instance.getData(), toMerge);\n    var newInstance = instance.set('data', newData);\n    instances = instances.set(key, newInstance);\n    return newInstance;\n  },\n\n  /**\n   * Completely replace the data for a given instance.\n   */\n  __replaceData: function __replaceData(key, newData) {\n    var instance = DraftEntity.__get(key);\n    var newInstance = instance.set('data', newData);\n    instances = instances.set(key, newInstance);\n    return newInstance;\n  }\n};\n\nmodule.exports = DraftEntity;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEntityInstance\n * @legacyServerCallableInstance\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Immutable = require('immutable');\n\nvar Record = Immutable.Record;\n\n\nvar DraftEntityInstanceRecord = Record({\n  type: 'TOKEN',\n  mutability: 'IMMUTABLE',\n  data: Object\n});\n\n/**\n * An instance of a document entity, consisting of a `type` and relevant\n * `data`, metadata about the entity.\n *\n * For instance, a \"link\" entity might provide a URI, and a \"mention\"\n * entity might provide the mentioned user's ID. These pieces of data\n * may be used when rendering the entity as part of a ContentBlock DOM\n * representation. For a link, the data would be used as an href for\n * the rendered anchor. For a mention, the ID could be used to retrieve\n * a hovercard.\n */\n\nvar DraftEntityInstance = function (_DraftEntityInstanceR) {\n  _inherits(DraftEntityInstance, _DraftEntityInstanceR);\n\n  function DraftEntityInstance() {\n    _classCallCheck(this, DraftEntityInstance);\n\n    return _possibleConstructorReturn(this, _DraftEntityInstanceR.apply(this, arguments));\n  }\n\n  DraftEntityInstance.prototype.getType = function getType() {\n    return this.get('type');\n  };\n\n  DraftEntityInstance.prototype.getMutability = function getMutability() {\n    return this.get('mutability');\n  };\n\n  DraftEntityInstance.prototype.getData = function getData() {\n    return this.get('data');\n  };\n\n  return DraftEntityInstance;\n}(DraftEntityInstanceRecord);\n\nmodule.exports = DraftEntityInstance;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftEntitySegments\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Identify the range to delete from a segmented entity.\n *\n * Rules:\n *\n *  Example: 'John F. Kennedy'\n *\n *   - Deletion from within any non-whitespace (i.e. ['John', 'F.', 'Kennedy'])\n *     will return the range of that text.\n *\n *       'John F. Kennedy' -> 'John F.'\n *                  ^\n *\n *   - Forward deletion of whitespace will remove the following section:\n *\n *       'John F. Kennedy' -> 'John Kennedy'\n *            ^\n *\n *   - Backward deletion of whitespace will remove the previous section:\n *\n *       'John F. Kennedy' -> 'F. Kennedy'\n *            ^\n */\nvar DraftEntitySegments = {\n  getRemovalRange: function getRemovalRange(selectionStart, selectionEnd, text, entityStart, direction) {\n    var segments = text.split(' ');\n    segments = segments.map(function ( /*string*/segment, /*number*/ii) {\n      if (direction === 'forward') {\n        if (ii > 0) {\n          return ' ' + segment;\n        }\n      } else if (ii < segments.length - 1) {\n        return segment + ' ';\n      }\n      return segment;\n    });\n\n    var segmentStart = entityStart;\n    var segmentEnd;\n    var segment;\n    var removalStart = null;\n    var removalEnd = null;\n\n    for (var jj = 0; jj < segments.length; jj++) {\n      segment = segments[jj];\n      segmentEnd = segmentStart + segment.length;\n\n      // Our selection overlaps this segment.\n      if (selectionStart < segmentEnd && segmentStart < selectionEnd) {\n        if (removalStart !== null) {\n          removalEnd = segmentEnd;\n        } else {\n          removalStart = segmentStart;\n          removalEnd = segmentEnd;\n        }\n      } else if (removalStart !== null) {\n        break;\n      }\n\n      segmentStart = segmentEnd;\n    }\n\n    var entityEnd = entityStart + text.length;\n    var atStart = removalStart === entityStart;\n    var atEnd = removalEnd === entityEnd;\n\n    if (!atStart && atEnd || atStart && !atEnd) {\n      if (direction === 'forward') {\n        if (removalEnd !== entityEnd) {\n          removalEnd++;\n        }\n      } else if (removalStart !== entityStart) {\n        removalStart--;\n      }\n    }\n\n    return {\n      start: removalStart,\n      end: removalEnd\n    };\n  }\n};\n\nmodule.exports = DraftEntitySegments;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftFeatureFlags-core\n * @format\n * \n */\n\n'use strict';\n\nvar DraftFeatureFlags = {\n  draft_killswitch_allow_nontextnodes: false,\n  draft_segmented_entities_behavior: false,\n  draft_handlebeforeinput_composed_text: false,\n  draft_tree_data_support: false\n};\n\nmodule.exports = DraftFeatureFlags;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftFeatureFlags\n * @format\n * \n */\n\n'use strict';\n\nvar DraftFeatureFlags = require('./DraftFeatureFlags-core');\n\nmodule.exports = DraftFeatureFlags;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftJsDebugLogging\n */\n\n'use strict';\n\nmodule.exports = {\n  logSelectionStateFailure: function logSelectionStateFailure() {\n    return null;\n  }\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftModifier\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar ContentStateInlineStyle = require('./ContentStateInlineStyle');\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar Immutable = require('immutable');\n\nvar applyEntityToContentState = require('./applyEntityToContentState');\nvar getCharacterRemovalRange = require('./getCharacterRemovalRange');\nvar getContentStateFragment = require('./getContentStateFragment');\nvar insertFragmentIntoContentState = require('./insertFragmentIntoContentState');\nvar insertTextIntoContentState = require('./insertTextIntoContentState');\nvar invariant = require('fbjs/lib/invariant');\nvar modifyBlockForContentState = require('./modifyBlockForContentState');\nvar removeEntitiesAtEdges = require('./removeEntitiesAtEdges');\nvar removeRangeFromContentState = require('./removeRangeFromContentState');\nvar splitBlockInContentState = require('./splitBlockInContentState');\n\nvar OrderedSet = Immutable.OrderedSet;\n\n/**\n * `DraftModifier` provides a set of convenience methods that apply\n * modifications to a `ContentState` object based on a target `SelectionState`.\n *\n * Any change to a `ContentState` should be decomposable into a series of\n * transaction functions that apply the required changes and return output\n * `ContentState` objects.\n *\n * These functions encapsulate some of the most common transaction sequences.\n */\n\nvar DraftModifier = {\n  replaceText: function replaceText(contentState, rangeToReplace, text, inlineStyle, entityKey) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, rangeToReplace);\n    var withoutText = removeRangeFromContentState(withoutEntities, rangeToReplace);\n\n    var character = CharacterMetadata.create({\n      style: inlineStyle || OrderedSet(),\n      entity: entityKey || null\n    });\n\n    return insertTextIntoContentState(withoutText, withoutText.getSelectionAfter(), text, character);\n  },\n\n  insertText: function insertText(contentState, targetRange, text, inlineStyle, entityKey) {\n    !targetRange.isCollapsed() ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Target range must be collapsed for `insertText`.') : invariant(false) : void 0;\n    return DraftModifier.replaceText(contentState, targetRange, text, inlineStyle, entityKey);\n  },\n\n  moveText: function moveText(contentState, removalRange, targetRange) {\n    var movedFragment = getContentStateFragment(contentState, removalRange);\n\n    var afterRemoval = DraftModifier.removeRange(contentState, removalRange, 'backward');\n\n    return DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n  },\n\n  replaceWithFragment: function replaceWithFragment(contentState, targetRange, fragment) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, targetRange);\n    var withoutText = removeRangeFromContentState(withoutEntities, targetRange);\n\n    return insertFragmentIntoContentState(withoutText, withoutText.getSelectionAfter(), fragment);\n  },\n\n  removeRange: function removeRange(contentState, rangeToRemove, removalDirection) {\n    var startKey = void 0,\n        endKey = void 0,\n        startBlock = void 0,\n        endBlock = void 0;\n    if (rangeToRemove.getIsBackward()) {\n      rangeToRemove = rangeToRemove.merge({\n        anchorKey: rangeToRemove.getFocusKey(),\n        anchorOffset: rangeToRemove.getFocusOffset(),\n        focusKey: rangeToRemove.getAnchorKey(),\n        focusOffset: rangeToRemove.getAnchorOffset(),\n        isBackward: false\n      });\n    }\n    startKey = rangeToRemove.getAnchorKey();\n    endKey = rangeToRemove.getFocusKey();\n    startBlock = contentState.getBlockForKey(startKey);\n    endBlock = contentState.getBlockForKey(endKey);\n    var startOffset = rangeToRemove.getStartOffset();\n    var endOffset = rangeToRemove.getEndOffset();\n\n    var startEntityKey = startBlock.getEntityAt(startOffset);\n    var endEntityKey = endBlock.getEntityAt(endOffset - 1);\n\n    // Check whether the selection state overlaps with a single entity.\n    // If so, try to remove the appropriate substring of the entity text.\n    if (startKey === endKey) {\n      if (startEntityKey && startEntityKey === endEntityKey) {\n        var _adjustedRemovalRange = getCharacterRemovalRange(contentState.getEntityMap(), startBlock, endBlock, rangeToRemove, removalDirection);\n        return removeRangeFromContentState(contentState, _adjustedRemovalRange);\n      }\n    }\n    var adjustedRemovalRange = rangeToRemove;\n    if (DraftFeatureFlags.draft_segmented_entities_behavior) {\n      // Adjust the selection to properly delete segemented and immutable\n      // entities\n      adjustedRemovalRange = getCharacterRemovalRange(contentState.getEntityMap(), startBlock, endBlock, rangeToRemove, removalDirection);\n    }\n\n    var withoutEntities = removeEntitiesAtEdges(contentState, adjustedRemovalRange);\n    return removeRangeFromContentState(withoutEntities, adjustedRemovalRange);\n  },\n\n  splitBlock: function splitBlock(contentState, selectionState) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);\n    var withoutText = removeRangeFromContentState(withoutEntities, selectionState);\n\n    return splitBlockInContentState(withoutText, withoutText.getSelectionAfter());\n  },\n\n  applyInlineStyle: function applyInlineStyle(contentState, selectionState, inlineStyle) {\n    return ContentStateInlineStyle.add(contentState, selectionState, inlineStyle);\n  },\n\n  removeInlineStyle: function removeInlineStyle(contentState, selectionState, inlineStyle) {\n    return ContentStateInlineStyle.remove(contentState, selectionState, inlineStyle);\n  },\n\n  setBlockType: function setBlockType(contentState, selectionState, blockType) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({ type: blockType, depth: 0 });\n    });\n  },\n\n  setBlockData: function setBlockData(contentState, selectionState, blockData) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({ data: blockData });\n    });\n  },\n\n  mergeBlockData: function mergeBlockData(contentState, selectionState, blockData) {\n    return modifyBlockForContentState(contentState, selectionState, function (block) {\n      return block.merge({ data: block.getData().merge(blockData) });\n    });\n  },\n\n  applyEntity: function applyEntity(contentState, selectionState, entityKey) {\n    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);\n    return applyEntityToContentState(withoutEntities, selectionState, entityKey);\n  }\n};\n\nmodule.exports = DraftModifier;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftOffsetKey\n * @format\n * \n */\n\n'use strict';\n\nvar KEY_DELIMITER = '-';\n\nvar DraftOffsetKey = {\n  encode: function encode(blockKey, decoratorKey, leafKey) {\n    return blockKey + KEY_DELIMITER + decoratorKey + KEY_DELIMITER + leafKey;\n  },\n\n  decode: function decode(offsetKey) {\n    var _offsetKey$split = offsetKey.split(KEY_DELIMITER),\n        blockKey = _offsetKey$split[0],\n        decoratorKey = _offsetKey$split[1],\n        leafKey = _offsetKey$split[2];\n\n    return {\n      blockKey: blockKey,\n      decoratorKey: parseInt(decoratorKey, 10),\n      leafKey: parseInt(leafKey, 10)\n    };\n  }\n};\n\nmodule.exports = DraftOffsetKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftPasteProcessor\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar ContentBlock = require('./ContentBlock');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar Immutable = require('immutable');\n\nvar convertFromHTMLtoContentBlocks = require('./convertFromHTMLToContentBlocks');\nvar generateRandomKey = require('./generateRandomKey');\nvar getSafeBodyFromHTML = require('./getSafeBodyFromHTML');\nvar sanitizeDraftText = require('./sanitizeDraftText');\n\nvar List = Immutable.List,\n    Repeat = Immutable.Repeat;\n\n\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\nvar ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\n\nvar DraftPasteProcessor = {\n  processHTML: function processHTML(html, blockRenderMap) {\n    return convertFromHTMLtoContentBlocks(html, getSafeBodyFromHTML, blockRenderMap);\n  },\n  processText: function processText(textBlocks, character, type) {\n    return textBlocks.reduce(function (acc, textLine, index) {\n      textLine = sanitizeDraftText(textLine);\n      var key = generateRandomKey();\n\n      var blockNodeConfig = {\n        key: key,\n        type: type,\n        text: textLine,\n        characterList: List(Repeat(character, textLine.length))\n      };\n\n      // next block updates previous block\n      if (experimentalTreeDataSupport && index !== 0) {\n        var prevSiblingIndex = index - 1;\n        // update previous block\n        var previousBlock = acc[prevSiblingIndex] = acc[prevSiblingIndex].merge({\n          nextSibling: key\n        });\n        blockNodeConfig = _extends({}, blockNodeConfig, {\n          prevSibling: previousBlock.getKey()\n        });\n      }\n\n      acc.push(new ContentBlockRecord(blockNodeConfig));\n\n      return acc;\n    }, []);\n  }\n};\n\nmodule.exports = DraftPasteProcessor;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftRemovableWord\n * @format\n * \n */\n\n'use strict';\n\nvar TokenizeUtil = require('fbjs/lib/TokenizeUtil');\n\nvar punctuation = TokenizeUtil.getPunctuation();\n\n// The apostrophe and curly single quotes behave in a curious way: when\n// surrounded on both sides by word characters, they behave as word chars; when\n// either neighbor is punctuation or an end of the string, they behave as\n// punctuation.\nvar CHAMELEON_CHARS = '[\\'\\u2018\\u2019]';\n\n// Remove the underscore, which should count as part of the removable word. The\n// \"chameleon chars\" also count as punctuation in this regex.\nvar WHITESPACE_AND_PUNCTUATION = '\\\\s|(?![_])' + punctuation;\n\nvar DELETE_STRING = '^' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)';\nvar DELETE_REGEX = new RegExp(DELETE_STRING);\n\nvar BACKSPACE_STRING = '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '$';\nvar BACKSPACE_REGEX = new RegExp(BACKSPACE_STRING);\n\nfunction getRemovableWord(text, isBackward) {\n  var matches = isBackward ? BACKSPACE_REGEX.exec(text) : DELETE_REGEX.exec(text);\n  return matches ? matches[0] : text;\n}\n\nvar DraftRemovableWord = {\n  getBackward: function getBackward(text) {\n    return getRemovableWord(text, true);\n  },\n\n  getForward: function getForward(text) {\n    return getRemovableWord(text, false);\n  }\n};\n\nmodule.exports = DraftRemovableWord;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftStringKey\n * @format\n * \n */\n\n'use strict';\n\nvar DraftStringKey = {\n  stringify: function stringify(key) {\n    return '_' + String(key);\n  },\n\n  unstringify: function unstringify(key) {\n    return key.slice(1);\n  }\n};\n\nmodule.exports = DraftStringKey;","'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule DraftTreeAdapter\n * @format\n * \n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar traverseInDepthOrder = function traverseInDepthOrder(blocks, fn) {\n  var stack = [].concat(blocks).reverse();\n  while (stack.length) {\n    var _block = stack.pop();\n\n    fn(_block);\n\n    var children = _block.children;\n\n    !Array.isArray(children) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Invalid tree raw block') : invariant(false) : void 0;\n\n    stack = stack.concat([].concat(children.reverse()));\n  }\n};\n\nvar isListBlock = function isListBlock(block) {\n  if (!(block && block.type)) {\n    return false;\n  }\n  var type = block.type;\n\n  return type === 'unordered-list-item' || type === 'ordered-list-item';\n};\n\nvar addDepthToChildren = function addDepthToChildren(block) {\n  if (Array.isArray(block.children)) {\n    block.children = block.children.map(function (child) {\n      return child.type === block.type ? _extends({}, child, { depth: (block.depth || 0) + 1 }) : child;\n    });\n  }\n};\n\n/**\n * This adapter is intended to be be used as an adapter to draft tree data\n *\n * draft state <=====> draft tree state\n */\nvar DraftTreeAdapter = {\n  /**\n   * Converts from a tree raw state back to  draft raw state\n   */\n  fromRawTreeStateToRawState: function fromRawTreeStateToRawState(draftTreeState) {\n    var blocks = draftTreeState.blocks;\n\n    var transformedBlocks = [];\n\n    !Array.isArray(blocks) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Invalid raw state') : invariant(false) : void 0;\n\n    if (!Array.isArray(blocks) || !blocks.length) {\n      return draftTreeState;\n    }\n\n    traverseInDepthOrder(blocks, function (block) {\n      var newBlock = _extends({}, block);\n\n      if (isListBlock(block)) {\n        newBlock.depth = newBlock.depth || 0;\n        addDepthToChildren(block);\n      }\n\n      delete newBlock.children;\n\n      transformedBlocks.push(newBlock);\n    });\n\n    draftTreeState.blocks = transformedBlocks;\n\n    return _extends({}, draftTreeState, {\n      blocks: transformedBlocks\n    });\n  },\n\n\n  /**\n   * Converts from draft raw state to tree draft state\n   */\n  fromRawStateToRawTreeState: function fromRawStateToRawTreeState(draftState) {\n    var lastListDepthCacheRef = {};\n    var transformedBlocks = [];\n\n    draftState.blocks.forEach(function (block) {\n      var isList = isListBlock(block);\n      var depth = block.depth || 0;\n      var treeBlock = _extends({}, block, {\n        children: []\n      });\n\n      if (!isList) {\n        // reset the cache path\n        lastListDepthCacheRef = {};\n        transformedBlocks.push(treeBlock);\n        return;\n      }\n\n      // update our depth cache reference path\n      lastListDepthCacheRef[depth] = treeBlock;\n\n      // if we are greater than zero we must have seen a parent already\n      if (depth > 0) {\n        var parent = lastListDepthCacheRef[depth - 1];\n\n        !parent ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Invalid depth for RawDraftContentBlock') : invariant(false) : void 0;\n\n        // push nested list blocks\n        parent.children.push(treeBlock);\n        return;\n      }\n\n      // push root list blocks\n      transformedBlocks.push(treeBlock);\n    });\n\n    return _extends({}, draftState, {\n      blocks: transformedBlocks\n    });\n  }\n};\n\nmodule.exports = DraftTreeAdapter;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EditorBidiService\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\nvar UnicodeBidiService = require('fbjs/lib/UnicodeBidiService');\n\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nvar OrderedMap = Immutable.OrderedMap;\n\n\nvar bidiService;\n\nvar EditorBidiService = {\n  getDirectionMap: function getDirectionMap(content, prevBidiMap) {\n    if (!bidiService) {\n      bidiService = new UnicodeBidiService();\n    } else {\n      bidiService.reset();\n    }\n\n    var blockMap = content.getBlockMap();\n    var nextBidi = blockMap.valueSeq().map(function (block) {\n      return nullthrows(bidiService).getDirection(block.getText());\n    });\n    var bidiMap = OrderedMap(blockMap.keySeq().zip(nextBidi));\n\n    if (prevBidiMap != null && Immutable.is(prevBidiMap, bidiMap)) {\n      return prevBidiMap;\n    }\n\n    return bidiMap;\n  }\n};\n\nmodule.exports = EditorBidiService;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule EditorState\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BlockTree = require('./BlockTree');\nvar ContentState = require('./ContentState');\nvar EditorBidiService = require('./EditorBidiService');\nvar Immutable = require('immutable');\nvar SelectionState = require('./SelectionState');\n\nvar OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Stack = Immutable.Stack;\n\n\nvar defaultRecord = {\n  allowUndo: true,\n  currentContent: null,\n  decorator: null,\n  directionMap: null,\n  forceSelection: false,\n  inCompositionMode: false,\n  inlineStyleOverride: null,\n  lastChangeType: null,\n  nativelyRenderedContent: null,\n  redoStack: Stack(),\n  selection: null,\n  treeMap: null,\n  undoStack: Stack()\n};\n\nvar EditorStateRecord = Record(defaultRecord);\n\nvar EditorState = function () {\n  EditorState.createEmpty = function createEmpty(decorator) {\n    return EditorState.createWithContent(ContentState.createFromText(''), decorator);\n  };\n\n  EditorState.createWithContent = function createWithContent(contentState, decorator) {\n    var firstKey = contentState.getBlockMap().first().getKey();\n    return EditorState.create({\n      currentContent: contentState,\n      undoStack: Stack(),\n      redoStack: Stack(),\n      decorator: decorator || null,\n      selection: SelectionState.createEmpty(firstKey)\n    });\n  };\n\n  EditorState.create = function create(config) {\n    var currentContent = config.currentContent,\n        decorator = config.decorator;\n\n    var recordConfig = _extends({}, config, {\n      treeMap: generateNewTreeMap(currentContent, decorator),\n      directionMap: EditorBidiService.getDirectionMap(currentContent)\n    });\n    return new EditorState(new EditorStateRecord(recordConfig));\n  };\n\n  EditorState.set = function set(editorState, put) {\n    var map = editorState.getImmutable().withMutations(function (state) {\n      var existingDecorator = state.get('decorator');\n      var decorator = existingDecorator;\n      if (put.decorator === null) {\n        decorator = null;\n      } else if (put.decorator) {\n        decorator = put.decorator;\n      }\n\n      var newContent = put.currentContent || editorState.getCurrentContent();\n\n      if (decorator !== existingDecorator) {\n        var treeMap = state.get('treeMap');\n        var newTreeMap;\n        if (decorator && existingDecorator) {\n          newTreeMap = regenerateTreeForNewDecorator(newContent, newContent.getBlockMap(), treeMap, decorator, existingDecorator);\n        } else {\n          newTreeMap = generateNewTreeMap(newContent, decorator);\n        }\n\n        state.merge({\n          decorator: decorator,\n          treeMap: newTreeMap,\n          nativelyRenderedContent: null\n        });\n        return;\n      }\n\n      var existingContent = editorState.getCurrentContent();\n      if (newContent !== existingContent) {\n        state.set('treeMap', regenerateTreeForNewBlocks(editorState, newContent.getBlockMap(), newContent.getEntityMap(), decorator));\n      }\n\n      state.merge(put);\n    });\n\n    return new EditorState(map);\n  };\n\n  EditorState.prototype.toJS = function toJS() {\n    return this.getImmutable().toJS();\n  };\n\n  EditorState.prototype.getAllowUndo = function getAllowUndo() {\n    return this.getImmutable().get('allowUndo');\n  };\n\n  EditorState.prototype.getCurrentContent = function getCurrentContent() {\n    return this.getImmutable().get('currentContent');\n  };\n\n  EditorState.prototype.getUndoStack = function getUndoStack() {\n    return this.getImmutable().get('undoStack');\n  };\n\n  EditorState.prototype.getRedoStack = function getRedoStack() {\n    return this.getImmutable().get('redoStack');\n  };\n\n  EditorState.prototype.getSelection = function getSelection() {\n    return this.getImmutable().get('selection');\n  };\n\n  EditorState.prototype.getDecorator = function getDecorator() {\n    return this.getImmutable().get('decorator');\n  };\n\n  EditorState.prototype.isInCompositionMode = function isInCompositionMode() {\n    return this.getImmutable().get('inCompositionMode');\n  };\n\n  EditorState.prototype.mustForceSelection = function mustForceSelection() {\n    return this.getImmutable().get('forceSelection');\n  };\n\n  EditorState.prototype.getNativelyRenderedContent = function getNativelyRenderedContent() {\n    return this.getImmutable().get('nativelyRenderedContent');\n  };\n\n  EditorState.prototype.getLastChangeType = function getLastChangeType() {\n    return this.getImmutable().get('lastChangeType');\n  };\n\n  /**\n   * While editing, the user may apply inline style commands with a collapsed\n   * cursor, intending to type text that adopts the specified style. In this\n   * case, we track the specified style as an \"override\" that takes precedence\n   * over the inline style of the text adjacent to the cursor.\n   *\n   * If null, there is no override in place.\n   */\n\n\n  EditorState.prototype.getInlineStyleOverride = function getInlineStyleOverride() {\n    return this.getImmutable().get('inlineStyleOverride');\n  };\n\n  EditorState.setInlineStyleOverride = function setInlineStyleOverride(editorState, inlineStyleOverride) {\n    return EditorState.set(editorState, { inlineStyleOverride: inlineStyleOverride });\n  };\n\n  /**\n   * Get the appropriate inline style for the editor state. If an\n   * override is in place, use it. Otherwise, the current style is\n   * based on the location of the selection state.\n   */\n\n\n  EditorState.prototype.getCurrentInlineStyle = function getCurrentInlineStyle() {\n    var override = this.getInlineStyleOverride();\n    if (override != null) {\n      return override;\n    }\n\n    var content = this.getCurrentContent();\n    var selection = this.getSelection();\n\n    if (selection.isCollapsed()) {\n      return getInlineStyleForCollapsedSelection(content, selection);\n    }\n\n    return getInlineStyleForNonCollapsedSelection(content, selection);\n  };\n\n  EditorState.prototype.getBlockTree = function getBlockTree(blockKey) {\n    return this.getImmutable().getIn(['treeMap', blockKey]);\n  };\n\n  EditorState.prototype.isSelectionAtStartOfContent = function isSelectionAtStartOfContent() {\n    var firstKey = this.getCurrentContent().getBlockMap().first().getKey();\n    return this.getSelection().hasEdgeWithin(firstKey, 0, 0);\n  };\n\n  EditorState.prototype.isSelectionAtEndOfContent = function isSelectionAtEndOfContent() {\n    var content = this.getCurrentContent();\n    var blockMap = content.getBlockMap();\n    var last = blockMap.last();\n    var end = last.getLength();\n    return this.getSelection().hasEdgeWithin(last.getKey(), end, end);\n  };\n\n  EditorState.prototype.getDirectionMap = function getDirectionMap() {\n    return this.getImmutable().get('directionMap');\n  };\n\n  /**\n   * Incorporate native DOM selection changes into the EditorState. This\n   * method can be used when we simply want to accept whatever the DOM\n   * has given us to represent selection, and we do not need to re-render\n   * the editor.\n   *\n   * To forcibly move the DOM selection, see `EditorState.forceSelection`.\n   */\n\n\n  EditorState.acceptSelection = function acceptSelection(editorState, selection) {\n    return updateSelection(editorState, selection, false);\n  };\n\n  /**\n   * At times, we need to force the DOM selection to be where we\n   * need it to be. This can occur when the anchor or focus nodes\n   * are non-text nodes, for instance. In this case, we want to trigger\n   * a re-render of the editor, which in turn forces selection into\n   * the correct place in the DOM. The `forceSelection` method\n   * accomplishes this.\n   *\n   * This method should be used in cases where you need to explicitly\n   * move the DOM selection from one place to another without a change\n   * in ContentState.\n   */\n\n\n  EditorState.forceSelection = function forceSelection(editorState, selection) {\n    if (!selection.getHasFocus()) {\n      selection = selection.set('hasFocus', true);\n    }\n    return updateSelection(editorState, selection, true);\n  };\n\n  /**\n   * Move selection to the end of the editor without forcing focus.\n   */\n\n\n  EditorState.moveSelectionToEnd = function moveSelectionToEnd(editorState) {\n    var content = editorState.getCurrentContent();\n    var lastBlock = content.getLastBlock();\n    var lastKey = lastBlock.getKey();\n    var length = lastBlock.getLength();\n\n    return EditorState.acceptSelection(editorState, new SelectionState({\n      anchorKey: lastKey,\n      anchorOffset: length,\n      focusKey: lastKey,\n      focusOffset: length,\n      isBackward: false\n    }));\n  };\n\n  /**\n   * Force focus to the end of the editor. This is useful in scenarios\n   * where we want to programmatically focus the input and it makes sense\n   * to allow the user to continue working seamlessly.\n   */\n\n\n  EditorState.moveFocusToEnd = function moveFocusToEnd(editorState) {\n    var afterSelectionMove = EditorState.moveSelectionToEnd(editorState);\n    return EditorState.forceSelection(afterSelectionMove, afterSelectionMove.getSelection());\n  };\n\n  /**\n   * Push the current ContentState onto the undo stack if it should be\n   * considered a boundary state, and set the provided ContentState as the\n   * new current content.\n   */\n\n\n  EditorState.push = function push(editorState, contentState, changeType) {\n    if (editorState.getCurrentContent() === contentState) {\n      return editorState;\n    }\n\n    var forceSelection = changeType !== 'insert-characters';\n    var directionMap = EditorBidiService.getDirectionMap(contentState, editorState.getDirectionMap());\n\n    if (!editorState.getAllowUndo()) {\n      return EditorState.set(editorState, {\n        currentContent: contentState,\n        directionMap: directionMap,\n        lastChangeType: changeType,\n        selection: contentState.getSelectionAfter(),\n        forceSelection: forceSelection,\n        inlineStyleOverride: null\n      });\n    }\n\n    var selection = editorState.getSelection();\n    var currentContent = editorState.getCurrentContent();\n    var undoStack = editorState.getUndoStack();\n    var newContent = contentState;\n\n    if (selection !== currentContent.getSelectionAfter() || mustBecomeBoundary(editorState, changeType)) {\n      undoStack = undoStack.push(currentContent);\n      newContent = newContent.set('selectionBefore', selection);\n    } else if (changeType === 'insert-characters' || changeType === 'backspace-character' || changeType === 'delete-character') {\n      // Preserve the previous selection.\n      newContent = newContent.set('selectionBefore', currentContent.getSelectionBefore());\n    }\n\n    var inlineStyleOverride = editorState.getInlineStyleOverride();\n\n    // Don't discard inline style overrides for the following change types:\n    var overrideChangeTypes = ['adjust-depth', 'change-block-type', 'split-block'];\n\n    if (overrideChangeTypes.indexOf(changeType) === -1) {\n      inlineStyleOverride = null;\n    }\n\n    var editorStateChanges = {\n      currentContent: newContent,\n      directionMap: directionMap,\n      undoStack: undoStack,\n      redoStack: Stack(),\n      lastChangeType: changeType,\n      selection: contentState.getSelectionAfter(),\n      forceSelection: forceSelection,\n      inlineStyleOverride: inlineStyleOverride\n    };\n\n    return EditorState.set(editorState, editorStateChanges);\n  };\n\n  /**\n   * Make the top ContentState in the undo stack the new current content and\n   * push the current content onto the redo stack.\n   */\n\n\n  EditorState.undo = function undo(editorState) {\n    if (!editorState.getAllowUndo()) {\n      return editorState;\n    }\n\n    var undoStack = editorState.getUndoStack();\n    var newCurrentContent = undoStack.peek();\n    if (!newCurrentContent) {\n      return editorState;\n    }\n\n    var currentContent = editorState.getCurrentContent();\n    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());\n\n    return EditorState.set(editorState, {\n      currentContent: newCurrentContent,\n      directionMap: directionMap,\n      undoStack: undoStack.shift(),\n      redoStack: editorState.getRedoStack().push(currentContent),\n      forceSelection: true,\n      inlineStyleOverride: null,\n      lastChangeType: 'undo',\n      nativelyRenderedContent: null,\n      selection: currentContent.getSelectionBefore()\n    });\n  };\n\n  /**\n   * Make the top ContentState in the redo stack the new current content and\n   * push the current content onto the undo stack.\n   */\n\n\n  EditorState.redo = function redo(editorState) {\n    if (!editorState.getAllowUndo()) {\n      return editorState;\n    }\n\n    var redoStack = editorState.getRedoStack();\n    var newCurrentContent = redoStack.peek();\n    if (!newCurrentContent) {\n      return editorState;\n    }\n\n    var currentContent = editorState.getCurrentContent();\n    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());\n\n    return EditorState.set(editorState, {\n      currentContent: newCurrentContent,\n      directionMap: directionMap,\n      undoStack: editorState.getUndoStack().push(currentContent),\n      redoStack: redoStack.shift(),\n      forceSelection: true,\n      inlineStyleOverride: null,\n      lastChangeType: 'redo',\n      nativelyRenderedContent: null,\n      selection: newCurrentContent.getSelectionAfter()\n    });\n  };\n\n  /**\n   * Not for public consumption.\n   */\n\n\n  function EditorState(immutable) {\n    _classCallCheck(this, EditorState);\n\n    this._immutable = immutable;\n  }\n\n  /**\n   * Not for public consumption.\n   */\n\n\n  EditorState.prototype.getImmutable = function getImmutable() {\n    return this._immutable;\n  };\n\n  return EditorState;\n}();\n\n/**\n * Set the supplied SelectionState as the new current selection, and set\n * the `force` flag to trigger manual selection placement by the view.\n */\n\n\nfunction updateSelection(editorState, selection, forceSelection) {\n  return EditorState.set(editorState, {\n    selection: selection,\n    forceSelection: forceSelection,\n    nativelyRenderedContent: null,\n    inlineStyleOverride: null\n  });\n}\n\n/**\n * Regenerate the entire tree map for a given ContentState and decorator.\n * Returns an OrderedMap that maps all available ContentBlock objects.\n */\nfunction generateNewTreeMap(contentState, decorator) {\n  return contentState.getBlockMap().map(function (block) {\n    return BlockTree.generate(contentState, block, decorator);\n  }).toOrderedMap();\n}\n\n/**\n * Regenerate tree map objects for all ContentBlocks that have changed\n * between the current editorState and newContent. Returns an OrderedMap\n * with only changed regenerated tree map objects.\n */\nfunction regenerateTreeForNewBlocks(editorState, newBlockMap, newEntityMap, decorator) {\n  var contentState = editorState.getCurrentContent().set('entityMap', newEntityMap);\n  var prevBlockMap = contentState.getBlockMap();\n  var prevTreeMap = editorState.getImmutable().get('treeMap');\n  return prevTreeMap.merge(newBlockMap.toSeq().filter(function (block, key) {\n    return block !== prevBlockMap.get(key);\n  }).map(function (block) {\n    return BlockTree.generate(contentState, block, decorator);\n  }));\n}\n\n/**\n * Generate tree map objects for a new decorator object, preserving any\n * decorations that are unchanged from the previous decorator.\n *\n * Note that in order for this to perform optimally, decoration Lists for\n * decorators should be preserved when possible to allow for direct immutable\n * List comparison.\n */\nfunction regenerateTreeForNewDecorator(content, blockMap, previousTreeMap, decorator, existingDecorator) {\n  return previousTreeMap.merge(blockMap.toSeq().filter(function (block) {\n    return decorator.getDecorations(block, content) !== existingDecorator.getDecorations(block, content);\n  }).map(function (block) {\n    return BlockTree.generate(content, block, decorator);\n  }));\n}\n\n/**\n * Return whether a change should be considered a boundary state, given\n * the previous change type. Allows us to discard potential boundary states\n * during standard typing or deletion behavior.\n */\nfunction mustBecomeBoundary(editorState, changeType) {\n  var lastChangeType = editorState.getLastChangeType();\n  return changeType !== lastChangeType || changeType !== 'insert-characters' && changeType !== 'backspace-character' && changeType !== 'delete-character';\n}\n\nfunction getInlineStyleForCollapsedSelection(content, selection) {\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var startBlock = content.getBlockForKey(startKey);\n\n  // If the cursor is not at the start of the block, look backward to\n  // preserve the style of the preceding character.\n  if (startOffset > 0) {\n    return startBlock.getInlineStyleAt(startOffset - 1);\n  }\n\n  // The caret is at position zero in this block. If the block has any\n  // text at all, use the style of the first character.\n  if (startBlock.getLength()) {\n    return startBlock.getInlineStyleAt(0);\n  }\n\n  // Otherwise, look upward in the document to find the closest character.\n  return lookUpwardForInlineStyle(content, startKey);\n}\n\nfunction getInlineStyleForNonCollapsedSelection(content, selection) {\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var startBlock = content.getBlockForKey(startKey);\n\n  // If there is a character just inside the selection, use its style.\n  if (startOffset < startBlock.getLength()) {\n    return startBlock.getInlineStyleAt(startOffset);\n  }\n\n  // Check if the selection at the end of a non-empty block. Use the last\n  // style in the block.\n  if (startOffset > 0) {\n    return startBlock.getInlineStyleAt(startOffset - 1);\n  }\n\n  // Otherwise, look upward in the document to find the closest character.\n  return lookUpwardForInlineStyle(content, startKey);\n}\n\nfunction lookUpwardForInlineStyle(content, fromKey) {\n  var lastNonEmpty = content.getBlockMap().reverse().skipUntil(function (_, k) {\n    return k === fromKey;\n  }).skip(1).skipUntil(function (block, _) {\n    return block.getLength();\n  }).first();\n\n  if (lastNonEmpty) return lastNonEmpty.getInlineStyleAt(lastNonEmpty.getLength() - 1);\n  return OrderedSet();\n}\n\nmodule.exports = EditorState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule KeyBindingUtil\n * @format\n * \n */\n\n'use strict';\n\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar isOSX = UserAgent.isPlatform('Mac OS X');\n\nvar KeyBindingUtil = {\n  /**\n   * Check whether the ctrlKey modifier is *not* being used in conjunction with\n   * the altKey modifier. If they are combined, the result is an `altGraph`\n   * key modifier, which should not be handled by this set of key bindings.\n   */\n  isCtrlKeyCommand: function isCtrlKeyCommand(e) {\n    return !!e.ctrlKey && !e.altKey;\n  },\n\n  isOptionKeyCommand: function isOptionKeyCommand(e) {\n    return isOSX && e.altKey;\n  },\n\n  hasCommandModifier: function hasCommandModifier(e) {\n    return isOSX ? !!e.metaKey && !e.altKey : KeyBindingUtil.isCtrlKeyCommand(e);\n  }\n};\n\nmodule.exports = KeyBindingUtil;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule RichTextEditorUtil\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar SelectionState = require('./SelectionState');\n\nvar adjustBlockDepthForContentState = require('./adjustBlockDepthForContentState');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nvar RichTextEditorUtil = {\n  currentBlockContainsLink: function currentBlockContainsLink(editorState) {\n    var selection = editorState.getSelection();\n    var contentState = editorState.getCurrentContent();\n    var entityMap = contentState.getEntityMap();\n    return contentState.getBlockForKey(selection.getAnchorKey()).getCharacterList().slice(selection.getStartOffset(), selection.getEndOffset()).some(function (v) {\n      var entity = v.getEntity();\n      return !!entity && entityMap.__get(entity).getType() === 'LINK';\n    });\n  },\n\n  getCurrentBlockType: function getCurrentBlockType(editorState) {\n    var selection = editorState.getSelection();\n    return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\n  },\n\n  getDataObjectForLinkURL: function getDataObjectForLinkURL(uri) {\n    return { url: uri.toString() };\n  },\n\n  handleKeyCommand: function handleKeyCommand(editorState, command) {\n    switch (command) {\n      case 'bold':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'BOLD');\n      case 'italic':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'ITALIC');\n      case 'underline':\n        return RichTextEditorUtil.toggleInlineStyle(editorState, 'UNDERLINE');\n      case 'code':\n        return RichTextEditorUtil.toggleCode(editorState);\n      case 'backspace':\n      case 'backspace-word':\n      case 'backspace-to-start-of-line':\n        return RichTextEditorUtil.onBackspace(editorState);\n      case 'delete':\n      case 'delete-word':\n      case 'delete-to-end-of-block':\n        return RichTextEditorUtil.onDelete(editorState);\n      default:\n        // they may have custom editor commands; ignore those\n        return null;\n    }\n  },\n\n  insertSoftNewline: function insertSoftNewline(editorState) {\n    var contentState = DraftModifier.insertText(editorState.getCurrentContent(), editorState.getSelection(), '\\n', editorState.getCurrentInlineStyle(), null);\n\n    var newEditorState = EditorState.push(editorState, contentState, 'insert-characters');\n\n    return EditorState.forceSelection(newEditorState, contentState.getSelectionAfter());\n  },\n\n  /**\n   * For collapsed selections at the start of styled blocks, backspace should\n   * just remove the existing style.\n   */\n  onBackspace: function onBackspace(editorState) {\n    var selection = editorState.getSelection();\n    if (!selection.isCollapsed() || selection.getAnchorOffset() || selection.getFocusOffset()) {\n      return null;\n    }\n\n    // First, try to remove a preceding atomic block.\n    var content = editorState.getCurrentContent();\n    var startKey = selection.getStartKey();\n    var blockBefore = content.getBlockBefore(startKey);\n\n    if (blockBefore && blockBefore.getType() === 'atomic') {\n      var blockMap = content.getBlockMap()['delete'](blockBefore.getKey());\n      var withoutAtomicBlock = content.merge({\n        blockMap: blockMap,\n        selectionAfter: selection\n      });\n      if (withoutAtomicBlock !== content) {\n        return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');\n      }\n    }\n\n    // If that doesn't succeed, try to remove the current block style.\n    var withoutBlockStyle = RichTextEditorUtil.tryToRemoveBlockStyle(editorState);\n\n    if (withoutBlockStyle) {\n      return EditorState.push(editorState, withoutBlockStyle, 'change-block-type');\n    }\n\n    return null;\n  },\n\n  onDelete: function onDelete(editorState) {\n    var selection = editorState.getSelection();\n    if (!selection.isCollapsed()) {\n      return null;\n    }\n\n    var content = editorState.getCurrentContent();\n    var startKey = selection.getStartKey();\n    var block = content.getBlockForKey(startKey);\n    var length = block.getLength();\n\n    // The cursor is somewhere within the text. Behave normally.\n    if (selection.getStartOffset() < length) {\n      return null;\n    }\n\n    var blockAfter = content.getBlockAfter(startKey);\n\n    if (!blockAfter || blockAfter.getType() !== 'atomic') {\n      return null;\n    }\n\n    var atomicBlockTarget = selection.merge({\n      focusKey: blockAfter.getKey(),\n      focusOffset: blockAfter.getLength()\n    });\n\n    var withoutAtomicBlock = DraftModifier.removeRange(content, atomicBlockTarget, 'forward');\n\n    if (withoutAtomicBlock !== content) {\n      return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');\n    }\n\n    return null;\n  },\n\n  onTab: function onTab(event, editorState, maxDepth) {\n    var selection = editorState.getSelection();\n    var key = selection.getAnchorKey();\n    if (key !== selection.getFocusKey()) {\n      return editorState;\n    }\n\n    var content = editorState.getCurrentContent();\n    var block = content.getBlockForKey(key);\n    var type = block.getType();\n    if (type !== 'unordered-list-item' && type !== 'ordered-list-item') {\n      return editorState;\n    }\n\n    event.preventDefault();\n\n    // Only allow indenting one level beyond the block above, and only if\n    // the block above is a list item as well.\n    var blockAbove = content.getBlockBefore(key);\n    if (!blockAbove) {\n      return editorState;\n    }\n\n    var typeAbove = blockAbove.getType();\n    if (typeAbove !== 'unordered-list-item' && typeAbove !== 'ordered-list-item') {\n      return editorState;\n    }\n\n    var depth = block.getDepth();\n    if (!event.shiftKey && depth === maxDepth) {\n      return editorState;\n    }\n\n    maxDepth = Math.min(blockAbove.getDepth() + 1, maxDepth);\n\n    var withAdjustment = adjustBlockDepthForContentState(content, selection, event.shiftKey ? -1 : 1, maxDepth);\n\n    return EditorState.push(editorState, withAdjustment, 'adjust-depth');\n  },\n\n  toggleBlockType: function toggleBlockType(editorState, blockType) {\n    var selection = editorState.getSelection();\n    var startKey = selection.getStartKey();\n    var endKey = selection.getEndKey();\n    var content = editorState.getCurrentContent();\n    var target = selection;\n\n    // Triple-click can lead to a selection that includes offset 0 of the\n    // following block. The `SelectionState` for this case is accurate, but\n    // we should avoid toggling block type for the trailing block because it\n    // is a confusing interaction.\n    if (startKey !== endKey && selection.getEndOffset() === 0) {\n      var blockBefore = nullthrows(content.getBlockBefore(endKey));\n      endKey = blockBefore.getKey();\n      target = target.merge({\n        anchorKey: startKey,\n        anchorOffset: selection.getStartOffset(),\n        focusKey: endKey,\n        focusOffset: blockBefore.getLength(),\n        isBackward: false\n      });\n    }\n\n    var hasAtomicBlock = content.getBlockMap().skipWhile(function (_, k) {\n      return k !== startKey;\n    }).reverse().skipWhile(function (_, k) {\n      return k !== endKey;\n    }).some(function (v) {\n      return v.getType() === 'atomic';\n    });\n\n    if (hasAtomicBlock) {\n      return editorState;\n    }\n\n    var typeToSet = content.getBlockForKey(startKey).getType() === blockType ? 'unstyled' : blockType;\n\n    return EditorState.push(editorState, DraftModifier.setBlockType(content, target, typeToSet), 'change-block-type');\n  },\n\n  toggleCode: function toggleCode(editorState) {\n    var selection = editorState.getSelection();\n    var anchorKey = selection.getAnchorKey();\n    var focusKey = selection.getFocusKey();\n\n    if (selection.isCollapsed() || anchorKey !== focusKey) {\n      return RichTextEditorUtil.toggleBlockType(editorState, 'code-block');\n    }\n\n    return RichTextEditorUtil.toggleInlineStyle(editorState, 'CODE');\n  },\n\n  /**\n   * Toggle the specified inline style for the selection. If the\n   * user's selection is collapsed, apply or remove the style for the\n   * internal state. If it is not collapsed, apply the change directly\n   * to the document state.\n   */\n  toggleInlineStyle: function toggleInlineStyle(editorState, inlineStyle) {\n    var selection = editorState.getSelection();\n    var currentStyle = editorState.getCurrentInlineStyle();\n\n    // If the selection is collapsed, toggle the specified style on or off and\n    // set the result as the new inline style override. This will then be\n    // used as the inline style for the next character to be inserted.\n    if (selection.isCollapsed()) {\n      return EditorState.setInlineStyleOverride(editorState, currentStyle.has(inlineStyle) ? currentStyle.remove(inlineStyle) : currentStyle.add(inlineStyle));\n    }\n\n    // If characters are selected, immediately apply or remove the\n    // inline style on the document state itself.\n    var content = editorState.getCurrentContent();\n    var newContent;\n\n    // If the style is already present for the selection range, remove it.\n    // Otherwise, apply it.\n    if (currentStyle.has(inlineStyle)) {\n      newContent = DraftModifier.removeInlineStyle(content, selection, inlineStyle);\n    } else {\n      newContent = DraftModifier.applyInlineStyle(content, selection, inlineStyle);\n    }\n\n    return EditorState.push(editorState, newContent, 'change-inline-style');\n  },\n\n  toggleLink: function toggleLink(editorState, targetSelection, entityKey) {\n    var withoutLink = DraftModifier.applyEntity(editorState.getCurrentContent(), targetSelection, entityKey);\n\n    return EditorState.push(editorState, withoutLink, 'apply-entity');\n  },\n\n  /**\n   * When a collapsed cursor is at the start of the first styled block, or\n   * an empty styled block, changes block to 'unstyled'. Returns null if\n   * block or selection does not meet that criteria.\n   */\n  tryToRemoveBlockStyle: function tryToRemoveBlockStyle(editorState) {\n    var selection = editorState.getSelection();\n    var offset = selection.getAnchorOffset();\n    if (selection.isCollapsed() && offset === 0) {\n      var key = selection.getAnchorKey();\n      var content = editorState.getCurrentContent();\n      var block = content.getBlockForKey(key);\n\n      var firstBlock = content.getFirstBlock();\n      if (block.getLength() > 0 && block !== firstBlock) {\n        return null;\n      }\n\n      var type = block.getType();\n      var blockBefore = content.getBlockBefore(key);\n      if (type === 'code-block' && blockBefore && blockBefore.getType() === 'code-block' && blockBefore.getLength() !== 0) {\n        return null;\n      }\n\n      if (type !== 'unstyled') {\n        return DraftModifier.setBlockType(content, selection, 'unstyled');\n      }\n    }\n    return null;\n  }\n};\n\nmodule.exports = RichTextEditorUtil;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SecondaryClipboard\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\n\nvar getContentStateFragment = require('./getContentStateFragment');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nvar clipboard = null;\n\n/**\n * Some systems offer a \"secondary\" clipboard to allow quick internal cut\n * and paste behavior. For instance, Ctrl+K (cut) and Ctrl+Y (paste).\n */\nvar SecondaryClipboard = {\n  cut: function cut(editorState) {\n    var content = editorState.getCurrentContent();\n    var selection = editorState.getSelection();\n    var targetRange = null;\n\n    if (selection.isCollapsed()) {\n      var anchorKey = selection.getAnchorKey();\n      var blockEnd = content.getBlockForKey(anchorKey).getLength();\n\n      if (blockEnd === selection.getAnchorOffset()) {\n        return editorState;\n      }\n\n      targetRange = selection.set('focusOffset', blockEnd);\n    } else {\n      targetRange = selection;\n    }\n\n    targetRange = nullthrows(targetRange);\n    clipboard = getContentStateFragment(content, targetRange);\n\n    var afterRemoval = DraftModifier.removeRange(content, targetRange, 'forward');\n\n    if (afterRemoval === content) {\n      return editorState;\n    }\n\n    return EditorState.push(editorState, afterRemoval, 'remove-range');\n  },\n\n  paste: function paste(editorState) {\n    if (!clipboard) {\n      return editorState;\n    }\n\n    var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), clipboard);\n\n    return EditorState.push(editorState, newContent, 'insert-fragment');\n  }\n};\n\nmodule.exports = SecondaryClipboard;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SelectionState\n * @format\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Immutable = require('immutable');\n\nvar Record = Immutable.Record;\n\n\nvar defaultRecord = {\n  anchorKey: '',\n  anchorOffset: 0,\n  focusKey: '',\n  focusOffset: 0,\n  isBackward: false,\n  hasFocus: false\n};\n\nvar SelectionStateRecord = Record(defaultRecord);\n\nvar SelectionState = function (_SelectionStateRecord) {\n  _inherits(SelectionState, _SelectionStateRecord);\n\n  function SelectionState() {\n    _classCallCheck(this, SelectionState);\n\n    return _possibleConstructorReturn(this, _SelectionStateRecord.apply(this, arguments));\n  }\n\n  SelectionState.prototype.serialize = function serialize() {\n    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());\n  };\n\n  SelectionState.prototype.getAnchorKey = function getAnchorKey() {\n    return this.get('anchorKey');\n  };\n\n  SelectionState.prototype.getAnchorOffset = function getAnchorOffset() {\n    return this.get('anchorOffset');\n  };\n\n  SelectionState.prototype.getFocusKey = function getFocusKey() {\n    return this.get('focusKey');\n  };\n\n  SelectionState.prototype.getFocusOffset = function getFocusOffset() {\n    return this.get('focusOffset');\n  };\n\n  SelectionState.prototype.getIsBackward = function getIsBackward() {\n    return this.get('isBackward');\n  };\n\n  SelectionState.prototype.getHasFocus = function getHasFocus() {\n    return this.get('hasFocus');\n  };\n\n  /**\n   * Return whether the specified range overlaps with an edge of the\n   * SelectionState.\n   */\n\n\n  SelectionState.prototype.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {\n    var anchorKey = this.getAnchorKey();\n    var focusKey = this.getFocusKey();\n\n    if (anchorKey === focusKey && anchorKey === blockKey) {\n      var selectionStart = this.getStartOffset();\n      var selectionEnd = this.getEndOffset();\n      return start <= selectionEnd && selectionStart <= end;\n    }\n\n    if (blockKey !== anchorKey && blockKey !== focusKey) {\n      return false;\n    }\n\n    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();\n\n    return start <= offsetToCheck && end >= offsetToCheck;\n  };\n\n  SelectionState.prototype.isCollapsed = function isCollapsed() {\n    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();\n  };\n\n  SelectionState.prototype.getStartKey = function getStartKey() {\n    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();\n  };\n\n  SelectionState.prototype.getStartOffset = function getStartOffset() {\n    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();\n  };\n\n  SelectionState.prototype.getEndKey = function getEndKey() {\n    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();\n  };\n\n  SelectionState.prototype.getEndOffset = function getEndOffset() {\n    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();\n  };\n\n  SelectionState.createEmpty = function createEmpty(key) {\n    return new SelectionState({\n      anchorKey: key,\n      anchorOffset: 0,\n      focusKey: key,\n      focusOffset: 0,\n      isBackward: false,\n      hasFocus: false\n    });\n  };\n\n  return SelectionState;\n}(SelectionStateRecord);\n\nmodule.exports = SelectionState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule adjustBlockDepthForContentState\n * @format\n * \n */\n\n'use strict';\n\nfunction adjustBlockDepthForContentState(contentState, selectionState, adjustment, maxDepth) {\n  var startKey = selectionState.getStartKey();\n  var endKey = selectionState.getEndKey();\n  var blockMap = contentState.getBlockMap();\n  var blocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat([[endKey, blockMap.get(endKey)]]).map(function (block) {\n    var depth = block.getDepth() + adjustment;\n    depth = Math.max(0, Math.min(depth, maxDepth));\n    return block.set('depth', depth);\n  });\n\n  blockMap = blockMap.merge(blocks);\n\n  return contentState.merge({\n    blockMap: blockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = adjustBlockDepthForContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule applyEntityToContentBlock\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\n\nfunction applyEntityToContentBlock(contentBlock, start, end, entityKey) {\n  var characterList = contentBlock.getCharacterList();\n  while (start < end) {\n    characterList = characterList.set(start, CharacterMetadata.applyEntity(characterList.get(start), entityKey));\n    start++;\n  }\n  return contentBlock.set('characterList', characterList);\n}\n\nmodule.exports = applyEntityToContentBlock;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule applyEntityToContentState\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar applyEntityToContentBlock = require('./applyEntityToContentBlock');\n\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = applyEntityToContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule convertFromDraftStateToRaw\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar ContentBlock = require('./ContentBlock');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar DraftStringKey = require('./DraftStringKey');\n\nvar encodeEntityRanges = require('./encodeEntityRanges');\nvar encodeInlineStyleRanges = require('./encodeInlineStyleRanges');\nvar invariant = require('fbjs/lib/invariant');\n\nvar createRawBlock = function createRawBlock(block, entityStorageMap) {\n  return {\n    key: block.getKey(),\n    text: block.getText(),\n    type: block.getType(),\n    depth: block.getDepth(),\n    inlineStyleRanges: encodeInlineStyleRanges(block),\n    entityRanges: encodeEntityRanges(block, entityStorageMap),\n    data: block.getData().toObject()\n  };\n};\n\nvar insertRawBlock = function insertRawBlock(block, entityMap, rawBlocks, blockCacheRef) {\n  if (block instanceof ContentBlock) {\n    rawBlocks.push(createRawBlock(block, entityMap));\n    return;\n  }\n\n  !(block instanceof ContentBlockNode) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'block is not a BlockNode') : invariant(false) : void 0;\n\n  var parentKey = block.getParentKey();\n  var rawBlock = blockCacheRef[block.getKey()] = _extends({}, createRawBlock(block, entityMap), {\n    children: []\n  });\n\n  if (parentKey) {\n    blockCacheRef[parentKey].children.push(rawBlock);\n    return;\n  }\n\n  rawBlocks.push(rawBlock);\n};\n\nvar encodeRawBlocks = function encodeRawBlocks(contentState, rawState) {\n  var entityMap = rawState.entityMap;\n\n\n  var rawBlocks = [];\n\n  var blockCacheRef = {};\n  var entityCacheRef = {};\n  var entityStorageKey = 0;\n\n  contentState.getBlockMap().forEach(function (block) {\n    block.findEntityRanges(function (character) {\n      return character.getEntity() !== null;\n    }, function (start) {\n      var entityKey = block.getEntityAt(start);\n      // Stringify to maintain order of otherwise numeric keys.\n      var stringifiedEntityKey = DraftStringKey.stringify(entityKey);\n      // This makes this function resilient to two entities\n      // erroneously having the same key\n      if (entityCacheRef[stringifiedEntityKey]) {\n        return;\n      }\n      entityCacheRef[stringifiedEntityKey] = entityKey;\n      // we need the `any` casting here since this is a temporary state\n      // where we will later on flip the entity map and populate it with\n      // real entity, at this stage we just need to map back the entity\n      // key used by the BlockNode\n      entityMap[stringifiedEntityKey] = '' + entityStorageKey;\n      entityStorageKey++;\n    });\n\n    insertRawBlock(block, entityMap, rawBlocks, blockCacheRef);\n  });\n\n  return {\n    blocks: rawBlocks,\n    entityMap: entityMap\n  };\n};\n\n// Flip storage map so that our storage keys map to global\n// DraftEntity keys.\nvar encodeRawEntityMap = function encodeRawEntityMap(contentState, rawState) {\n  var blocks = rawState.blocks,\n      entityMap = rawState.entityMap;\n\n\n  var rawEntityMap = {};\n\n  Object.keys(entityMap).forEach(function (key, index) {\n    var entity = contentState.getEntity(DraftStringKey.unstringify(key));\n    rawEntityMap[index] = {\n      type: entity.getType(),\n      mutability: entity.getMutability(),\n      data: entity.getData()\n    };\n  });\n\n  return {\n    blocks: blocks,\n    entityMap: rawEntityMap\n  };\n};\n\nvar convertFromDraftStateToRaw = function convertFromDraftStateToRaw(contentState) {\n  var rawDraftContentState = {\n    entityMap: {},\n    blocks: []\n  };\n\n  // add blocks\n  rawDraftContentState = encodeRawBlocks(contentState, rawDraftContentState);\n\n  // add entities\n  rawDraftContentState = encodeRawEntityMap(contentState, rawDraftContentState);\n\n  return rawDraftContentState;\n};\n\nmodule.exports = convertFromDraftStateToRaw;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule convertFromHTMLToContentBlocks\n * @format\n * \n */\n\n'use strict';\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _knownListItemDepthCl,\n    _assign = require('object-assign');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar ContentBlock = require('./ContentBlock');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar DefaultDraftBlockRenderMap = require('./DefaultDraftBlockRenderMap');\nvar DraftEntity = require('./DraftEntity');\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar Immutable = require('immutable');\n\nvar _require = require('immutable'),\n    Set = _require.Set;\n\nvar URI = require('fbjs/lib/URI');\n\nvar cx = require('fbjs/lib/cx');\nvar generateRandomKey = require('./generateRandomKey');\nvar getSafeBodyFromHTML = require('./getSafeBodyFromHTML');\nvar invariant = require('fbjs/lib/invariant');\nvar sanitizeDraftText = require('./sanitizeDraftText');\n\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\n\nvar List = Immutable.List,\n    OrderedSet = Immutable.OrderedSet;\n\n\nvar NBSP = '&nbsp;';\nvar SPACE = ' ';\n\n// Arbitrary max indent\nvar MAX_DEPTH = 4;\n\n// used for replacing characters in HTML\nvar REGEX_CR = new RegExp('\\r', 'g');\nvar REGEX_LF = new RegExp('\\n', 'g');\nvar REGEX_NBSP = new RegExp(NBSP, 'g');\nvar REGEX_CARRIAGE = new RegExp('&#13;?', 'g');\nvar REGEX_ZWS = new RegExp('&#8203;?', 'g');\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight\nvar boldValues = ['bold', 'bolder', '500', '600', '700', '800', '900'];\nvar notBoldValues = ['light', 'lighter', '100', '200', '300', '400'];\n\n// Block tag flow is different because LIs do not have\n// a deterministic style ;_;\nvar inlineTags = {\n  b: 'BOLD',\n  code: 'CODE',\n  del: 'STRIKETHROUGH',\n  em: 'ITALIC',\n  i: 'ITALIC',\n  s: 'STRIKETHROUGH',\n  strike: 'STRIKETHROUGH',\n  strong: 'BOLD',\n  u: 'UNDERLINE'\n};\n\nvar knownListItemDepthClasses = (_knownListItemDepthCl = {}, _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth0'), 0), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth1'), 1), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth2'), 2), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth3'), 3), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth4'), 4), _knownListItemDepthCl);\n\nvar anchorAttr = ['className', 'href', 'rel', 'target', 'title'];\n\nvar imgAttr = ['alt', 'className', 'height', 'src', 'width'];\n\nvar lastBlock = void 0;\n\nvar EMPTY_CHUNK = {\n  text: '',\n  inlines: [],\n  entities: [],\n  blocks: []\n};\n\nvar EMPTY_BLOCK = {\n  children: List(),\n  depth: 0,\n  key: '',\n  type: ''\n};\n\nvar getListBlockType = function getListBlockType(tag, lastList) {\n  if (tag === 'li') {\n    return lastList === 'ol' ? 'ordered-list-item' : 'unordered-list-item';\n  }\n  return null;\n};\n\nvar getBlockMapSupportedTags = function getBlockMapSupportedTags(blockRenderMap) {\n  var unstyledElement = blockRenderMap.get('unstyled').element;\n  var tags = Set([]);\n\n  blockRenderMap.forEach(function (draftBlock) {\n    if (draftBlock.aliasedElements) {\n      draftBlock.aliasedElements.forEach(function (tag) {\n        tags = tags.add(tag);\n      });\n    }\n\n    tags = tags.add(draftBlock.element);\n  });\n\n  return tags.filter(function (tag) {\n    return tag && tag !== unstyledElement;\n  }).toArray().sort();\n};\n\n// custom element conversions\nvar getMultiMatchedType = function getMultiMatchedType(tag, lastList, multiMatchExtractor) {\n  for (var ii = 0; ii < multiMatchExtractor.length; ii++) {\n    var matchType = multiMatchExtractor[ii](tag, lastList);\n    if (matchType) {\n      return matchType;\n    }\n  }\n  return null;\n};\n\nvar getBlockTypeForTag = function getBlockTypeForTag(tag, lastList, blockRenderMap) {\n  var matchedTypes = blockRenderMap.filter(function (draftBlock) {\n    return draftBlock.element === tag || draftBlock.wrapper === tag || draftBlock.aliasedElements && draftBlock.aliasedElements.some(function (alias) {\n      return alias === tag;\n    });\n  }).keySeq().toSet().toArray().sort();\n\n  // if we dont have any matched type, return unstyled\n  // if we have one matched type return it\n  // if we have multi matched types use the multi-match function to gather type\n  switch (matchedTypes.length) {\n    case 0:\n      return 'unstyled';\n    case 1:\n      return matchedTypes[0];\n    default:\n      return getMultiMatchedType(tag, lastList, [getListBlockType]) || 'unstyled';\n  }\n};\n\nvar processInlineTag = function processInlineTag(tag, node, currentStyle) {\n  var styleToCheck = inlineTags[tag];\n  if (styleToCheck) {\n    currentStyle = currentStyle.add(styleToCheck).toOrderedSet();\n  } else if (node instanceof HTMLElement) {\n    var htmlElement = node;\n    currentStyle = currentStyle.withMutations(function (style) {\n      var fontWeight = htmlElement.style.fontWeight;\n      var fontStyle = htmlElement.style.fontStyle;\n      var textDecoration = htmlElement.style.textDecoration;\n\n      if (boldValues.indexOf(fontWeight) >= 0) {\n        style.add('BOLD');\n      } else if (notBoldValues.indexOf(fontWeight) >= 0) {\n        style.remove('BOLD');\n      }\n\n      if (fontStyle === 'italic') {\n        style.add('ITALIC');\n      } else if (fontStyle === 'normal') {\n        style.remove('ITALIC');\n      }\n\n      if (textDecoration === 'underline') {\n        style.add('UNDERLINE');\n      }\n      if (textDecoration === 'line-through') {\n        style.add('STRIKETHROUGH');\n      }\n      if (textDecoration === 'none') {\n        style.remove('UNDERLINE');\n        style.remove('STRIKETHROUGH');\n      }\n    }).toOrderedSet();\n  }\n  return currentStyle;\n};\n\nvar joinChunks = function joinChunks(A, B, experimentalHasNestedBlocks) {\n  // Sometimes two blocks will touch in the DOM and we need to strip the\n  // extra delimiter to preserve niceness.\n  var lastInA = A.text.slice(-1);\n  var firstInB = B.text.slice(0, 1);\n\n  if (lastInA === '\\r' && firstInB === '\\r' && !experimentalHasNestedBlocks) {\n    A.text = A.text.slice(0, -1);\n    A.inlines.pop();\n    A.entities.pop();\n    A.blocks.pop();\n  }\n\n  // Kill whitespace after blocks\n  if (lastInA === '\\r') {\n    if (B.text === SPACE || B.text === '\\n') {\n      return A;\n    } else if (firstInB === SPACE || firstInB === '\\n') {\n      B.text = B.text.slice(1);\n      B.inlines.shift();\n      B.entities.shift();\n    }\n  }\n\n  return {\n    text: A.text + B.text,\n    inlines: A.inlines.concat(B.inlines),\n    entities: A.entities.concat(B.entities),\n    blocks: A.blocks.concat(B.blocks)\n  };\n};\n\n/**\n * Check to see if we have anything like <p> <blockquote> <h1>... to create\n * block tags from. If we do, we can use those and ignore <div> tags. If we\n * don't, we can treat <div> tags as meaningful (unstyled) blocks.\n */\nvar containsSemanticBlockMarkup = function containsSemanticBlockMarkup(html, blockTags) {\n  return blockTags.some(function (tag) {\n    return html.indexOf('<' + tag) !== -1;\n  });\n};\n\nvar hasValidLinkText = function hasValidLinkText(link) {\n  !(link instanceof HTMLAnchorElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Link must be an HTMLAnchorElement.') : invariant(false) : void 0;\n  var protocol = link.protocol;\n  return protocol === 'http:' || protocol === 'https:' || protocol === 'mailto:';\n};\n\nvar getWhitespaceChunk = function getWhitespaceChunk(inEntity) {\n  var entities = new Array(1);\n  if (inEntity) {\n    entities[0] = inEntity;\n  }\n  return _extends({}, EMPTY_CHUNK, {\n    text: SPACE,\n    inlines: [OrderedSet()],\n    entities: entities\n  });\n};\n\nvar getSoftNewlineChunk = function getSoftNewlineChunk() {\n  return _extends({}, EMPTY_CHUNK, {\n    text: '\\n',\n    inlines: [OrderedSet()],\n    entities: new Array(1)\n  });\n};\n\nvar getChunkedBlock = function getChunkedBlock() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return _extends({}, EMPTY_BLOCK, props);\n};\n\nvar getBlockDividerChunk = function getBlockDividerChunk(block, depth) {\n  var parentKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  return {\n    text: '\\r',\n    inlines: [OrderedSet()],\n    entities: new Array(1),\n    blocks: [getChunkedBlock({\n      parent: parentKey,\n      key: generateRandomKey(),\n      type: block,\n      depth: Math.max(0, Math.min(MAX_DEPTH, depth))\n    })]\n  };\n};\n\n/**\n *  If we're pasting from one DraftEditor to another we can check to see if\n *  existing list item depth classes are being used and preserve this style\n */\nvar getListItemDepth = function getListItemDepth(node) {\n  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  Object.keys(knownListItemDepthClasses).some(function (depthClass) {\n    if (node.classList.contains(depthClass)) {\n      depth = knownListItemDepthClasses[depthClass];\n    }\n  });\n  return depth;\n};\n\nvar genFragment = function genFragment(entityMap, node, inlineStyle, lastList, inBlock, blockTags, depth, blockRenderMap, inEntity, parentKey) {\n  var lastLastBlock = lastBlock;\n  var nodeName = node.nodeName.toLowerCase();\n  var newEntityMap = entityMap;\n  var nextBlockType = 'unstyled';\n  var newBlock = false;\n  var inBlockType = inBlock && getBlockTypeForTag(inBlock, lastList, blockRenderMap);\n  var chunk = _extends({}, EMPTY_CHUNK);\n  var newChunk = null;\n  var blockKey = void 0;\n\n  // Base Case\n  if (nodeName === '#text') {\n    var _text = node.textContent;\n    var nodeTextContent = _text.trim();\n\n    // We should not create blocks for leading spaces that are\n    // existing around ol/ul and their children list items\n    if (lastList && nodeTextContent === '' && node.parentElement) {\n      var parentNodeName = node.parentElement.nodeName.toLowerCase();\n      if (parentNodeName === 'ol' || parentNodeName === 'ul') {\n        return { chunk: _extends({}, EMPTY_CHUNK), entityMap: entityMap };\n      }\n    }\n\n    if (nodeTextContent === '' && inBlock !== 'pre') {\n      return { chunk: getWhitespaceChunk(inEntity), entityMap: entityMap };\n    }\n    if (inBlock !== 'pre') {\n      // Can't use empty string because MSWord\n      _text = _text.replace(REGEX_LF, SPACE);\n    }\n\n    // save the last block so we can use it later\n    lastBlock = nodeName;\n\n    return {\n      chunk: {\n        text: _text,\n        inlines: Array(_text.length).fill(inlineStyle),\n        entities: Array(_text.length).fill(inEntity),\n        blocks: []\n      },\n      entityMap: entityMap\n    };\n  }\n\n  // save the last block so we can use it later\n  lastBlock = nodeName;\n\n  // BR tags\n  if (nodeName === 'br') {\n    if (lastLastBlock === 'br' && (!inBlock || inBlockType === 'unstyled')) {\n      return {\n        chunk: getBlockDividerChunk('unstyled', depth, parentKey),\n        entityMap: entityMap\n      };\n    }\n    return { chunk: getSoftNewlineChunk(), entityMap: entityMap };\n  }\n\n  // IMG tags\n  if (nodeName === 'img' && node instanceof HTMLImageElement && node.attributes.getNamedItem('src') && node.attributes.getNamedItem('src').value) {\n    var image = node;\n    var entityConfig = {};\n\n    imgAttr.forEach(function (attr) {\n      var imageAttribute = image.getAttribute(attr);\n      if (imageAttribute) {\n        entityConfig[attr] = imageAttribute;\n      }\n    });\n    // Forcing this node to have children because otherwise no entity will be\n    // created for this node.\n    // The child text node cannot just have a space or return as content -\n    // we strip those out.\n    // See https://github.com/facebook/draft-js/issues/231 for some context.\n    node.textContent = '\\uD83D\\uDCF7';\n\n    // TODO: update this when we remove DraftEntity entirely\n    inEntity = DraftEntity.__create('IMAGE', 'MUTABLE', entityConfig || {});\n  }\n\n  // Inline tags\n  inlineStyle = processInlineTag(nodeName, node, inlineStyle);\n\n  // Handle lists\n  if (nodeName === 'ul' || nodeName === 'ol') {\n    if (lastList) {\n      depth += 1;\n    }\n    lastList = nodeName;\n  }\n\n  if (!experimentalTreeDataSupport && nodeName === 'li' && node instanceof HTMLElement) {\n    depth = getListItemDepth(node, depth);\n  }\n\n  var blockType = getBlockTypeForTag(nodeName, lastList, blockRenderMap);\n  var inListBlock = lastList && inBlock === 'li' && nodeName === 'li';\n  var inBlockOrHasNestedBlocks = (!inBlock || experimentalTreeDataSupport) && blockTags.indexOf(nodeName) !== -1;\n\n  // Block Tags\n  if (inListBlock || inBlockOrHasNestedBlocks) {\n    chunk = getBlockDividerChunk(blockType, depth, parentKey);\n    blockKey = chunk.blocks[0].key;\n    inBlock = nodeName;\n    newBlock = !experimentalTreeDataSupport;\n  }\n\n  // this is required so that we can handle 'ul' and 'ol'\n  if (inListBlock) {\n    nextBlockType = lastList === 'ul' ? 'unordered-list-item' : 'ordered-list-item';\n  }\n\n  // Recurse through children\n  var child = node.firstChild;\n  if (child != null) {\n    nodeName = child.nodeName.toLowerCase();\n  }\n\n  var entityId = null;\n\n  while (child) {\n    if (child instanceof HTMLAnchorElement && child.href && hasValidLinkText(child)) {\n      (function () {\n        var anchor = child;\n        var entityConfig = {};\n\n        anchorAttr.forEach(function (attr) {\n          var anchorAttribute = anchor.getAttribute(attr);\n          if (anchorAttribute) {\n            entityConfig[attr] = anchorAttribute;\n          }\n        });\n\n        entityConfig.url = new URI(anchor.href).toString();\n        // TODO: update this when we remove DraftEntity completely\n        entityId = DraftEntity.__create('LINK', 'MUTABLE', entityConfig || {});\n      })();\n    } else {\n      entityId = undefined;\n    }\n\n    var _genFragment = genFragment(newEntityMap, child, inlineStyle, lastList, inBlock, blockTags, depth, blockRenderMap, entityId || inEntity, experimentalTreeDataSupport ? blockKey : null),\n        generatedChunk = _genFragment.chunk,\n        maybeUpdatedEntityMap = _genFragment.entityMap;\n\n    newChunk = generatedChunk;\n    newEntityMap = maybeUpdatedEntityMap;\n\n    chunk = joinChunks(chunk, newChunk, experimentalTreeDataSupport);\n    var sibling = child.nextSibling;\n\n    // Put in a newline to break up blocks inside blocks\n    if (!parentKey && sibling && blockTags.indexOf(nodeName) >= 0 && inBlock) {\n      chunk = joinChunks(chunk, getSoftNewlineChunk());\n    }\n    if (sibling) {\n      nodeName = sibling.nodeName.toLowerCase();\n    }\n    child = sibling;\n  }\n\n  if (newBlock) {\n    chunk = joinChunks(chunk, getBlockDividerChunk(nextBlockType, depth, parentKey));\n  }\n\n  return { chunk: chunk, entityMap: newEntityMap };\n};\n\nvar getChunkForHTML = function getChunkForHTML(html, DOMBuilder, blockRenderMap, entityMap) {\n  html = html.trim().replace(REGEX_CR, '').replace(REGEX_NBSP, SPACE).replace(REGEX_CARRIAGE, '').replace(REGEX_ZWS, '');\n\n  var supportedBlockTags = getBlockMapSupportedTags(blockRenderMap);\n\n  var safeBody = DOMBuilder(html);\n  if (!safeBody) {\n    return null;\n  }\n  lastBlock = null;\n\n  // Sometimes we aren't dealing with content that contains nice semantic\n  // tags. In this case, use divs to separate everything out into paragraphs\n  // and hope for the best.\n  var workingBlocks = containsSemanticBlockMarkup(html, supportedBlockTags) ? supportedBlockTags : ['div'];\n\n  // Start with -1 block depth to offset the fact that we are passing in a fake\n  // UL block to start with.\n  var fragment = genFragment(entityMap, safeBody, OrderedSet(), 'ul', null, workingBlocks, -1, blockRenderMap);\n\n  var chunk = fragment.chunk;\n  var newEntityMap = fragment.entityMap;\n\n  // join with previous block to prevent weirdness on paste\n  if (chunk.text.indexOf('\\r') === 0) {\n    chunk = {\n      text: chunk.text.slice(1),\n      inlines: chunk.inlines.slice(1),\n      entities: chunk.entities.slice(1),\n      blocks: chunk.blocks\n    };\n  }\n\n  // Kill block delimiter at the end\n  if (chunk.text.slice(-1) === '\\r') {\n    chunk.text = chunk.text.slice(0, -1);\n    chunk.inlines = chunk.inlines.slice(0, -1);\n    chunk.entities = chunk.entities.slice(0, -1);\n    chunk.blocks.pop();\n  }\n\n  // If we saw no block tags, put an unstyled one in\n  if (chunk.blocks.length === 0) {\n    chunk.blocks.push(_extends({}, EMPTY_CHUNK, {\n      type: 'unstyled',\n      depth: 0\n    }));\n  }\n\n  // Sometimes we start with text that isn't in a block, which is then\n  // followed by blocks. Need to fix up the blocks to add in\n  // an unstyled block for this content\n  if (chunk.text.split('\\r').length === chunk.blocks.length + 1) {\n    chunk.blocks.unshift({ type: 'unstyled', depth: 0 });\n  }\n\n  return { chunk: chunk, entityMap: newEntityMap };\n};\n\nvar convertChunkToContentBlocks = function convertChunkToContentBlocks(chunk) {\n  if (!chunk || !chunk.text || !Array.isArray(chunk.blocks)) {\n    return null;\n  }\n\n  var initialState = {\n    cacheRef: {},\n    contentBlocks: []\n  };\n\n  var start = 0;\n\n  var rawBlocks = chunk.blocks,\n      rawInlines = chunk.inlines,\n      rawEntities = chunk.entities;\n\n\n  var BlockNodeRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;\n\n  return chunk.text.split('\\r').reduce(function (acc, textBlock, index) {\n    // Make absolutely certain that our text is acceptable.\n    textBlock = sanitizeDraftText(textBlock);\n\n    var block = rawBlocks[index];\n    var end = start + textBlock.length;\n    var inlines = rawInlines.slice(start, end);\n    var entities = rawEntities.slice(start, end);\n    var characterList = List(inlines.map(function (style, index) {\n      var data = { style: style, entity: null };\n      if (entities[index]) {\n        data.entity = entities[index];\n      }\n      return CharacterMetadata.create(data);\n    }));\n    start = end + 1;\n\n    var depth = block.depth,\n        type = block.type,\n        parent = block.parent;\n\n\n    var key = block.key || generateRandomKey();\n    var parentTextNodeKey = null; // will be used to store container text nodes\n\n    // childrens add themselves to their parents since we are iterating in order\n    if (parent) {\n      var parentIndex = acc.cacheRef[parent];\n      var parentRecord = acc.contentBlocks[parentIndex];\n\n      // if parent has text we need to split it into a separate unstyled element\n      if (parentRecord.getChildKeys().isEmpty() && parentRecord.getText()) {\n        var parentCharacterList = parentRecord.getCharacterList();\n        var parentText = parentRecord.getText();\n        parentTextNodeKey = generateRandomKey();\n\n        var textNode = new ContentBlockNode({\n          key: parentTextNodeKey,\n          text: parentText,\n          characterList: parentCharacterList,\n          parent: parent,\n          nextSibling: key\n        });\n\n        acc.contentBlocks.push(textNode);\n\n        parentRecord = parentRecord.withMutations(function (block) {\n          block.set('characterList', List()).set('text', '').set('children', parentRecord.children.push(textNode.getKey()));\n        });\n      }\n\n      acc.contentBlocks[parentIndex] = parentRecord.set('children', parentRecord.children.push(key));\n    }\n\n    var blockNode = new BlockNodeRecord({\n      key: key,\n      parent: parent,\n      type: type,\n      depth: depth,\n      text: textBlock,\n      characterList: characterList,\n      prevSibling: parentTextNodeKey || (index === 0 || rawBlocks[index - 1].parent !== parent ? null : rawBlocks[index - 1].key),\n      nextSibling: index === rawBlocks.length - 1 || rawBlocks[index + 1].parent !== parent ? null : rawBlocks[index + 1].key\n    });\n\n    // insert node\n    acc.contentBlocks.push(blockNode);\n\n    // cache ref for building links\n    acc.cacheRef[blockNode.key] = index;\n\n    return acc;\n  }, initialState).contentBlocks;\n};\n\nvar convertFromHTMLtoContentBlocks = function convertFromHTMLtoContentBlocks(html) {\n  var DOMBuilder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getSafeBodyFromHTML;\n  var blockRenderMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultDraftBlockRenderMap;\n\n  // Be ABSOLUTELY SURE that the dom builder you pass here won't execute\n  // arbitrary code in whatever environment you're running this in. For an\n  // example of how we try to do this in-browser, see getSafeBodyFromHTML.\n\n  // TODO: replace DraftEntity with an OrderedMap here\n  var chunkData = getChunkForHTML(html, DOMBuilder, blockRenderMap, DraftEntity);\n\n  if (chunkData == null) {\n    return null;\n  }\n\n  var chunk = chunkData.chunk,\n      entityMap = chunkData.entityMap;\n\n  var contentBlocks = convertChunkToContentBlocks(chunk);\n\n  return {\n    contentBlocks: contentBlocks,\n    entityMap: entityMap\n  };\n};\n\nmodule.exports = convertFromHTMLtoContentBlocks;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule convertFromRawToDraftState\n * @format\n * \n */\n\n'use strict';\n\nvar _assign = require('object-assign');\n\nvar _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar ContentBlock = require('./ContentBlock');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar ContentState = require('./ContentState');\nvar DraftEntity = require('./DraftEntity');\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar DraftTreeAdapter = require('./DraftTreeAdapter');\nvar Immutable = require('immutable');\nvar SelectionState = require('./SelectionState');\n\nvar createCharacterList = require('./createCharacterList');\nvar decodeEntityRanges = require('./decodeEntityRanges');\nvar decodeInlineStyleRanges = require('./decodeInlineStyleRanges');\nvar generateRandomKey = require('./generateRandomKey');\nvar invariant = require('fbjs/lib/invariant');\n\nvar experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedMap = Immutable.OrderedMap;\n\n\nvar decodeBlockNodeConfig = function decodeBlockNodeConfig(block, entityMap) {\n  var key = block.key,\n      type = block.type,\n      data = block.data,\n      text = block.text,\n      depth = block.depth;\n\n\n  var blockNodeConfig = {\n    text: text,\n    depth: depth || 0,\n    type: type || 'unstyled',\n    key: key || generateRandomKey(),\n    data: Map(data),\n    characterList: decodeCharacterList(block, entityMap)\n  };\n\n  return blockNodeConfig;\n};\n\nvar decodeCharacterList = function decodeCharacterList(block, entityMap) {\n  var text = block.text,\n      rawEntityRanges = block.entityRanges,\n      rawInlineStyleRanges = block.inlineStyleRanges;\n\n\n  var entityRanges = rawEntityRanges || [];\n  var inlineStyleRanges = rawInlineStyleRanges || [];\n\n  // Translate entity range keys to the DraftEntity map.\n  return createCharacterList(decodeInlineStyleRanges(text, inlineStyleRanges), decodeEntityRanges(text, entityRanges.filter(function (range) {\n    return entityMap.hasOwnProperty(range.key);\n  }).map(function (range) {\n    return _extends({}, range, { key: entityMap[range.key] });\n  })));\n};\n\nvar addKeyIfMissing = function addKeyIfMissing(block) {\n  return _extends({}, block, {\n    key: block.key || generateRandomKey()\n  });\n};\n\n/**\n * Node stack is responsible to ensure we traverse the tree only once\n * in depth order, while also providing parent refs to inner nodes to\n * construct their links.\n */\nvar updateNodeStack = function updateNodeStack(stack, nodes, parentRef) {\n  var nodesWithParentRef = nodes.map(function (block) {\n    return _extends({}, block, {\n      parentRef: parentRef\n    });\n  });\n\n  // since we pop nodes from the stack we need to insert them in reverse\n  return stack.concat(nodesWithParentRef.reverse());\n};\n\n/**\n * This will build a tree draft content state by creating the node\n * reference links into a single tree walk. Each node has a link\n * reference to \"parent\", \"children\", \"nextSibling\" and \"prevSibling\"\n * blockMap will be created using depth ordering.\n */\nvar decodeContentBlockNodes = function decodeContentBlockNodes(blocks, entityMap) {\n  return blocks\n  // ensure children have valid keys to enable sibling links\n  .map(addKeyIfMissing).reduce(function (blockMap, block, index) {\n    !Array.isArray(block.children) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'invalid RawDraftContentBlock can not be converted to ContentBlockNode') : invariant(false) : void 0;\n\n    // ensure children have valid keys to enable sibling links\n    var children = block.children.map(addKeyIfMissing);\n\n    // root level nodes\n    var contentBlockNode = new ContentBlockNode(_extends({}, decodeBlockNodeConfig(block, entityMap), {\n      prevSibling: index === 0 ? null : blocks[index - 1].key,\n      nextSibling: index === blocks.length - 1 ? null : blocks[index + 1].key,\n      children: List(children.map(function (child) {\n        return child.key;\n      }))\n    }));\n\n    // push root node to blockMap\n    blockMap = blockMap.set(contentBlockNode.getKey(), contentBlockNode);\n\n    // this stack is used to ensure we visit all nodes respecting depth ordering\n    var stack = updateNodeStack([], children, contentBlockNode);\n\n    // start computing children nodes\n    while (stack.length > 0) {\n      // we pop from the stack and start processing this node\n      var node = stack.pop();\n\n      // parentRef already points to a converted ContentBlockNode\n      var parentRef = node.parentRef;\n      var siblings = parentRef.getChildKeys();\n      var _index = siblings.indexOf(node.key);\n      var isValidBlock = Array.isArray(node.children);\n\n      if (!isValidBlock) {\n        !isValidBlock ? process.env.NODE_ENV !== 'production' ? invariant(false, 'invalid RawDraftContentBlock can not be converted to ContentBlockNode') : invariant(false) : void 0;\n        break;\n      }\n\n      // ensure children have valid keys to enable sibling links\n      var _children = node.children.map(addKeyIfMissing);\n\n      var _contentBlockNode = new ContentBlockNode(_extends({}, decodeBlockNodeConfig(node, entityMap), {\n        parent: parentRef.getKey(),\n        children: List(_children.map(function (child) {\n          return child.key;\n        })),\n        prevSibling: _index === 0 ? null : siblings.get(_index - 1),\n        nextSibling: _index === siblings.size - 1 ? null : siblings.get(_index + 1)\n      }));\n\n      // push node to blockMap\n      blockMap = blockMap.set(_contentBlockNode.getKey(), _contentBlockNode);\n\n      // this stack is used to ensure we visit all nodes respecting depth ordering\n      stack = updateNodeStack(stack, _children, _contentBlockNode);\n    }\n\n    return blockMap;\n  }, OrderedMap());\n};\n\nvar decodeContentBlocks = function decodeContentBlocks(blocks, entityMap) {\n  return OrderedMap(blocks.map(function (block) {\n    var contentBlock = new ContentBlock(decodeBlockNodeConfig(block, entityMap));\n    return [contentBlock.getKey(), contentBlock];\n  }));\n};\n\nvar decodeRawBlocks = function decodeRawBlocks(rawState, entityMap) {\n  var isTreeRawBlock = Array.isArray(rawState.blocks[0].children);\n  var rawBlocks = experimentalTreeDataSupport && !isTreeRawBlock ? DraftTreeAdapter.fromRawStateToRawTreeState(rawState).blocks : rawState.blocks;\n\n  if (!experimentalTreeDataSupport) {\n    return decodeContentBlocks(isTreeRawBlock ? DraftTreeAdapter.fromRawTreeStateToRawState(rawState).blocks : rawBlocks, entityMap);\n  }\n\n  return decodeContentBlockNodes(rawBlocks, entityMap);\n};\n\nvar decodeRawEntityMap = function decodeRawEntityMap(rawState) {\n  var rawEntityMap = rawState.entityMap;\n\n  var entityMap = {};\n\n  // TODO: Update this once we completely remove DraftEntity\n  Object.keys(rawEntityMap).forEach(function (rawEntityKey) {\n    var _rawEntityMap$rawEnti = rawEntityMap[rawEntityKey],\n        type = _rawEntityMap$rawEnti.type,\n        mutability = _rawEntityMap$rawEnti.mutability,\n        data = _rawEntityMap$rawEnti.data;\n\n    // get the key reference to created entity\n\n    entityMap[rawEntityKey] = DraftEntity.__create(type, mutability, data || {});\n  });\n\n  return entityMap;\n};\n\nvar convertFromRawToDraftState = function convertFromRawToDraftState(rawState) {\n  !Array.isArray(rawState.blocks) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'invalid RawDraftContentState') : invariant(false) : void 0;\n\n  // decode entities\n  var entityMap = decodeRawEntityMap(rawState);\n\n  // decode blockMap\n  var blockMap = decodeRawBlocks(rawState, entityMap);\n\n  // create initial selection\n  var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());\n\n  return new ContentState({\n    blockMap: blockMap,\n    entityMap: entityMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n};\n\nmodule.exports = convertFromRawToDraftState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule createCharacterList\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\nvar Immutable = require('immutable');\n\nvar List = Immutable.List;\n\n\nfunction createCharacterList(inlineStyles, entities) {\n  var characterArray = inlineStyles.map(function (style, ii) {\n    var entity = entities[ii];\n    return CharacterMetadata.create({ style: style, entity: entity });\n  });\n  return List(characterArray);\n}\n\nmodule.exports = createCharacterList;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule decodeEntityRanges\n * @format\n * \n */\n\n'use strict';\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar substr = UnicodeUtils.substr;\n\n/**\n * Convert to native JavaScript string lengths to determine ranges.\n */\n\nfunction decodeEntityRanges(text, ranges) {\n  var entities = Array(text.length).fill(null);\n  if (ranges) {\n    ranges.forEach(function (range) {\n      // Using Unicode-enabled substrings converted to JavaScript lengths,\n      // fill the output array with entity keys.\n      var start = substr(text, 0, range.offset).length;\n      var end = start + substr(text, range.offset, range.length).length;\n      for (var ii = start; ii < end; ii++) {\n        entities[ii] = range.key;\n      }\n    });\n  }\n  return entities;\n}\n\nmodule.exports = decodeEntityRanges;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule decodeInlineStyleRanges\n * @format\n * \n */\n\n'use strict';\n\nvar _require = require('immutable'),\n    OrderedSet = _require.OrderedSet;\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar substr = UnicodeUtils.substr;\n\n\nvar EMPTY_SET = OrderedSet();\n\n/**\n * Convert to native JavaScript string lengths to determine ranges.\n */\nfunction decodeInlineStyleRanges(text, ranges) {\n  var styles = Array(text.length).fill(EMPTY_SET);\n  if (ranges) {\n    ranges.forEach(function ( /*object*/range) {\n      var cursor = substr(text, 0, range.offset).length;\n      var end = cursor + substr(text, range.offset, range.length).length;\n      while (cursor < end) {\n        styles[cursor] = styles[cursor].add(range.style);\n        cursor++;\n      }\n    });\n  }\n  return styles;\n}\n\nmodule.exports = decodeInlineStyleRanges;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnBeforeInput\n * @format\n * \n */\n\n'use strict';\n\nvar BlockTree = require('./BlockTree');\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar getEntityKeyForSelection = require('./getEntityKeyForSelection');\nvar isEventHandled = require('./isEventHandled');\nvar isSelectionAtLeafStart = require('./isSelectionAtLeafStart');\nvar nullthrows = require('fbjs/lib/nullthrows');\nvar setImmediate = require('fbjs/lib/setImmediate');\n\n// When nothing is focused, Firefox regards two characters, `'` and `/`, as\n// commands that should open and focus the \"quickfind\" search bar. This should\n// *never* happen while a contenteditable is focused, but as of v28, it\n// sometimes does, even when the keypress event target is the contenteditable.\n// This breaks the input. Special case these characters to ensure that when\n// they are typed, we prevent default on the event to make sure not to\n// trigger quickfind.\nvar FF_QUICKFIND_CHAR = \"'\";\nvar FF_QUICKFIND_LINK_CHAR = '/';\nvar isFirefox = UserAgent.isBrowser('Firefox');\n\nfunction mustPreventDefaultForCharacter(character) {\n  return isFirefox && (character == FF_QUICKFIND_CHAR || character == FF_QUICKFIND_LINK_CHAR);\n}\n\n/**\n * Replace the current selection with the specified text string, with the\n * inline style and entity key applied to the newly inserted text.\n */\nfunction replaceText(editorState, text, inlineStyle, entityKey) {\n  var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), text, inlineStyle, entityKey);\n  return EditorState.push(editorState, contentState, 'insert-characters');\n}\n\n/**\n * When `onBeforeInput` executes, the browser is attempting to insert a\n * character into the editor. Apply this character data to the document,\n * allowing native insertion if possible.\n *\n * Native insertion is encouraged in order to limit re-rendering and to\n * preserve spellcheck highlighting, which disappears or flashes if re-render\n * occurs on the relevant text nodes.\n */\nfunction editOnBeforeInput(editor, e) {\n  if (editor._pendingStateFromBeforeInput !== undefined) {\n    editor.update(editor._pendingStateFromBeforeInput);\n    editor._pendingStateFromBeforeInput = undefined;\n  }\n\n  var editorState = editor._latestEditorState;\n\n  var chars = e.data;\n\n  // In some cases (ex: IE ideographic space insertion) no character data\n  // is provided. There's nothing to do when this happens.\n  if (!chars) {\n    return;\n  }\n\n  // Allow the top-level component to handle the insertion manually. This is\n  // useful when triggering interesting behaviors for a character insertion,\n  // Simple examples: replacing a raw text ':)' with a smile emoji or image\n  // decorator, or setting a block to be a list item after typing '- ' at the\n  // start of the block.\n  if (editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(chars, editorState))) {\n    e.preventDefault();\n    return;\n  }\n\n  // If selection is collapsed, conditionally allow native behavior. This\n  // reduces re-renders and preserves spellcheck highlighting. If the selection\n  // is not collapsed, we will re-render.\n  var selection = editorState.getSelection();\n  var selectionStart = selection.getStartOffset();\n  var selectionEnd = selection.getEndOffset();\n  var anchorKey = selection.getAnchorKey();\n\n  if (!selection.isCollapsed()) {\n    e.preventDefault();\n\n    // If the currently selected text matches what the user is trying to\n    // replace it with, let's just update the `SelectionState`. If not, update\n    // the `ContentState` with the new text.\n    var currentlySelectedChars = editorState.getCurrentContent().getPlainText().slice(selectionStart, selectionEnd);\n    if (chars === currentlySelectedChars) {\n      editor.update(EditorState.forceSelection(editorState, selection.merge({\n        focusOffset: selectionEnd\n      })));\n    } else {\n      editor.update(replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())));\n    }\n    return;\n  }\n\n  var newEditorState = replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection()));\n\n  // Bunch of different cases follow where we need to prevent native insertion.\n  var mustPreventNative = false;\n  if (!mustPreventNative) {\n    // Browsers tend to insert text in weird places in the DOM when typing at\n    // the start of a leaf, so we'll handle it ourselves.\n    mustPreventNative = isSelectionAtLeafStart(editor._latestCommittedEditorState);\n  }\n  if (!mustPreventNative) {\n    // Chrome will also split up a node into two pieces if it contains a Tab\n    // char, for no explicable reason. Seemingly caused by this commit:\n    // https://chromium.googlesource.com/chromium/src/+/013ac5eaf3%5E%21/\n    var nativeSelection = global.getSelection();\n    // Selection is necessarily collapsed at this point due to earlier check.\n    if (nativeSelection.anchorNode && nativeSelection.anchorNode.nodeType === Node.TEXT_NODE) {\n      // See isTabHTMLSpanElement in chromium EditingUtilities.cpp.\n      var parentNode = nativeSelection.anchorNode.parentNode;\n      mustPreventNative = parentNode.nodeName === 'SPAN' && parentNode.firstChild.nodeType === Node.TEXT_NODE && parentNode.firstChild.nodeValue.indexOf('\\t') !== -1;\n    }\n  }\n  if (!mustPreventNative) {\n    // Check the old and new \"fingerprints\" of the current block to determine\n    // whether this insertion requires any addition or removal of text nodes,\n    // in which case we would prevent the native character insertion.\n    var originalFingerprint = BlockTree.getFingerprint(editorState.getBlockTree(anchorKey));\n    var newFingerprint = BlockTree.getFingerprint(newEditorState.getBlockTree(anchorKey));\n    mustPreventNative = originalFingerprint !== newFingerprint;\n  }\n  if (!mustPreventNative) {\n    mustPreventNative = mustPreventDefaultForCharacter(chars);\n  }\n  if (!mustPreventNative) {\n    mustPreventNative = nullthrows(newEditorState.getDirectionMap()).get(anchorKey) !== nullthrows(editorState.getDirectionMap()).get(anchorKey);\n  }\n\n  if (mustPreventNative) {\n    e.preventDefault();\n    editor.update(newEditorState);\n    return;\n  }\n\n  // We made it all the way! Let the browser do its thing and insert the char.\n  newEditorState = EditorState.set(newEditorState, {\n    nativelyRenderedContent: newEditorState.getCurrentContent()\n  });\n  // The native event is allowed to occur. To allow user onChange handlers to\n  // change the inserted text, we wait until the text is actually inserted\n  // before we actually update our state. That way when we rerender, the text\n  // we see in the DOM will already have been inserted properly.\n  editor._pendingStateFromBeforeInput = newEditorState;\n  setImmediate(function () {\n    if (editor._pendingStateFromBeforeInput !== undefined) {\n      editor.update(editor._pendingStateFromBeforeInput);\n      editor._pendingStateFromBeforeInput = undefined;\n    }\n  });\n}\n\nmodule.exports = editOnBeforeInput;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnBlur\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\nvar containsNode = require('fbjs/lib/containsNode');\nvar getActiveElement = require('fbjs/lib/getActiveElement');\n\nfunction editOnBlur(editor, e) {\n  // In a contentEditable element, when you select a range and then click\n  // another active element, this does trigger a `blur` event but will not\n  // remove the DOM selection from the contenteditable.\n  // This is consistent across all browsers, but we prefer that the editor\n  // behave like a textarea, where a `blur` event clears the DOM selection.\n  // We therefore force the issue to be certain, checking whether the active\n  // element is `body` to force it when blurring occurs within the window (as\n  // opposed to clicking to another tab or window).\n  if (getActiveElement() === document.body) {\n    var _selection = global.getSelection();\n    var editorNode = editor.editor;\n    if (_selection.rangeCount === 1 && containsNode(editorNode, _selection.anchorNode) && containsNode(editorNode, _selection.focusNode)) {\n      _selection.removeAllRanges();\n    }\n  }\n\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n  if (!currentSelection.getHasFocus()) {\n    return;\n  }\n\n  var selection = currentSelection.set('hasFocus', false);\n  editor.props.onBlur && editor.props.onBlur(e);\n  editor.update(EditorState.acceptSelection(editorState, selection));\n}\n\nmodule.exports = editOnBlur;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnCompositionStart\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\n/**\n * The user has begun using an IME input system. Switching to `composite` mode\n * allows handling composition input and disables other edit behavior.\n */\nfunction editOnCompositionStart(editor, e) {\n  editor.setMode('composite');\n  editor.update(EditorState.set(editor._latestEditorState, { inCompositionMode: true }));\n  // Allow composition handler to interpret the compositionstart event\n  editor._onCompositionStart(e);\n}\n\nmodule.exports = editOnCompositionStart;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnCopy\n * @format\n * \n */\n\n'use strict';\n\nvar getFragmentFromSelection = require('./getFragmentFromSelection');\n\n/**\n * If we have a selection, create a ContentState fragment and store\n * it in our internal clipboard. Subsequent paste events will use this\n * fragment if no external clipboard data is supplied.\n */\nfunction editOnCopy(editor, e) {\n  var editorState = editor._latestEditorState;\n  var selection = editorState.getSelection();\n\n  // No selection, so there's nothing to copy.\n  if (selection.isCollapsed()) {\n    e.preventDefault();\n    return;\n  }\n\n  editor.setClipboard(getFragmentFromSelection(editor._latestEditorState));\n}\n\nmodule.exports = editOnCopy;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnCut\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar Style = require('fbjs/lib/Style');\n\nvar getFragmentFromSelection = require('./getFragmentFromSelection');\nvar getScrollPosition = require('fbjs/lib/getScrollPosition');\n\n/**\n * On `cut` events, native behavior is allowed to occur so that the system\n * clipboard is set properly. This means that we need to take steps to recover\n * the editor DOM state after the `cut` has occurred in order to maintain\n * control of the component.\n *\n * In addition, we can keep a copy of the removed fragment, including all\n * styles and entities, for use as an internal paste.\n */\nfunction editOnCut(editor, e) {\n  var editorState = editor._latestEditorState;\n  var selection = editorState.getSelection();\n  var element = e.target;\n  var scrollPosition = void 0;\n\n  // No selection, so there's nothing to cut.\n  if (selection.isCollapsed()) {\n    e.preventDefault();\n    return;\n  }\n\n  // Track the current scroll position so that it can be forced back in place\n  // after the editor regains control of the DOM.\n  if (element instanceof Node) {\n    scrollPosition = getScrollPosition(Style.getScrollParent(element));\n  }\n\n  var fragment = getFragmentFromSelection(editorState);\n  editor.setClipboard(fragment);\n\n  // Set `cut` mode to disable all event handling temporarily.\n  editor.setMode('cut');\n\n  // Let native `cut` behavior occur, then recover control.\n  setTimeout(function () {\n    editor.restoreEditorDOM(scrollPosition);\n    editor.exitCurrentMode();\n    editor.update(removeFragment(editorState));\n  }, 0);\n}\n\nfunction removeFragment(editorState) {\n  var newContent = DraftModifier.removeRange(editorState.getCurrentContent(), editorState.getSelection(), 'forward');\n  return EditorState.push(editorState, newContent, 'remove-range');\n}\n\nmodule.exports = editOnCut;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnDragOver\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Drag behavior has begun from outside the editor element.\n */\nfunction editOnDragOver(editor, e) {\n  editor._internalDrag = false;\n  editor.setMode('drag');\n  e.preventDefault();\n}\n\nmodule.exports = editOnDragOver;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnDragStart\n * @format\n * \n */\n\n'use strict';\n\n/**\n * A `dragstart` event has begun within the text editor component.\n */\nfunction editOnDragStart(editor) {\n  editor._internalDrag = true;\n  editor.setMode('drag');\n}\n\nmodule.exports = editOnDragStart;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnFocus\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nfunction editOnFocus(editor, e) {\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n  if (currentSelection.getHasFocus()) {\n    return;\n  }\n\n  var selection = currentSelection.set('hasFocus', true);\n  editor.props.onFocus && editor.props.onFocus(e);\n\n  // When the tab containing this text editor is hidden and the user does a\n  // find-in-page in a _different_ tab, Chrome on Mac likes to forget what the\n  // selection was right after sending this focus event and (if you let it)\n  // moves the cursor back to the beginning of the editor, so we force the\n  // selection here instead of simply accepting it in order to preserve the\n  // old cursor position. See https://crbug.com/540004.\n  // But it looks like this is fixed in Chrome 60.0.3081.0.\n  // Other browsers also don't have this bug, so we prefer to acceptSelection\n  // when possible, to ensure that unfocusing and refocusing a Draft editor\n  // doesn't preserve the selection, matching how textareas work.\n  if (UserAgent.isBrowser('Chrome < 60.0.3081.0')) {\n    editor.update(EditorState.forceSelection(editorState, selection));\n  } else {\n    editor.update(EditorState.acceptSelection(editorState, selection));\n  }\n}\n\nmodule.exports = editOnFocus;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnInput\n * @format\n * \n */\n\n'use strict';\n\nvar DraftFeatureFlags = require('./DraftFeatureFlags');\nvar DraftModifier = require('./DraftModifier');\nvar DraftOffsetKey = require('./DraftOffsetKey');\nvar EditorState = require('./EditorState');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar findAncestorOffsetKey = require('./findAncestorOffsetKey');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nvar isGecko = UserAgent.isEngine('Gecko');\n\nvar DOUBLE_NEWLINE = '\\n\\n';\n\n/**\n * This function is intended to handle spellcheck and autocorrect changes,\n * which occur in the DOM natively without any opportunity to observe or\n * interpret the changes before they occur.\n *\n * The `input` event fires in contentEditable elements reliably for non-IE\n * browsers, immediately after changes occur to the editor DOM. Since our other\n * handlers override or otherwise handle cover other varieties of text input,\n * the DOM state should match the model in all controlled input cases. Thus,\n * when an `input` change leads to a DOM/model mismatch, the change should be\n * due to a spellcheck change, and we can incorporate it into our model.\n */\nfunction editOnInput(editor) {\n  if (editor._pendingStateFromBeforeInput !== undefined) {\n    editor.update(editor._pendingStateFromBeforeInput);\n    editor._pendingStateFromBeforeInput = undefined;\n  }\n\n  var domSelection = global.getSelection();\n\n  var anchorNode = domSelection.anchorNode,\n      isCollapsed = domSelection.isCollapsed;\n\n  var isNotTextNode = anchorNode.nodeType !== Node.TEXT_NODE;\n  var isNotTextOrElementNode = anchorNode.nodeType !== Node.TEXT_NODE && anchorNode.nodeType !== Node.ELEMENT_NODE;\n\n  if (DraftFeatureFlags.draft_killswitch_allow_nontextnodes) {\n    if (isNotTextNode) {\n      return;\n    }\n  } else {\n    if (isNotTextOrElementNode) {\n      // TODO: (t16149272) figure out context for this change\n      return;\n    }\n  }\n\n  if (anchorNode.nodeType === Node.TEXT_NODE && (anchorNode.previousSibling !== null || anchorNode.nextSibling !== null)) {\n    // When typing at the beginning of a visual line, Chrome splits the text\n    // nodes into two. Why? No one knows. This commit is suspicious:\n    // https://chromium.googlesource.com/chromium/src/+/a3b600981286b135632371477f902214c55a1724\n    // To work around, we'll merge the sibling text nodes back into this one.\n    var span = anchorNode.parentNode;\n    anchorNode.nodeValue = span.textContent;\n    for (var child = span.firstChild; child !== null; child = child.nextSibling) {\n      if (child !== anchorNode) {\n        span.removeChild(child);\n      }\n    }\n  }\n\n  var domText = anchorNode.textContent;\n  var editorState = editor._latestEditorState;\n  var offsetKey = nullthrows(findAncestorOffsetKey(anchorNode));\n\n  var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),\n      blockKey = _DraftOffsetKey$decod.blockKey,\n      decoratorKey = _DraftOffsetKey$decod.decoratorKey,\n      leafKey = _DraftOffsetKey$decod.leafKey;\n\n  var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),\n      start = _editorState$getBlock.start,\n      end = _editorState$getBlock.end;\n\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var modelText = block.getText().slice(start, end);\n\n  // Special-case soft newlines here. If the DOM text ends in a soft newline,\n  // we will have manually inserted an extra soft newline in DraftEditorLeaf.\n  // We want to remove this extra newline for the purpose of our comparison\n  // of DOM and model text.\n  if (domText.endsWith(DOUBLE_NEWLINE)) {\n    domText = domText.slice(0, -1);\n  }\n\n  // No change -- the DOM is up to date. Nothing to do here.\n  if (domText === modelText) {\n    // This can be buggy for some Android keyboards because they don't fire\n    // standard onkeydown/pressed events and only fired editOnInput\n    // so domText is already changed by the browser and ends up being equal\n    // to modelText unexpectedly\n    return;\n  }\n\n  var selection = editorState.getSelection();\n\n  // We'll replace the entire leaf with the text content of the target.\n  var targetRange = selection.merge({\n    anchorOffset: start,\n    focusOffset: end,\n    isBackward: false\n  });\n\n  var entityKey = block.getEntityAt(start);\n  var entity = entityKey && content.getEntity(entityKey);\n  var entityType = entity && entity.getMutability();\n  var preserveEntity = entityType === 'MUTABLE';\n\n  // Immutable or segmented entities cannot properly be handled by the\n  // default browser undo, so we have to use a different change type to\n  // force using our internal undo method instead of falling through to the\n  // native browser undo.\n  var changeType = preserveEntity ? 'spellcheck-change' : 'apply-entity';\n\n  var newContent = DraftModifier.replaceText(content, targetRange, domText, block.getInlineStyleAt(start), preserveEntity ? block.getEntityAt(start) : null);\n\n  var anchorOffset, focusOffset, startOffset, endOffset;\n\n  if (isGecko) {\n    // Firefox selection does not change while the context menu is open, so\n    // we preserve the anchor and focus values of the DOM selection.\n    anchorOffset = domSelection.anchorOffset;\n    focusOffset = domSelection.focusOffset;\n    startOffset = start + Math.min(anchorOffset, focusOffset);\n    endOffset = startOffset + Math.abs(anchorOffset - focusOffset);\n    anchorOffset = startOffset;\n    focusOffset = endOffset;\n  } else {\n    // Browsers other than Firefox may adjust DOM selection while the context\n    // menu is open, and Safari autocorrect is prone to providing an inaccurate\n    // DOM selection. Don't trust it. Instead, use our existing SelectionState\n    // and adjust it based on the number of characters changed during the\n    // mutation.\n    var charDelta = domText.length - modelText.length;\n    startOffset = selection.getStartOffset();\n    endOffset = selection.getEndOffset();\n\n    anchorOffset = isCollapsed ? endOffset + charDelta : startOffset;\n    focusOffset = endOffset + charDelta;\n  }\n\n  // Segmented entities are completely or partially removed when their\n  // text content changes. For this case we do not want any text to be selected\n  // after the change, so we are not merging the selection.\n  var contentWithAdjustedDOMSelection = newContent.merge({\n    selectionBefore: content.getSelectionAfter(),\n    selectionAfter: selection.merge({ anchorOffset: anchorOffset, focusOffset: focusOffset })\n  });\n\n  editor.update(EditorState.push(editorState, contentWithAdjustedDOMSelection, changeType));\n}\n\nmodule.exports = editOnInput;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnKeyDown\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\nvar KeyBindingUtil = require('./KeyBindingUtil');\nvar Keys = require('fbjs/lib/Keys');\nvar SecondaryClipboard = require('./SecondaryClipboard');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar isEventHandled = require('./isEventHandled');\nvar keyCommandBackspaceToStartOfLine = require('./keyCommandBackspaceToStartOfLine');\nvar keyCommandBackspaceWord = require('./keyCommandBackspaceWord');\nvar keyCommandDeleteWord = require('./keyCommandDeleteWord');\nvar keyCommandInsertNewline = require('./keyCommandInsertNewline');\nvar keyCommandMoveSelectionToEndOfBlock = require('./keyCommandMoveSelectionToEndOfBlock');\nvar keyCommandMoveSelectionToStartOfBlock = require('./keyCommandMoveSelectionToStartOfBlock');\nvar keyCommandPlainBackspace = require('./keyCommandPlainBackspace');\nvar keyCommandPlainDelete = require('./keyCommandPlainDelete');\nvar keyCommandTransposeCharacters = require('./keyCommandTransposeCharacters');\nvar keyCommandUndo = require('./keyCommandUndo');\n\nvar isOptionKeyCommand = KeyBindingUtil.isOptionKeyCommand;\n\nvar isChrome = UserAgent.isBrowser('Chrome');\n\n/**\n * Map a `DraftEditorCommand` command value to a corresponding function.\n */\nfunction onKeyCommand(command, editorState) {\n  switch (command) {\n    case 'redo':\n      return EditorState.redo(editorState);\n    case 'delete':\n      return keyCommandPlainDelete(editorState);\n    case 'delete-word':\n      return keyCommandDeleteWord(editorState);\n    case 'backspace':\n      return keyCommandPlainBackspace(editorState);\n    case 'backspace-word':\n      return keyCommandBackspaceWord(editorState);\n    case 'backspace-to-start-of-line':\n      return keyCommandBackspaceToStartOfLine(editorState);\n    case 'split-block':\n      return keyCommandInsertNewline(editorState);\n    case 'transpose-characters':\n      return keyCommandTransposeCharacters(editorState);\n    case 'move-selection-to-start-of-block':\n      return keyCommandMoveSelectionToStartOfBlock(editorState);\n    case 'move-selection-to-end-of-block':\n      return keyCommandMoveSelectionToEndOfBlock(editorState);\n    case 'secondary-cut':\n      return SecondaryClipboard.cut(editorState);\n    case 'secondary-paste':\n      return SecondaryClipboard.paste(editorState);\n    default:\n      return editorState;\n  }\n}\n\n/**\n * Intercept keydown behavior to handle keys and commands manually, if desired.\n *\n * Keydown combinations may be mapped to `DraftCommand` values, which may\n * correspond to command functions that modify the editor or its contents.\n *\n * See `getDefaultKeyBinding` for defaults. Alternatively, the top-level\n * component may provide a custom mapping via the `keyBindingFn` prop.\n */\nfunction editOnKeyDown(editor, e) {\n  var keyCode = e.which;\n  var editorState = editor._latestEditorState;\n\n  switch (keyCode) {\n    case Keys.RETURN:\n      e.preventDefault();\n      // The top-level component may manually handle newline insertion. If\n      // no special handling is performed, fall through to command handling.\n      if (editor.props.handleReturn && isEventHandled(editor.props.handleReturn(e, editorState))) {\n        return;\n      }\n      break;\n    case Keys.ESC:\n      e.preventDefault();\n      editor.props.onEscape && editor.props.onEscape(e);\n      return;\n    case Keys.TAB:\n      editor.props.onTab && editor.props.onTab(e);\n      return;\n    case Keys.UP:\n      editor.props.onUpArrow && editor.props.onUpArrow(e);\n      return;\n    case Keys.RIGHT:\n      editor.props.onRightArrow && editor.props.onRightArrow(e);\n      return;\n    case Keys.DOWN:\n      editor.props.onDownArrow && editor.props.onDownArrow(e);\n      return;\n    case Keys.LEFT:\n      editor.props.onLeftArrow && editor.props.onLeftArrow(e);\n      return;\n    case Keys.SPACE:\n      // Handling for OSX where option + space scrolls.\n      if (isChrome && isOptionKeyCommand(e)) {\n        e.preventDefault();\n        // Insert a nbsp into the editor.\n        var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), '\\xA0');\n        editor.update(EditorState.push(editorState, contentState, 'insert-characters'));\n        return;\n      }\n  }\n\n  var command = editor.props.keyBindingFn(e);\n\n  // If no command is specified, allow keydown event to continue.\n  if (!command) {\n    return;\n  }\n\n  if (command === 'undo') {\n    // Since undo requires some special updating behavior to keep the editor\n    // in sync, handle it separately.\n    keyCommandUndo(e, editorState, editor.update);\n    return;\n  }\n\n  // At this point, we know that we're handling a command of some kind, so\n  // we don't want to insert a character following the keydown.\n  e.preventDefault();\n\n  // Allow components higher up the tree to handle the command first.\n  if (editor.props.handleKeyCommand && isEventHandled(editor.props.handleKeyCommand(command, editorState))) {\n    return;\n  }\n\n  var newState = onKeyCommand(command, editorState);\n  if (newState !== editorState) {\n    editor.update(newState);\n  }\n}\n\nmodule.exports = editOnKeyDown;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnPaste\n * @format\n * \n */\n\n'use strict';\n\nvar BlockMapBuilder = require('./BlockMapBuilder');\nvar CharacterMetadata = require('./CharacterMetadata');\nvar DataTransfer = require('fbjs/lib/DataTransfer');\nvar DraftModifier = require('./DraftModifier');\nvar DraftPasteProcessor = require('./DraftPasteProcessor');\nvar EditorState = require('./EditorState');\nvar RichTextEditorUtil = require('./RichTextEditorUtil');\n\nvar getEntityKeyForSelection = require('./getEntityKeyForSelection');\nvar getTextContentFromFiles = require('./getTextContentFromFiles');\nvar isEventHandled = require('./isEventHandled');\nvar splitTextIntoTextBlocks = require('./splitTextIntoTextBlocks');\n\n/**\n * Paste content.\n */\nfunction editOnPaste(editor, e) {\n  e.preventDefault();\n  var data = new DataTransfer(e.clipboardData);\n\n  // Get files, unless this is likely to be a string the user wants inline.\n  if (!data.isRichText()) {\n    var files = data.getFiles();\n    var defaultFileText = data.getText();\n    if (files.length > 0) {\n      // Allow customized paste handling for images, etc. Otherwise, fall\n      // through to insert text contents into the editor.\n      if (editor.props.handlePastedFiles && isEventHandled(editor.props.handlePastedFiles(files))) {\n        return;\n      }\n\n      getTextContentFromFiles(files, function ( /*string*/fileText) {\n        fileText = fileText || defaultFileText;\n        if (!fileText) {\n          return;\n        }\n\n        var editorState = editor._latestEditorState;\n        var blocks = splitTextIntoTextBlocks(fileText);\n        var character = CharacterMetadata.create({\n          style: editorState.getCurrentInlineStyle(),\n          entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())\n        });\n        var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);\n\n        var text = DraftPasteProcessor.processText(blocks, character, currentBlockType);\n        var fragment = BlockMapBuilder.createFromArray(text);\n\n        var withInsertedText = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment);\n\n        editor.update(EditorState.push(editorState, withInsertedText, 'insert-fragment'));\n      });\n\n      return;\n    }\n  }\n\n  var textBlocks = [];\n  var text = data.getText();\n  var html = data.getHTML();\n  var editorState = editor._latestEditorState;\n\n  if (editor.props.handlePastedText && isEventHandled(editor.props.handlePastedText(text, html, editorState))) {\n    return;\n  }\n\n  if (text) {\n    textBlocks = splitTextIntoTextBlocks(text);\n  }\n\n  if (!editor.props.stripPastedStyles) {\n    // If the text from the paste event is rich content that matches what we\n    // already have on the internal clipboard, assume that we should just use\n    // the clipboard fragment for the paste. This will allow us to preserve\n    // styling and entities, if any are present. Note that newlines are\n    // stripped during comparison -- this is because copy/paste within the\n    // editor in Firefox and IE will not include empty lines. The resulting\n    // paste will preserve the newlines correctly.\n    var internalClipboard = editor.getClipboard();\n    if (data.isRichText() && internalClipboard) {\n      if (\n      // If the editorKey is present in the pasted HTML, it should be safe to\n      // assume this is an internal paste.\n      html.indexOf(editor.getEditorKey()) !== -1 ||\n      // The copy may have been made within a single block, in which case the\n      // editor key won't be part of the paste. In this case, just check\n      // whether the pasted text matches the internal clipboard.\n      textBlocks.length === 1 && internalClipboard.size === 1 && internalClipboard.first().getText() === text) {\n        editor.update(insertFragment(editor._latestEditorState, internalClipboard));\n        return;\n      }\n    } else if (internalClipboard && data.types.includes('com.apple.webarchive') && !data.types.includes('text/html') && areTextBlocksAndClipboardEqual(textBlocks, internalClipboard)) {\n      // Safari does not properly store text/html in some cases.\n      // Use the internalClipboard if present and equal to what is on\n      // the clipboard. See https://bugs.webkit.org/show_bug.cgi?id=19893.\n      editor.update(insertFragment(editor._latestEditorState, internalClipboard));\n      return;\n    }\n\n    // If there is html paste data, try to parse that.\n    if (html) {\n      var htmlFragment = DraftPasteProcessor.processHTML(html, editor.props.blockRenderMap);\n      if (htmlFragment) {\n        var contentBlocks = htmlFragment.contentBlocks,\n            entityMap = htmlFragment.entityMap;\n\n        if (contentBlocks) {\n          var htmlMap = BlockMapBuilder.createFromArray(contentBlocks);\n          editor.update(insertFragment(editor._latestEditorState, htmlMap, entityMap));\n          return;\n        }\n      }\n    }\n\n    // Otherwise, create a new fragment from our pasted text. Also\n    // empty the internal clipboard, since it's no longer valid.\n    editor.setClipboard(null);\n  }\n\n  if (textBlocks.length) {\n    var character = CharacterMetadata.create({\n      style: editorState.getCurrentInlineStyle(),\n      entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())\n    });\n\n    var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);\n\n    var textFragment = DraftPasteProcessor.processText(textBlocks, character, currentBlockType);\n\n    var textMap = BlockMapBuilder.createFromArray(textFragment);\n    editor.update(insertFragment(editor._latestEditorState, textMap));\n  }\n}\n\nfunction insertFragment(editorState, fragment, entityMap) {\n  var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment);\n  // TODO: merge the entity map once we stop using DraftEntity\n  // like this:\n  // const mergedEntityMap = newContent.getEntityMap().merge(entityMap);\n\n  return EditorState.push(editorState, newContent.set('entityMap', entityMap), 'insert-fragment');\n}\n\nfunction areTextBlocksAndClipboardEqual(textBlocks, blockMap) {\n  return textBlocks.length === blockMap.size && blockMap.valueSeq().every(function (block, ii) {\n    return block.getText() === textBlocks[ii];\n  });\n}\n\nmodule.exports = editOnPaste;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule editOnSelect\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar ReactDOM = require('react-dom');\n\nvar getDraftEditorSelection = require('./getDraftEditorSelection');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction editOnSelect(editor) {\n  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {\n    return;\n  }\n\n  var editorState = editor.props.editorState;\n  var editorNode = ReactDOM.findDOMNode(editor.editorContainer);\n  !editorNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing editorNode') : invariant(false) : void 0;\n  !(editorNode.firstChild instanceof HTMLElement) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'editorNode.firstChild is not an HTMLElement') : invariant(false) : void 0;\n  var documentSelection = getDraftEditorSelection(editorState, editorNode.firstChild);\n  var updatedSelectionState = documentSelection.selectionState;\n\n  if (updatedSelectionState !== editorState.getSelection()) {\n    if (documentSelection.needsRecovery) {\n      editorState = EditorState.forceSelection(editorState, updatedSelectionState);\n    } else {\n      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);\n    }\n    editor.update(editorState);\n  }\n}\n\nmodule.exports = editOnSelect;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule encodeEntityRanges\n * @format\n * \n */\n\n'use strict';\n\nvar DraftStringKey = require('./DraftStringKey');\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar strlen = UnicodeUtils.strlen;\n\n/**\n * Convert to UTF-8 character counts for storage.\n */\n\nfunction encodeEntityRanges(block, storageMap) {\n  var encoded = [];\n  block.findEntityRanges(function (character) {\n    return !!character.getEntity();\n  }, function ( /*number*/start, /*number*/end) {\n    var text = block.getText();\n    var key = block.getEntityAt(start);\n    encoded.push({\n      offset: strlen(text.slice(0, start)),\n      length: strlen(text.slice(start, end)),\n      // Encode the key as a number for range storage.\n      key: Number(storageMap[DraftStringKey.stringify(key)])\n    });\n  });\n  return encoded;\n}\n\nmodule.exports = encodeEntityRanges;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule encodeInlineStyleRanges\n * @format\n * \n */\n\n'use strict';\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar areEqual = function areEqual(a, b) {\n  return a === b;\n};\nvar isTruthy = function isTruthy(a) {\n  return !!a;\n};\nvar EMPTY_ARRAY = [];\n\n/**\n * Helper function for getting encoded styles for each inline style. Convert\n * to UTF-8 character counts for storage.\n */\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\n  var ranges = [];\n\n  // Obtain an array with ranges for only the specified style.\n  var filteredInlines = styleList.map(function (style) {\n    return style.has(styleToEncode);\n  }).toList();\n\n  findRangesImmutable(filteredInlines, areEqual,\n  // We only want to keep ranges with nonzero style values.\n  isTruthy, function (start, end) {\n    var text = block.getText();\n    ranges.push({\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\n      length: UnicodeUtils.strlen(text.slice(start, end)),\n      style: styleToEncode\n    });\n  });\n\n  return ranges;\n}\n\n/*\n * Retrieve the encoded arrays of inline styles, with each individual style\n * treated separately.\n */\nfunction encodeInlineStyleRanges(block) {\n  var styleList = block.getCharacterList().map(function (c) {\n    return c.getStyle();\n  }).toList();\n  var ranges = styleList.flatten().toSet().map(function (style) {\n    return getEncodedInlinesForType(block, styleList, style);\n  });\n\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\n}\n\nmodule.exports = encodeInlineStyleRanges;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule expandRangeToStartOfLine\n * @format\n * \n */\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar getRangeClientRects = require('./getRangeClientRects');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Return the computed line height, in pixels, for the provided element.\n */\nfunction getLineHeightPx(element) {\n  var computed = getComputedStyle(element);\n  var div = document.createElement('div');\n  div.style.fontFamily = computed.fontFamily;\n  div.style.fontSize = computed.fontSize;\n  div.style.fontStyle = computed.fontStyle;\n  div.style.fontWeight = computed.fontWeight;\n  div.style.lineHeight = computed.lineHeight;\n  div.style.position = 'absolute';\n  div.textContent = 'M';\n\n  var documentBody = document.body;\n  !documentBody ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing document.body') : invariant(false) : void 0;\n\n  // forced layout here\n  documentBody.appendChild(div);\n  var rect = div.getBoundingClientRect();\n  documentBody.removeChild(div);\n\n  return rect.height;\n}\n\n/**\n * Return whether every ClientRect in the provided list lies on the same line.\n *\n * We assume that the rects on the same line all contain the baseline, so the\n * lowest top line needs to be above the highest bottom line (i.e., if you were\n * to project the rects onto the y-axis, their intersection would be nonempty).\n *\n * In addition, we require that no two boxes are lineHeight (or more) apart at\n * either top or bottom, which helps protect against false positives for fonts\n * with extremely large glyph heights (e.g., with a font size of 17px, Zapfino\n * produces rects of height 58px!).\n */\nfunction areRectsOnOneLine(rects, lineHeight) {\n  var minTop = Infinity;\n  var minBottom = Infinity;\n  var maxTop = -Infinity;\n  var maxBottom = -Infinity;\n\n  for (var ii = 0; ii < rects.length; ii++) {\n    var rect = rects[ii];\n    if (rect.width === 0 || rect.width === 1) {\n      // When a range starts or ends a soft wrap, many browsers (Chrome, IE,\n      // Safari) include an empty rect on the previous or next line. When the\n      // text lies in a container whose position is not integral (e.g., from\n      // margin: auto), Safari makes these empty rects have width 1 (instead of\n      // 0). Having one-pixel-wide characters seems unlikely (and most browsers\n      // report widths in subpixel precision anyway) so it's relatively safe to\n      // skip over them.\n      continue;\n    }\n    minTop = Math.min(minTop, rect.top);\n    minBottom = Math.min(minBottom, rect.bottom);\n    maxTop = Math.max(maxTop, rect.top);\n    maxBottom = Math.max(maxBottom, rect.bottom);\n  }\n\n  return maxTop <= minBottom && maxTop - minTop < lineHeight && maxBottom - minBottom < lineHeight;\n}\n\n/**\n * Return the length of a node, as used by Range offsets.\n */\nfunction getNodeLength(node) {\n  // http://www.w3.org/TR/dom/#concept-node-length\n  switch (node.nodeType) {\n    case Node.DOCUMENT_TYPE_NODE:\n      return 0;\n    case Node.TEXT_NODE:\n    case Node.PROCESSING_INSTRUCTION_NODE:\n    case Node.COMMENT_NODE:\n      return node.length;\n    default:\n      return node.childNodes.length;\n  }\n}\n\n/**\n * Given a collapsed range, move the start position backwards as far as\n * possible while the range still spans only a single line.\n */\nfunction expandRangeToStartOfLine(range) {\n  !range.collapsed ? process.env.NODE_ENV !== 'production' ? invariant(false, 'expandRangeToStartOfLine: Provided range is not collapsed.') : invariant(false) : void 0;\n  range = range.cloneRange();\n\n  var containingElement = range.startContainer;\n  if (containingElement.nodeType !== 1) {\n    containingElement = containingElement.parentNode;\n  }\n  var lineHeight = getLineHeightPx(containingElement);\n\n  // Imagine our text looks like:\n  //   <div><span>once upon a time, there was a <em>boy\n  //   who lived</em> </span><q><strong>under^ the\n  //   stairs</strong> in a small closet.</q></div>\n  // where the caret represents the cursor. First, we crawl up the tree until\n  // the range spans multiple lines (setting the start point to before\n  // \"<strong>\", then before \"<div>\"), then at each level we do a search to\n  // find the latest point which is still on a previous line. We'll find that\n  // the break point is inside the span, then inside the <em>, then in its text\n  // node child, the actual break point before \"who\".\n\n  var bestContainer = range.endContainer;\n  var bestOffset = range.endOffset;\n  range.setStart(range.startContainer, 0);\n\n  while (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {\n    bestContainer = range.startContainer;\n    bestOffset = range.startOffset;\n    !bestContainer.parentNode ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Found unexpected detached subtree when traversing.') : invariant(false) : void 0;\n    range.setStartBefore(bestContainer);\n    if (bestContainer.nodeType === 1 && getComputedStyle(bestContainer).display !== 'inline') {\n      // The start of the line is never in a different block-level container.\n      break;\n    }\n  }\n\n  // In the above example, range now spans from \"<div>\" to \"under\",\n  // bestContainer is <div>, and bestOffset is 1 (index of <q> inside <div>)].\n  // Picking out which child to recurse into here is a special case since we\n  // don't want to check past <q> -- once we find that the final range starts\n  // in <span>, we can look at all of its children (and all of their children)\n  // to find the break point.\n\n  // At all times, (bestContainer, bestOffset) is the latest single-line start\n  // point that we know of.\n  var currentContainer = bestContainer;\n  var maxIndexToConsider = bestOffset - 1;\n\n  do {\n    var nodeValue = currentContainer.nodeValue;\n\n    for (var ii = maxIndexToConsider; ii >= 0; ii--) {\n      if (nodeValue != null && ii > 0 && UnicodeUtils.isSurrogatePair(nodeValue, ii - 1)) {\n        // We're in the middle of a surrogate pair -- skip over so we never\n        // return a range with an endpoint in the middle of a code point.\n        continue;\n      }\n\n      range.setStart(currentContainer, ii);\n      if (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {\n        bestContainer = currentContainer;\n        bestOffset = ii;\n      } else {\n        break;\n      }\n    }\n\n    if (ii === -1 || currentContainer.childNodes.length === 0) {\n      // If ii === -1, then (bestContainer, bestOffset), which is equal to\n      // (currentContainer, 0), was a single-line start point but a start\n      // point before currentContainer wasn't, so the line break seems to\n      // have occurred immediately after currentContainer's start tag\n      //\n      // If currentContainer.childNodes.length === 0, we're already at a\n      // terminal node (e.g., text node) and should return our current best.\n      break;\n    }\n\n    currentContainer = currentContainer.childNodes[ii];\n    maxIndexToConsider = getNodeLength(currentContainer);\n  } while (true);\n\n  range.setStart(bestContainer, bestOffset);\n  return range;\n}\n\nmodule.exports = expandRangeToStartOfLine;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule findAncestorOffsetKey\n * @format\n * \n */\n\n'use strict';\n\nvar getSelectionOffsetKeyForNode = require('./getSelectionOffsetKeyForNode');\n\n/**\n * Get the key from the node's nearest offset-aware ancestor.\n */\nfunction findAncestorOffsetKey(node) {\n  var searchNode = node;\n  while (searchNode && searchNode !== document.documentElement) {\n    var key = getSelectionOffsetKeyForNode(searchNode);\n    if (key != null) {\n      return key;\n    }\n    searchNode = searchNode.parentNode;\n  }\n  return null;\n}\n\nmodule.exports = findAncestorOffsetKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule findRangesImmutable\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Search through an array to find contiguous stretches of elements that\n * match a specified filter function.\n *\n * When ranges are found, execute a specified `found` function to supply\n * the values to the caller.\n */\nfunction findRangesImmutable(haystack, areEqualFn, filterFn, foundFn) {\n  if (!haystack.size) {\n    return;\n  }\n\n  var cursor = 0;\n\n  haystack.reduce(function (value, nextValue, nextIndex) {\n    if (!areEqualFn(value, nextValue)) {\n      if (filterFn(value)) {\n        foundFn(cursor, nextIndex);\n      }\n      cursor = nextIndex;\n    }\n    return nextValue;\n  });\n\n  filterFn(haystack.last()) && foundFn(cursor, haystack.count());\n}\n\nmodule.exports = findRangesImmutable;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule generateRandomKey\n * @format\n * \n */\n\n'use strict';\n\nvar seenKeys = {};\nvar MULTIPLIER = Math.pow(2, 24);\n\nfunction generateRandomKey() {\n  var key = void 0;\n  while (key === undefined || seenKeys.hasOwnProperty(key) || !isNaN(+key)) {\n    key = Math.floor(Math.random() * MULTIPLIER).toString(32);\n  }\n  seenKeys[key] = true;\n  return key;\n}\n\nmodule.exports = generateRandomKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getCharacterRemovalRange\n * @format\n * \n */\n\n'use strict';\n\nvar DraftEntitySegments = require('./DraftEntitySegments');\n\nvar getRangesForDraftEntity = require('./getRangesForDraftEntity');\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Given a SelectionState and a removal direction, determine the entire range\n * that should be removed from a ContentState. This is based on any entities\n * within the target, with their `mutability` values taken into account.\n *\n * For instance, if we are attempting to remove part of an \"immutable\" entity\n * range, the entire entity must be removed. The returned `SelectionState`\n * will be adjusted accordingly.\n */\nfunction getCharacterRemovalRange(entityMap, startBlock, endBlock, selectionState, direction) {\n  var start = selectionState.getStartOffset();\n  var end = selectionState.getEndOffset();\n  var startEntityKey = startBlock.getEntityAt(start);\n  var endEntityKey = endBlock.getEntityAt(end - 1);\n  if (!startEntityKey && !endEntityKey) {\n    return selectionState;\n  }\n  var newSelectionState = selectionState;\n  if (startEntityKey && startEntityKey === endEntityKey) {\n    newSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, true, true);\n  } else if (startEntityKey && endEntityKey) {\n    var startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);\n    var endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);\n    newSelectionState = newSelectionState.merge({\n      anchorOffset: startSelectionState.getAnchorOffset(),\n      focusOffset: endSelectionState.getFocusOffset(),\n      isBackward: false\n    });\n  } else if (startEntityKey) {\n    var _startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);\n    newSelectionState = newSelectionState.merge({\n      anchorOffset: _startSelectionState.getStartOffset(),\n      isBackward: false\n    });\n  } else if (endEntityKey) {\n    var _endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);\n    newSelectionState = newSelectionState.merge({\n      focusOffset: _endSelectionState.getEndOffset(),\n      isBackward: false\n    });\n  }\n  return newSelectionState;\n}\n\nfunction getEntityRemovalRange(entityMap, block, selectionState, direction, entityKey, isEntireSelectionWithinEntity, isEntityAtStart) {\n  var start = selectionState.getStartOffset();\n  var end = selectionState.getEndOffset();\n  var entity = entityMap.__get(entityKey);\n  var mutability = entity.getMutability();\n  var sideToConsider = isEntityAtStart ? start : end;\n\n  // `MUTABLE` entities can just have the specified range of text removed\n  // directly. No adjustments are needed.\n  if (mutability === 'MUTABLE') {\n    return selectionState;\n  }\n\n  // Find the entity range that overlaps with our removal range.\n  var entityRanges = getRangesForDraftEntity(block, entityKey).filter(function (range) {\n    return sideToConsider <= range.end && sideToConsider >= range.start;\n  });\n\n  !(entityRanges.length == 1) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'There should only be one entity range within this removal range.') : invariant(false) : void 0;\n\n  var entityRange = entityRanges[0];\n\n  // For `IMMUTABLE` entity types, we will remove the entire entity range.\n  if (mutability === 'IMMUTABLE') {\n    return selectionState.merge({\n      anchorOffset: entityRange.start,\n      focusOffset: entityRange.end,\n      isBackward: false\n    });\n  }\n\n  // For `SEGMENTED` entity types, determine the appropriate segment to\n  // remove.\n  if (!isEntireSelectionWithinEntity) {\n    if (isEntityAtStart) {\n      end = entityRange.end;\n    } else {\n      start = entityRange.start;\n    }\n  }\n\n  var removalRange = DraftEntitySegments.getRemovalRange(start, end, block.getText().slice(entityRange.start, entityRange.end), entityRange.start, direction);\n\n  return selectionState.merge({\n    anchorOffset: removalRange.start,\n    focusOffset: removalRange.end,\n    isBackward: false\n  });\n}\n\nmodule.exports = getCharacterRemovalRange;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getContentStateFragment\n * @format\n * \n */\n\n'use strict';\n\nvar randomizeBlockMapKeys = require('./randomizeBlockMapKeys');\nvar removeEntitiesAtEdges = require('./removeEntitiesAtEdges');\n\nvar getContentStateFragment = function getContentStateFragment(contentState, selectionState) {\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  // Edge entities should be stripped to ensure that we don't preserve\n  // invalid partial entities when the fragment is reused. We do, however,\n  // preserve entities that are entirely within the selection range.\n  var contentWithoutEdgeEntities = removeEntitiesAtEdges(contentState, selectionState);\n\n  var blockMap = contentWithoutEdgeEntities.getBlockMap();\n  var blockKeys = blockMap.keySeq();\n  var startIndex = blockKeys.indexOf(startKey);\n  var endIndex = blockKeys.indexOf(endKey) + 1;\n\n  return randomizeBlockMapKeys(blockMap.slice(startIndex, endIndex).map(function (block, blockKey) {\n    var text = block.getText();\n    var chars = block.getCharacterList();\n\n    if (startKey === endKey) {\n      return block.merge({\n        text: text.slice(startOffset, endOffset),\n        characterList: chars.slice(startOffset, endOffset)\n      });\n    }\n\n    if (blockKey === startKey) {\n      return block.merge({\n        text: text.slice(startOffset),\n        characterList: chars.slice(startOffset)\n      });\n    }\n\n    if (blockKey === endKey) {\n      return block.merge({\n        text: text.slice(0, endOffset),\n        characterList: chars.slice(0, endOffset)\n      });\n    }\n\n    return block;\n  }));\n};\n\nmodule.exports = getContentStateFragment;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getDefaultKeyBinding\n * @format\n * \n */\n\n'use strict';\n\nvar KeyBindingUtil = require('./KeyBindingUtil');\nvar Keys = require('fbjs/lib/Keys');\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar isOSX = UserAgent.isPlatform('Mac OS X');\nvar isWindows = UserAgent.isPlatform('Windows');\n\n// Firefox on OSX had a bug resulting in navigation instead of cursor movement.\n// This bug was fixed in Firefox 29. Feature detection is virtually impossible\n// so we just check the version number. See #342765.\nvar shouldFixFirefoxMovement = isOSX && UserAgent.isBrowser('Firefox < 29');\n\nvar hasCommandModifier = KeyBindingUtil.hasCommandModifier,\n    isCtrlKeyCommand = KeyBindingUtil.isCtrlKeyCommand;\n\n\nfunction shouldRemoveWord(e) {\n  return isOSX && e.altKey || isCtrlKeyCommand(e);\n}\n\n/**\n * Get the appropriate undo/redo command for a Z key command.\n */\nfunction getZCommand(e) {\n  if (!hasCommandModifier(e)) {\n    return null;\n  }\n  return e.shiftKey ? 'redo' : 'undo';\n}\n\nfunction getDeleteCommand(e) {\n  // Allow default \"cut\" behavior for Windows on Shift + Delete.\n  if (isWindows && e.shiftKey) {\n    return null;\n  }\n  return shouldRemoveWord(e) ? 'delete-word' : 'delete';\n}\n\nfunction getBackspaceCommand(e) {\n  if (hasCommandModifier(e) && isOSX) {\n    return 'backspace-to-start-of-line';\n  }\n  return shouldRemoveWord(e) ? 'backspace-word' : 'backspace';\n}\n\n/**\n * Retrieve a bound key command for the given event.\n */\nfunction getDefaultKeyBinding(e) {\n  switch (e.keyCode) {\n    case 66:\n      // B\n      return hasCommandModifier(e) ? 'bold' : null;\n    case 68:\n      // D\n      return isCtrlKeyCommand(e) ? 'delete' : null;\n    case 72:\n      // H\n      return isCtrlKeyCommand(e) ? 'backspace' : null;\n    case 73:\n      // I\n      return hasCommandModifier(e) ? 'italic' : null;\n    case 74:\n      // J\n      return hasCommandModifier(e) ? 'code' : null;\n    case 75:\n      // K\n      return !isWindows && isCtrlKeyCommand(e) ? 'secondary-cut' : null;\n    case 77:\n      // M\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n    case 79:\n      // O\n      return isCtrlKeyCommand(e) ? 'split-block' : null;\n    case 84:\n      // T\n      return isOSX && isCtrlKeyCommand(e) ? 'transpose-characters' : null;\n    case 85:\n      // U\n      return hasCommandModifier(e) ? 'underline' : null;\n    case 87:\n      // W\n      return isOSX && isCtrlKeyCommand(e) ? 'backspace-word' : null;\n    case 89:\n      // Y\n      if (isCtrlKeyCommand(e)) {\n        return isWindows ? 'redo' : 'secondary-paste';\n      }\n      return null;\n    case 90:\n      // Z\n      return getZCommand(e) || null;\n    case Keys.RETURN:\n      return 'split-block';\n    case Keys.DELETE:\n      return getDeleteCommand(e);\n    case Keys.BACKSPACE:\n      return getBackspaceCommand(e);\n    // LEFT/RIGHT handlers serve as a workaround for a Firefox bug.\n    case Keys.LEFT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-start-of-block' : null;\n    case Keys.RIGHT:\n      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-end-of-block' : null;\n    default:\n      return null;\n  }\n}\n\nmodule.exports = getDefaultKeyBinding;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getDraftEditorSelection\n * @format\n * \n */\n\n'use strict';\n\nvar getDraftEditorSelectionWithNodes = require('./getDraftEditorSelectionWithNodes');\n\n/**\n * Convert the current selection range to an anchor/focus pair of offset keys\n * and values that can be interpreted by components.\n */\nfunction getDraftEditorSelection(editorState, root) {\n  var selection = global.getSelection();\n\n  // No active selection.\n  if (selection.rangeCount === 0) {\n    return {\n      selectionState: editorState.getSelection().set('hasFocus', false),\n      needsRecovery: false\n    };\n  }\n\n  return getDraftEditorSelectionWithNodes(editorState, root, selection.anchorNode, selection.anchorOffset, selection.focusNode, selection.focusOffset);\n}\n\nmodule.exports = getDraftEditorSelection;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getDraftEditorSelectionWithNodes\n * @format\n * \n */\n\n'use strict';\n\nvar findAncestorOffsetKey = require('./findAncestorOffsetKey');\nvar getSelectionOffsetKeyForNode = require('./getSelectionOffsetKeyForNode');\nvar getUpdatedSelectionState = require('./getUpdatedSelectionState');\nvar invariant = require('fbjs/lib/invariant');\nvar nullthrows = require('fbjs/lib/nullthrows');\n\n/**\n * Convert the current selection range to an anchor/focus pair of offset keys\n * and values that can be interpreted by components.\n */\nfunction getDraftEditorSelectionWithNodes(editorState, root, anchorNode, anchorOffset, focusNode, focusOffset) {\n  var anchorIsTextNode = anchorNode.nodeType === Node.TEXT_NODE;\n  var focusIsTextNode = focusNode.nodeType === Node.TEXT_NODE;\n\n  // If the selection range lies only on text nodes, the task is simple.\n  // Find the nearest offset-aware elements and use the\n  // offset values supplied by the selection range.\n  if (anchorIsTextNode && focusIsTextNode) {\n    return {\n      selectionState: getUpdatedSelectionState(editorState, nullthrows(findAncestorOffsetKey(anchorNode)), anchorOffset, nullthrows(findAncestorOffsetKey(focusNode)), focusOffset),\n      needsRecovery: false\n    };\n  }\n\n  var anchorPoint = null;\n  var focusPoint = null;\n  var needsRecovery = true;\n\n  // An element is selected. Convert this selection range into leaf offset\n  // keys and offset values for consumption at the component level. This\n  // is common in Firefox, where select-all and triple click behavior leads\n  // to entire elements being selected.\n  //\n  // Note that we use the `needsRecovery` parameter in the callback here. This\n  // is because when certain elements are selected, the behavior for subsequent\n  // cursor movement (e.g. via arrow keys) is uncertain and may not match\n  // expectations at the component level. For example, if an entire <div> is\n  // selected and the user presses the right arrow, Firefox keeps the selection\n  // on the <div>. If we allow subsequent keypresses to insert characters\n  // natively, they will be inserted into a browser-created text node to the\n  // right of that <div>. This is obviously undesirable.\n  //\n  // With the `needsRecovery` flag, we inform the caller that it is responsible\n  // for manually setting the selection state on the rendered document to\n  // ensure proper selection state maintenance.\n\n  if (anchorIsTextNode) {\n    anchorPoint = {\n      key: nullthrows(findAncestorOffsetKey(anchorNode)),\n      offset: anchorOffset\n    };\n    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset);\n  } else if (focusIsTextNode) {\n    focusPoint = {\n      key: nullthrows(findAncestorOffsetKey(focusNode)),\n      offset: focusOffset\n    };\n    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);\n  } else {\n    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);\n    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset);\n\n    // If the selection is collapsed on an empty block, don't force recovery.\n    // This way, on arrow key selection changes, the browser can move the\n    // cursor from a non-zero offset on one block, through empty blocks,\n    // to a matching non-zero offset on other text blocks.\n    if (anchorNode === focusNode && anchorOffset === focusOffset) {\n      needsRecovery = !!anchorNode.firstChild && anchorNode.firstChild.nodeName !== 'BR';\n    }\n  }\n\n  return {\n    selectionState: getUpdatedSelectionState(editorState, anchorPoint.key, anchorPoint.offset, focusPoint.key, focusPoint.offset),\n    needsRecovery: needsRecovery\n  };\n}\n\n/**\n * Identify the first leaf descendant for the given node.\n */\nfunction getFirstLeaf(node) {\n  while (node.firstChild && (\n  // data-blocks has no offset\n  node.firstChild instanceof Element && node.firstChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.firstChild))) {\n    node = node.firstChild;\n  }\n  return node;\n}\n\n/**\n * Identify the last leaf descendant for the given node.\n */\nfunction getLastLeaf(node) {\n  while (node.lastChild && (\n  // data-blocks has no offset\n  node.lastChild instanceof Element && node.lastChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.lastChild))) {\n    node = node.lastChild;\n  }\n  return node;\n}\n\nfunction getPointForNonTextNode(editorRoot, startNode, childOffset) {\n  var node = startNode;\n  var offsetKey = findAncestorOffsetKey(node);\n\n  !(offsetKey != null || editorRoot && (editorRoot === node || editorRoot.firstChild === node)) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Unknown node in selection range.') : invariant(false) : void 0;\n\n  // If the editorRoot is the selection, step downward into the content\n  // wrapper.\n  if (editorRoot === node) {\n    node = node.firstChild;\n    !(node instanceof Element && node.getAttribute('data-contents') === 'true') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Invalid DraftEditorContents structure.') : invariant(false) : void 0;\n    if (childOffset > 0) {\n      childOffset = node.childNodes.length;\n    }\n  }\n\n  // If the child offset is zero and we have an offset key, we're done.\n  // If there's no offset key because the entire editor is selected,\n  // find the leftmost (\"first\") leaf in the tree and use that as the offset\n  // key.\n  if (childOffset === 0) {\n    var key = null;\n    if (offsetKey != null) {\n      key = offsetKey;\n    } else {\n      var firstLeaf = getFirstLeaf(node);\n      key = nullthrows(getSelectionOffsetKeyForNode(firstLeaf));\n    }\n    return { key: key, offset: 0 };\n  }\n\n  var nodeBeforeCursor = node.childNodes[childOffset - 1];\n  var leafKey = null;\n  var textLength = null;\n\n  if (!getSelectionOffsetKeyForNode(nodeBeforeCursor)) {\n    // Our target node may be a leaf or a text node, in which case we're\n    // already where we want to be and can just use the child's length as\n    // our offset.\n    leafKey = nullthrows(offsetKey);\n    textLength = getTextContentLength(nodeBeforeCursor);\n  } else {\n    // Otherwise, we'll look at the child to the left of the cursor and find\n    // the last leaf node in its subtree.\n    var lastLeaf = getLastLeaf(nodeBeforeCursor);\n    leafKey = nullthrows(getSelectionOffsetKeyForNode(lastLeaf));\n    textLength = getTextContentLength(lastLeaf);\n  }\n\n  return {\n    key: leafKey,\n    offset: textLength\n  };\n}\n\n/**\n * Return the length of a node's textContent, regarding single newline\n * characters as zero-length. This allows us to avoid problems with identifying\n * the correct selection offset for empty blocks in IE, in which we\n * render newlines instead of break tags.\n */\nfunction getTextContentLength(node) {\n  var textContent = node.textContent;\n  return textContent === '\\n' ? 0 : textContent.length;\n}\n\nmodule.exports = getDraftEditorSelectionWithNodes;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getEntityKeyForSelection\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Return the entity key that should be used when inserting text for the\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\n * and `SEGMENTED` entities should not be used for insertion behavior.\n */\nfunction getEntityKeyForSelection(contentState, targetSelection) {\n  var entityKey;\n\n  if (targetSelection.isCollapsed()) {\n    var key = targetSelection.getAnchorKey();\n    var offset = targetSelection.getAnchorOffset();\n    if (offset > 0) {\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\n        return null;\n      }\n      return filterKey(contentState.getEntityMap(), entityKey);\n    }\n    return null;\n  }\n\n  var startKey = targetSelection.getStartKey();\n  var startOffset = targetSelection.getStartOffset();\n  var startBlock = contentState.getBlockForKey(startKey);\n\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\n\n  return filterKey(contentState.getEntityMap(), entityKey);\n}\n\n/**\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\n * return it. If not, return null.\n */\nfunction filterKey(entityMap, entityKey) {\n  if (entityKey) {\n    var entity = entityMap.__get(entityKey);\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\n  }\n  return null;\n}\n\nmodule.exports = getEntityKeyForSelection;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getFragmentFromSelection\n * @format\n * \n */\n\n'use strict';\n\nvar getContentStateFragment = require('./getContentStateFragment');\n\nfunction getFragmentFromSelection(editorState) {\n  var selectionState = editorState.getSelection();\n\n  if (selectionState.isCollapsed()) {\n    return null;\n  }\n\n  return getContentStateFragment(editorState.getCurrentContent(), selectionState);\n}\n\nmodule.exports = getFragmentFromSelection;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getNextDelimiterBlockKey\n * @format\n * \n *\n * This is unstable and not part of the public API and should not be used by\n * production systems. This file may be update/removed without notice.\n */\n\nvar ContentBlockNode = require('./ContentBlockNode');\n\nvar getNextDelimiterBlockKey = function getNextDelimiterBlockKey(block, blockMap) {\n  var isExperimentalTreeBlock = block instanceof ContentBlockNode;\n\n  if (!isExperimentalTreeBlock) {\n    return null;\n  }\n\n  var nextSiblingKey = block.getNextSiblingKey();\n\n  if (nextSiblingKey) {\n    return nextSiblingKey;\n  }\n\n  var parent = block.getParentKey();\n\n  if (!parent) {\n    return null;\n  }\n\n  var nextNonDescendantBlock = blockMap.get(parent);\n  while (nextNonDescendantBlock && !nextNonDescendantBlock.getNextSiblingKey()) {\n    var parentKey = nextNonDescendantBlock.getParentKey();\n    nextNonDescendantBlock = parentKey ? blockMap.get(parentKey) : null;\n  }\n\n  if (!nextNonDescendantBlock) {\n    return null;\n  }\n\n  return nextNonDescendantBlock.getNextSiblingKey();\n};\n\nmodule.exports = getNextDelimiterBlockKey;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getRangeBoundingClientRect\n * @format\n * \n */\n\n'use strict';\n\nvar getRangeClientRects = require('./getRangeClientRects');\n\n/**\n * Like range.getBoundingClientRect() but normalizes for browser bugs.\n */\nfunction getRangeBoundingClientRect(range) {\n  // \"Return a DOMRect object describing the smallest rectangle that includes\n  // the first rectangle in list and all of the remaining rectangles of which\n  // the height or width is not zero.\"\n  // http://www.w3.org/TR/cssom-view/#dom-range-getboundingclientrect\n  var rects = getRangeClientRects(range);\n  var top = 0;\n  var right = 0;\n  var bottom = 0;\n  var left = 0;\n\n  if (rects.length) {\n    // If the first rectangle has 0 width, we use the second, this is needed\n    // because Chrome renders a 0 width rectangle when the selection contains\n    // a line break.\n    if (rects.length > 1 && rects[0].width === 0) {\n      var _rects$ = rects[1];\n      top = _rects$.top;\n      right = _rects$.right;\n      bottom = _rects$.bottom;\n      left = _rects$.left;\n    } else {\n      var _rects$2 = rects[0];\n      top = _rects$2.top;\n      right = _rects$2.right;\n      bottom = _rects$2.bottom;\n      left = _rects$2.left;\n    }\n\n    for (var ii = 1; ii < rects.length; ii++) {\n      var rect = rects[ii];\n      if (rect.height !== 0 && rect.width !== 0) {\n        top = Math.min(top, rect.top);\n        right = Math.max(right, rect.right);\n        bottom = Math.max(bottom, rect.bottom);\n        left = Math.min(left, rect.left);\n      }\n    }\n  }\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: right - left,\n    height: bottom - top\n  };\n}\n\nmodule.exports = getRangeBoundingClientRect;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getRangeClientRects\n * @format\n * \n */\n\n'use strict';\n\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar isChrome = UserAgent.isBrowser('Chrome');\n\n// In Chrome, the client rects will include the entire bounds of all nodes that\n// begin (have a start tag) within the selection, even if the selection does\n// not overlap the entire node. To resolve this, we split the range at each\n// start tag and join the client rects together.\n// https://code.google.com/p/chromium/issues/detail?id=324437\n/* eslint-disable consistent-return */\nfunction getRangeClientRectsChrome(range) {\n  var tempRange = range.cloneRange();\n  var clientRects = [];\n\n  for (var ancestor = range.endContainer; ancestor != null; ancestor = ancestor.parentNode) {\n    // If we've climbed up to the common ancestor, we can now use the\n    // original start point and stop climbing the tree.\n    var atCommonAncestor = ancestor === range.commonAncestorContainer;\n    if (atCommonAncestor) {\n      tempRange.setStart(range.startContainer, range.startOffset);\n    } else {\n      tempRange.setStart(tempRange.endContainer, 0);\n    }\n    var rects = Array.from(tempRange.getClientRects());\n    clientRects.push(rects);\n    if (atCommonAncestor) {\n      var _ref;\n\n      clientRects.reverse();\n      return (_ref = []).concat.apply(_ref, clientRects);\n    }\n    tempRange.setEndBefore(ancestor);\n  }\n\n  !false ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Found an unexpected detached subtree when getting range client rects.') : invariant(false) : void 0;\n}\n/* eslint-enable consistent-return */\n\n/**\n * Like range.getClientRects() but normalizes for browser bugs.\n */\nvar getRangeClientRects = isChrome ? getRangeClientRectsChrome : function (range) {\n  return Array.from(range.getClientRects());\n};\n\nmodule.exports = getRangeClientRects;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getRangesForDraftEntity\n * @format\n * \n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\n/**\n * Obtain the start and end positions of the range that has the\n * specified entity applied to it.\n *\n * Entity keys are applied only to contiguous stretches of text, so this\n * method searches for the first instance of the entity key and returns\n * the subsequent range.\n */\nfunction getRangesForDraftEntity(block, key) {\n  var ranges = [];\n  block.findEntityRanges(function (c) {\n    return c.getEntity() === key;\n  }, function (start, end) {\n    ranges.push({ start: start, end: end });\n  });\n\n  !!!ranges.length ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Entity key not found in this range.') : invariant(false) : void 0;\n\n  return ranges;\n}\n\nmodule.exports = getRangesForDraftEntity;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getSafeBodyFromHTML\n * @format\n * \n */\n\n'use strict';\n\nvar UserAgent = require('fbjs/lib/UserAgent');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar isOldIE = UserAgent.isBrowser('IE <= 9');\n\n// Provides a dom node that will not execute scripts\n// https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation.createHTMLDocument\n// https://developer.mozilla.org/en-US/Add-ons/Code_snippets/HTML_to_DOM\n\nfunction getSafeBodyFromHTML(html) {\n  var doc;\n  var root = null;\n  // Provides a safe context\n  if (!isOldIE && document.implementation && document.implementation.createHTMLDocument) {\n    doc = document.implementation.createHTMLDocument('foo');\n    !doc.documentElement ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Missing doc.documentElement') : invariant(false) : void 0;\n    doc.documentElement.innerHTML = html;\n    root = doc.getElementsByTagName('body')[0];\n  }\n  return root;\n}\n\nmodule.exports = getSafeBodyFromHTML;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getSelectionOffsetKeyForNode\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Get offset key from a node or it's child nodes. Return the first offset key\n * found on the DOM tree of given node.\n */\n\nfunction getSelectionOffsetKeyForNode(node) {\n  if (node instanceof Element) {\n    var offsetKey = node.getAttribute('data-offset-key');\n    if (offsetKey) {\n      return offsetKey;\n    }\n    for (var ii = 0; ii < node.childNodes.length; ii++) {\n      var childOffsetKey = getSelectionOffsetKeyForNode(node.childNodes[ii]);\n      if (childOffsetKey) {\n        return childOffsetKey;\n      }\n    }\n  }\n  return null;\n}\n\nmodule.exports = getSelectionOffsetKeyForNode;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getTextContentFromFiles\n * @format\n * \n */\n\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar TEXT_CLIPPING_REGEX = /\\.textClipping$/;\n\nvar TEXT_TYPES = {\n  'text/plain': true,\n  'text/html': true,\n  'text/rtf': true\n};\n\n// Somewhat arbitrary upper bound on text size. Let's not lock up the browser.\nvar TEXT_SIZE_UPPER_BOUND = 5000;\n\n/**\n * Extract the text content from a file list.\n */\nfunction getTextContentFromFiles(files, callback) {\n  var readCount = 0;\n  var results = [];\n  files.forEach(function ( /*blob*/file) {\n    readFile(file, function ( /*string*/text) {\n      readCount++;\n      text && results.push(text.slice(0, TEXT_SIZE_UPPER_BOUND));\n      if (readCount == files.length) {\n        callback(results.join('\\r'));\n      }\n    });\n  });\n}\n\n/**\n * todo isaac: Do work to turn html/rtf into a content fragment.\n */\nfunction readFile(file, callback) {\n  if (!global.FileReader || file.type && !(file.type in TEXT_TYPES)) {\n    callback('');\n    return;\n  }\n\n  if (file.type === '') {\n    var contents = '';\n    // Special-case text clippings, which have an empty type but include\n    // `.textClipping` in the file name. `readAsText` results in an empty\n    // string for text clippings, so we force the file name to serve\n    // as the text value for the file.\n    if (TEXT_CLIPPING_REGEX.test(file.name)) {\n      contents = file.name.replace(TEXT_CLIPPING_REGEX, '');\n    }\n    callback(contents);\n    return;\n  }\n\n  var reader = new FileReader();\n  reader.onload = function () {\n    var result = reader.result;\n    !(typeof result === 'string') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'We should be calling \"FileReader.readAsText\" which returns a string') : invariant(false) : void 0;\n    callback(result);\n  };\n  reader.onerror = function () {\n    callback('');\n  };\n  reader.readAsText(file);\n}\n\nmodule.exports = getTextContentFromFiles;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getUpdatedSelectionState\n * @format\n * \n */\n\n'use strict';\n\nvar DraftOffsetKey = require('./DraftOffsetKey');\n\nvar nullthrows = require('fbjs/lib/nullthrows');\n\nfunction getUpdatedSelectionState(editorState, anchorKey, anchorOffset, focusKey, focusOffset) {\n  var selection = nullthrows(editorState.getSelection());\n  if (process.env.NODE_ENV !== 'production') {\n    if (!anchorKey || !focusKey) {\n      /*eslint-disable no-console */\n      console.warn('Invalid selection state.', arguments, editorState.toJS());\n      /*eslint-enable no-console */\n      return selection;\n    }\n  }\n\n  var anchorPath = DraftOffsetKey.decode(anchorKey);\n  var anchorBlockKey = anchorPath.blockKey;\n  var anchorLeaf = editorState.getBlockTree(anchorBlockKey).getIn([anchorPath.decoratorKey, 'leaves', anchorPath.leafKey]);\n\n  var focusPath = DraftOffsetKey.decode(focusKey);\n  var focusBlockKey = focusPath.blockKey;\n  var focusLeaf = editorState.getBlockTree(focusBlockKey).getIn([focusPath.decoratorKey, 'leaves', focusPath.leafKey]);\n\n  var anchorLeafStart = anchorLeaf.get('start');\n  var focusLeafStart = focusLeaf.get('start');\n\n  var anchorBlockOffset = anchorLeaf ? anchorLeafStart + anchorOffset : null;\n  var focusBlockOffset = focusLeaf ? focusLeafStart + focusOffset : null;\n\n  var areEqual = selection.getAnchorKey() === anchorBlockKey && selection.getAnchorOffset() === anchorBlockOffset && selection.getFocusKey() === focusBlockKey && selection.getFocusOffset() === focusBlockOffset;\n\n  if (areEqual) {\n    return selection;\n  }\n\n  var isBackward = false;\n  if (anchorBlockKey === focusBlockKey) {\n    var anchorLeafEnd = anchorLeaf.get('end');\n    var focusLeafEnd = focusLeaf.get('end');\n    if (focusLeafStart === anchorLeafStart && focusLeafEnd === anchorLeafEnd) {\n      isBackward = focusOffset < anchorOffset;\n    } else {\n      isBackward = focusLeafStart < anchorLeafStart;\n    }\n  } else {\n    var startKey = editorState.getCurrentContent().getBlockMap().keySeq().skipUntil(function (v) {\n      return v === anchorBlockKey || v === focusBlockKey;\n    }).first();\n    isBackward = startKey === focusBlockKey;\n  }\n\n  return selection.merge({\n    anchorKey: anchorBlockKey,\n    anchorOffset: anchorBlockOffset,\n    focusKey: focusBlockKey,\n    focusOffset: focusBlockOffset,\n    isBackward: isBackward\n  });\n}\n\nmodule.exports = getUpdatedSelectionState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule getVisibleSelectionRect\n * @format\n * \n */\n\n'use strict';\n\nvar getRangeBoundingClientRect = require('./getRangeBoundingClientRect');\n\n/**\n * Return the bounding ClientRect for the visible DOM selection, if any.\n * In cases where there are no selected ranges or the bounding rect is\n * temporarily invalid, return null.\n */\nfunction getVisibleSelectionRect(global) {\n  var selection = global.getSelection();\n  if (!selection.rangeCount) {\n    return null;\n  }\n\n  var range = selection.getRangeAt(0);\n  var boundingRect = getRangeBoundingClientRect(range);\n  var top = boundingRect.top,\n      right = boundingRect.right,\n      bottom = boundingRect.bottom,\n      left = boundingRect.left;\n\n  // When a re-render leads to a node being removed, the DOM selection will\n  // temporarily be placed on an ancestor node, which leads to an invalid\n  // bounding rect. Discard this state.\n\n  if (top === 0 && right === 0 && bottom === 0 && left === 0) {\n    return null;\n  }\n\n  return boundingRect;\n}\n\nmodule.exports = getVisibleSelectionRect;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule insertFragmentIntoContentState\n * @format\n * \n */\n\n'use strict';\n\nvar BlockMapBuilder = require('./BlockMapBuilder');\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar insertIntoList = require('./insertIntoList');\nvar invariant = require('fbjs/lib/invariant');\nvar randomizeBlockMapKeys = require('./randomizeBlockMapKeys');\n\nvar List = Immutable.List;\n\n\nvar updateExistingBlock = function updateExistingBlock(contentState, selectionState, blockMap, fragmentBlock, targetKey, targetOffset) {\n  var targetBlock = blockMap.get(targetKey);\n  var text = targetBlock.getText();\n  var chars = targetBlock.getCharacterList();\n  var finalKey = targetKey;\n  var finalOffset = targetOffset + fragmentBlock.getText().length;\n\n  var newBlock = targetBlock.merge({\n    text: text.slice(0, targetOffset) + fragmentBlock.getText() + text.slice(targetOffset),\n    characterList: insertIntoList(chars, fragmentBlock.getCharacterList(), targetOffset),\n    data: fragmentBlock.getData()\n  });\n\n  return contentState.merge({\n    blockMap: blockMap.set(targetKey, newBlock),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: finalKey,\n      anchorOffset: finalOffset,\n      focusKey: finalKey,\n      focusOffset: finalOffset,\n      isBackward: false\n    })\n  });\n};\n\n/**\n * Appends text/characterList from the fragment first block to\n * target block.\n */\nvar updateHead = function updateHead(block, targetOffset, fragment) {\n  var text = block.getText();\n  var chars = block.getCharacterList();\n\n  // Modify head portion of block.\n  var headText = text.slice(0, targetOffset);\n  var headCharacters = chars.slice(0, targetOffset);\n  var appendToHead = fragment.first();\n\n  return block.merge({\n    text: headText + appendToHead.getText(),\n    characterList: headCharacters.concat(appendToHead.getCharacterList()),\n    type: headText ? block.getType() : appendToHead.getType(),\n    data: appendToHead.getData()\n  });\n};\n\n/**\n * Appends offset text/characterList from the target block to the last\n * fragment block.\n */\nvar updateTail = function updateTail(block, targetOffset, fragment) {\n  // Modify tail portion of block.\n  var text = block.getText();\n  var chars = block.getCharacterList();\n\n  // Modify head portion of block.\n  var blockSize = text.length;\n  var tailText = text.slice(targetOffset, blockSize);\n  var tailCharacters = chars.slice(targetOffset, blockSize);\n  var prependToTail = fragment.last();\n\n  return prependToTail.merge({\n    text: prependToTail.getText() + tailText,\n    characterList: prependToTail.getCharacterList().concat(tailCharacters),\n    data: prependToTail.getData()\n  });\n};\n\nvar getRootBlocks = function getRootBlocks(block, blockMap) {\n  var headKey = block.getKey();\n  var rootBlock = block;\n  var rootBlocks = [];\n\n  // sometimes the fragment head block will not be part of the blockMap itself this can happen when\n  // the fragment head is used to update the target block, however when this does not happen we need\n  // to make sure that we include it on the rootBlocks since the first block of a fragment is always a\n  // fragment root block\n  if (blockMap.get(headKey)) {\n    rootBlocks.push(headKey);\n  }\n\n  while (rootBlock && rootBlock.getNextSiblingKey()) {\n    var lastSiblingKey = rootBlock.getNextSiblingKey();\n\n    if (!lastSiblingKey) {\n      break;\n    }\n\n    rootBlocks.push(lastSiblingKey);\n    rootBlock = blockMap.get(lastSiblingKey);\n  }\n\n  return rootBlocks;\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockMap, targetBlock, fragmentHeadBlock) {\n  return blockMap.withMutations(function (blockMapState) {\n    var targetKey = targetBlock.getKey();\n    var headKey = fragmentHeadBlock.getKey();\n    var targetNextKey = targetBlock.getNextSiblingKey();\n    var targetParentKey = targetBlock.getParentKey();\n    var fragmentRootBlocks = getRootBlocks(fragmentHeadBlock, blockMap);\n    var lastRootFragmentBlockKey = fragmentRootBlocks[fragmentRootBlocks.length - 1];\n\n    if (blockMapState.get(headKey)) {\n      // update the fragment head when it is part of the blockMap otherwise\n      blockMapState.setIn([targetKey, 'nextSibling'], headKey);\n      blockMapState.setIn([headKey, 'prevSibling'], targetKey);\n    } else {\n      // update the target block that had the fragment head contents merged into it\n      blockMapState.setIn([targetKey, 'nextSibling'], fragmentHeadBlock.getNextSiblingKey());\n      blockMapState.setIn([fragmentHeadBlock.getNextSiblingKey(), 'prevSibling'], targetKey);\n    }\n\n    // update the last root block fragment\n    blockMapState.setIn([lastRootFragmentBlockKey, 'nextSibling'], targetNextKey);\n\n    // update the original target next block\n    if (targetNextKey) {\n      blockMapState.setIn([targetNextKey, 'prevSibling'], lastRootFragmentBlockKey);\n    }\n\n    // update fragment parent links\n    fragmentRootBlocks.forEach(function (blockKey) {\n      return blockMapState.setIn([blockKey, 'parent'], targetParentKey);\n    });\n\n    // update targetBlock parent child links\n    if (targetParentKey) {\n      var targetParent = blockMap.get(targetParentKey);\n      var originalTargetParentChildKeys = targetParent.getChildKeys();\n\n      var targetBlockIndex = originalTargetParentChildKeys.indexOf(targetKey);\n      var insertionIndex = targetBlockIndex + 1;\n\n      var newChildrenKeysArray = originalTargetParentChildKeys.toArray();\n\n      // insert fragment children\n      newChildrenKeysArray.splice.apply(newChildrenKeysArray, [insertionIndex, 0].concat(fragmentRootBlocks));\n\n      blockMapState.setIn([targetParentKey, 'children'], List(newChildrenKeysArray));\n    }\n  });\n};\n\nvar insertFragment = function insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n  var newBlockArr = [];\n  var fragmentSize = fragment.size;\n  var target = blockMap.get(targetKey);\n  var head = fragment.first();\n  var tail = fragment.last();\n  var finalOffset = tail.getLength();\n  var finalKey = tail.getKey();\n  var shouldNotUpdateFromFragmentBlock = isTreeBasedBlockMap && (!target.getChildKeys().isEmpty() || !head.getChildKeys().isEmpty());\n\n  blockMap.forEach(function (block, blockKey) {\n    if (blockKey !== targetKey) {\n      newBlockArr.push(block);\n      return;\n    }\n\n    if (shouldNotUpdateFromFragmentBlock) {\n      newBlockArr.push(block);\n    } else {\n      newBlockArr.push(updateHead(block, targetOffset, fragment));\n    }\n\n    // Insert fragment blocks after the head and before the tail.\n    fragment\n    // when we are updating the target block with the head fragment block we skip the first fragment\n    // head since its contents have already been merged with the target block otherwise we include\n    // the whole fragment\n    .slice(shouldNotUpdateFromFragmentBlock ? 0 : 1, fragmentSize - 1).forEach(function (fragmentBlock) {\n      return newBlockArr.push(fragmentBlock);\n    });\n\n    // update tail\n    newBlockArr.push(updateTail(block, targetOffset, fragment));\n  });\n\n  var updatedBlockMap = BlockMapBuilder.createFromArray(newBlockArr);\n\n  if (isTreeBasedBlockMap) {\n    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, blockMap, target, head);\n  }\n\n  return contentState.merge({\n    blockMap: updatedBlockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: finalKey,\n      anchorOffset: finalOffset,\n      focusKey: finalKey,\n      focusOffset: finalOffset,\n      isBackward: false\n    })\n  });\n};\n\nvar insertFragmentIntoContentState = function insertFragmentIntoContentState(contentState, selectionState, fragmentBlockMap) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== 'production' ? invariant(false, '`insertFragment` should only be called with a collapsed selection state.') : invariant(false) : void 0;\n\n  var blockMap = contentState.getBlockMap();\n  var fragment = randomizeBlockMapKeys(fragmentBlockMap);\n  var targetKey = selectionState.getStartKey();\n  var targetOffset = selectionState.getStartOffset();\n\n  var targetBlock = blockMap.get(targetKey);\n\n  if (targetBlock instanceof ContentBlockNode) {\n    !targetBlock.getChildKeys().isEmpty() ? process.env.NODE_ENV !== 'production' ? invariant(false, '`insertFragment` should not be called when a container node is selected.') : invariant(false) : void 0;\n  }\n\n  // When we insert a fragment with a single block we simply update the target block\n  // with the contents of the inserted fragment block\n  if (fragment.size === 1) {\n    return updateExistingBlock(contentState, selectionState, blockMap, fragment.first(), targetKey, targetOffset);\n  }\n\n  return insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset);\n};\n\nmodule.exports = insertFragmentIntoContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule insertIntoList\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Maintain persistence for target list when appending and prepending.\n */\nfunction insertIntoList(targetList, toInsert, offset) {\n  if (offset === targetList.count()) {\n    toInsert.forEach(function (c) {\n      targetList = targetList.push(c);\n    });\n  } else if (offset === 0) {\n    toInsert.reverse().forEach(function (c) {\n      targetList = targetList.unshift(c);\n    });\n  } else {\n    var head = targetList.slice(0, offset);\n    var tail = targetList.slice(offset);\n    targetList = head.concat(toInsert, tail).toList();\n  }\n  return targetList;\n}\n\nmodule.exports = insertIntoList;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule insertTextIntoContentState\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar insertIntoList = require('./insertIntoList');\nvar invariant = require('fbjs/lib/invariant');\n\nvar Repeat = Immutable.Repeat;\n\n\nfunction insertTextIntoContentState(contentState, selectionState, text, characterMetadata) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== 'production' ? invariant(false, '`insertText` should only be called with a collapsed range.') : invariant(false) : void 0;\n\n  var len = text.length;\n  if (!len) {\n    return contentState;\n  }\n\n  var blockMap = contentState.getBlockMap();\n  var key = selectionState.getStartKey();\n  var offset = selectionState.getStartOffset();\n  var block = blockMap.get(key);\n  var blockText = block.getText();\n\n  var newBlock = block.merge({\n    text: blockText.slice(0, offset) + text + blockText.slice(offset, block.getLength()),\n    characterList: insertIntoList(block.getCharacterList(), Repeat(characterMetadata, len).toList(), offset)\n  });\n\n  var newOffset = offset + len;\n\n  return contentState.merge({\n    blockMap: blockMap.set(key, newBlock),\n    selectionAfter: selectionState.merge({\n      anchorOffset: newOffset,\n      focusOffset: newOffset\n    })\n  });\n}\n\nmodule.exports = insertTextIntoContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEventHandled\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Utility method for determining whether or not the value returned\n * from a handler indicates that it was handled.\n */\nfunction isEventHandled(value) {\n  return value === 'handled' || value === true;\n}\n\nmodule.exports = isEventHandled;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isSelectionAtLeafStart\n * @format\n * \n */\n\n'use strict';\n\nfunction isSelectionAtLeafStart(editorState) {\n  var selection = editorState.getSelection();\n  var anchorKey = selection.getAnchorKey();\n  var blockTree = editorState.getBlockTree(anchorKey);\n  var offset = selection.getStartOffset();\n\n  var isAtStart = false;\n\n  blockTree.some(function (leafSet) {\n    if (offset === leafSet.get('start')) {\n      isAtStart = true;\n      return true;\n    }\n\n    if (offset < leafSet.get('end')) {\n      return leafSet.get('leaves').some(function (leaf) {\n        var leafStart = leaf.get('start');\n        if (offset === leafStart) {\n          isAtStart = true;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    return false;\n  });\n\n  return isAtStart;\n}\n\nmodule.exports = isSelectionAtLeafStart;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandBackspaceToStartOfLine\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\nvar expandRangeToStartOfLine = require('./expandRangeToStartOfLine');\nvar getDraftEditorSelectionWithNodes = require('./getDraftEditorSelectionWithNodes');\nvar moveSelectionBackward = require('./moveSelectionBackward');\nvar removeTextWithStrategy = require('./removeTextWithStrategy');\n\nfunction keyCommandBackspaceToStartOfLine(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    if (selection.isCollapsed() && selection.getAnchorOffset() === 0) {\n      return moveSelectionBackward(strategyState, 1);\n    }\n\n    var domSelection = global.getSelection();\n    var range = domSelection.getRangeAt(0);\n    range = expandRangeToStartOfLine(range);\n\n    return getDraftEditorSelectionWithNodes(strategyState, null, range.endContainer, range.endOffset, range.startContainer, range.startOffset).selectionState;\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandBackspaceToStartOfLine;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandBackspaceWord\n * @format\n * \n */\n\n'use strict';\n\nvar DraftRemovableWord = require('./DraftRemovableWord');\nvar EditorState = require('./EditorState');\n\nvar moveSelectionBackward = require('./moveSelectionBackward');\nvar removeTextWithStrategy = require('./removeTextWithStrategy');\n\n/**\n * Delete the word that is left of the cursor, as well as any spaces or\n * punctuation after the word.\n */\nfunction keyCommandBackspaceWord(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var offset = selection.getStartOffset();\n    // If there are no words before the cursor, remove the preceding newline.\n    if (offset === 0) {\n      return moveSelectionBackward(strategyState, 1);\n    }\n    var key = selection.getStartKey();\n    var content = strategyState.getCurrentContent();\n    var text = content.getBlockForKey(key).getText().slice(0, offset);\n    var toRemove = DraftRemovableWord.getBackward(text);\n    return moveSelectionBackward(strategyState, toRemove.length || 1);\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandBackspaceWord;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandDeleteWord\n * @format\n * \n */\n\n'use strict';\n\nvar DraftRemovableWord = require('./DraftRemovableWord');\nvar EditorState = require('./EditorState');\n\nvar moveSelectionForward = require('./moveSelectionForward');\nvar removeTextWithStrategy = require('./removeTextWithStrategy');\n\n/**\n * Delete the word that is right of the cursor, as well as any spaces or\n * punctuation before the word.\n */\nfunction keyCommandDeleteWord(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var offset = selection.getStartOffset();\n    var key = selection.getStartKey();\n    var content = strategyState.getCurrentContent();\n    var text = content.getBlockForKey(key).getText().slice(offset);\n    var toRemove = DraftRemovableWord.getForward(text);\n\n    // If there are no words in front of the cursor, remove the newline.\n    return moveSelectionForward(strategyState, toRemove.length || 1);\n  }, 'forward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  return EditorState.push(editorState, afterRemoval, 'remove-range');\n}\n\nmodule.exports = keyCommandDeleteWord;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandInsertNewline\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\n\nfunction keyCommandInsertNewline(editorState) {\n  var contentState = DraftModifier.splitBlock(editorState.getCurrentContent(), editorState.getSelection());\n  return EditorState.push(editorState, contentState, 'split-block');\n}\n\nmodule.exports = keyCommandInsertNewline;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandMoveSelectionToEndOfBlock\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\n/**\n * See comment for `moveSelectionToStartOfBlock`.\n */\nfunction keyCommandMoveSelectionToEndOfBlock(editorState) {\n  var selection = editorState.getSelection();\n  var endKey = selection.getEndKey();\n  var content = editorState.getCurrentContent();\n  var textLength = content.getBlockForKey(endKey).getLength();\n  return EditorState.set(editorState, {\n    selection: selection.merge({\n      anchorKey: endKey,\n      anchorOffset: textLength,\n      focusKey: endKey,\n      focusOffset: textLength,\n      isBackward: false\n    }),\n    forceSelection: true\n  });\n}\n\nmodule.exports = keyCommandMoveSelectionToEndOfBlock;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandMoveSelectionToStartOfBlock\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\n/**\n * Collapse selection at the start of the first selected block. This is used\n * for Firefox versions that attempt to navigate forward/backward instead of\n * moving the cursor. Other browsers are able to move the cursor natively.\n */\nfunction keyCommandMoveSelectionToStartOfBlock(editorState) {\n  var selection = editorState.getSelection();\n  var startKey = selection.getStartKey();\n  return EditorState.set(editorState, {\n    selection: selection.merge({\n      anchorKey: startKey,\n      anchorOffset: 0,\n      focusKey: startKey,\n      focusOffset: 0,\n      isBackward: false\n    }),\n    forceSelection: true\n  });\n}\n\nmodule.exports = keyCommandMoveSelectionToStartOfBlock;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandPlainBackspace\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar moveSelectionBackward = require('./moveSelectionBackward');\nvar removeTextWithStrategy = require('./removeTextWithStrategy');\n\n/**\n * Remove the selected range. If the cursor is collapsed, remove the preceding\n * character. This operation is Unicode-aware, so removing a single character\n * will remove a surrogate pair properly as well.\n */\nfunction keyCommandPlainBackspace(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var content = strategyState.getCurrentContent();\n    var key = selection.getAnchorKey();\n    var offset = selection.getAnchorOffset();\n    var charBehind = content.getBlockForKey(key).getText()[offset - 1];\n    return moveSelectionBackward(strategyState, charBehind ? UnicodeUtils.getUTF16Length(charBehind, 0) : 1);\n  }, 'backward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  var selection = editorState.getSelection();\n  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'backspace-character' : 'remove-range');\n}\n\nmodule.exports = keyCommandPlainBackspace;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandPlainDelete\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar moveSelectionForward = require('./moveSelectionForward');\nvar removeTextWithStrategy = require('./removeTextWithStrategy');\n\n/**\n * Remove the selected range. If the cursor is collapsed, remove the following\n * character. This operation is Unicode-aware, so removing a single character\n * will remove a surrogate pair properly as well.\n */\nfunction keyCommandPlainDelete(editorState) {\n  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {\n    var selection = strategyState.getSelection();\n    var content = strategyState.getCurrentContent();\n    var key = selection.getAnchorKey();\n    var offset = selection.getAnchorOffset();\n    var charAhead = content.getBlockForKey(key).getText()[offset];\n    return moveSelectionForward(strategyState, charAhead ? UnicodeUtils.getUTF16Length(charAhead, 0) : 1);\n  }, 'forward');\n\n  if (afterRemoval === editorState.getCurrentContent()) {\n    return editorState;\n  }\n\n  var selection = editorState.getSelection();\n\n  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'delete-character' : 'remove-range');\n}\n\nmodule.exports = keyCommandPlainDelete;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandTransposeCharacters\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\nvar EditorState = require('./EditorState');\n\nvar getContentStateFragment = require('./getContentStateFragment');\n\n/**\n * Transpose the characters on either side of a collapsed cursor, or\n * if the cursor is at the end of the block, transpose the last two\n * characters.\n */\nfunction keyCommandTransposeCharacters(editorState) {\n  var selection = editorState.getSelection();\n  if (!selection.isCollapsed()) {\n    return editorState;\n  }\n\n  var offset = selection.getAnchorOffset();\n  if (offset === 0) {\n    return editorState;\n  }\n\n  var blockKey = selection.getAnchorKey();\n  var content = editorState.getCurrentContent();\n  var block = content.getBlockForKey(blockKey);\n  var length = block.getLength();\n\n  // Nothing to transpose if there aren't two characters.\n  if (length <= 1) {\n    return editorState;\n  }\n\n  var removalRange;\n  var finalSelection;\n\n  if (offset === length) {\n    // The cursor is at the end of the block. Swap the last two characters.\n    removalRange = selection.set('anchorOffset', offset - 1);\n    finalSelection = selection;\n  } else {\n    removalRange = selection.set('focusOffset', offset + 1);\n    finalSelection = removalRange.set('anchorOffset', offset + 1);\n  }\n\n  // Extract the character to move as a fragment. This preserves its\n  // styling and entity, if any.\n  var movedFragment = getContentStateFragment(content, removalRange);\n  var afterRemoval = DraftModifier.removeRange(content, removalRange, 'backward');\n\n  // After the removal, the insertion target is one character back.\n  var selectionAfter = afterRemoval.getSelectionAfter();\n  var targetOffset = selectionAfter.getAnchorOffset() - 1;\n  var targetRange = selectionAfter.merge({\n    anchorOffset: targetOffset,\n    focusOffset: targetOffset\n  });\n\n  var afterInsert = DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);\n\n  var newEditorState = EditorState.push(editorState, afterInsert, 'insert-fragment');\n\n  return EditorState.acceptSelection(newEditorState, finalSelection);\n}\n\nmodule.exports = keyCommandTransposeCharacters;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyCommandUndo\n * @format\n * \n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\n\nfunction keyCommandUndo(e, editorState, updateFn) {\n  var undoneState = EditorState.undo(editorState);\n\n  // If the last change to occur was a spellcheck change, allow the undo\n  // event to fall through to the browser. This allows the browser to record\n  // the unwanted change, which should soon lead it to learn not to suggest\n  // the correction again.\n  if (editorState.getLastChangeType() === 'spellcheck-change') {\n    var nativelyRenderedContent = undoneState.getCurrentContent();\n    updateFn(EditorState.set(undoneState, { nativelyRenderedContent: nativelyRenderedContent }));\n    return;\n  }\n\n  // Otheriwse, manage the undo behavior manually.\n  e.preventDefault();\n  if (!editorState.getNativelyRenderedContent()) {\n    updateFn(undoneState);\n    return;\n  }\n\n  // Trigger a re-render with the current content state to ensure that the\n  // component tree has up-to-date props for comparison.\n  updateFn(EditorState.set(editorState, { nativelyRenderedContent: null }));\n\n  // Wait to ensure that the re-render has occurred before performing\n  // the undo action.\n  setTimeout(function () {\n    updateFn(undoneState);\n  }, 0);\n}\n\nmodule.exports = keyCommandUndo;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule modifyBlockForContentState\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar Map = Immutable.Map;\n\n\nfunction modifyBlockForContentState(contentState, selectionState, operation) {\n  var startKey = selectionState.getStartKey();\n  var endKey = selectionState.getEndKey();\n  var blockMap = contentState.getBlockMap();\n  var newBlocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(operation);\n\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = modifyBlockForContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule moveBlockInContentState\n * @format\n * \n */\n\n'use strict';\n\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar getNextDelimiterBlockKey = require('./getNextDelimiterBlockKey');\nvar invariant = require('fbjs/lib/invariant');\n\nvar OrderedMap = Immutable.OrderedMap,\n    List = Immutable.List;\n\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockToBeMoved, originalTargetBlock, insertionMode, isExperimentalTreeBlock) {\n  if (!isExperimentalTreeBlock) {\n    return blockMap;\n  }\n  // possible values of 'insertionMode' are: 'after', 'before'\n  var isInsertedAfterTarget = insertionMode === 'after';\n\n  var originalBlockKey = originalBlockToBeMoved.getKey();\n  var originalTargetKey = originalTargetBlock.getKey();\n  var originalParentKey = originalBlockToBeMoved.getParentKey();\n  var originalNextSiblingKey = originalBlockToBeMoved.getNextSiblingKey();\n  var originalPrevSiblingKey = originalBlockToBeMoved.getPrevSiblingKey();\n  var newParentKey = originalTargetBlock.getParentKey();\n  var newNextSiblingKey = isInsertedAfterTarget ? originalTargetBlock.getNextSiblingKey() : originalTargetKey;\n  var newPrevSiblingKey = isInsertedAfterTarget ? originalTargetKey : originalTargetBlock.getPrevSiblingKey();\n\n  return blockMap.withMutations(function (blocks) {\n    // update old parent\n    transformBlock(originalParentKey, blocks, function (block) {\n      var parentChildrenList = block.getChildKeys();\n      return block.merge({\n        children: parentChildrenList['delete'](parentChildrenList.indexOf(originalBlockKey))\n      });\n    });\n\n    // update old prev\n    transformBlock(originalPrevSiblingKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: originalNextSiblingKey\n      });\n    });\n\n    // update old next\n    transformBlock(originalNextSiblingKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalPrevSiblingKey\n      });\n    });\n\n    // update new next\n    transformBlock(newNextSiblingKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalBlockKey\n      });\n    });\n\n    // update new prev\n    transformBlock(newPrevSiblingKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: originalBlockKey\n      });\n    });\n\n    // update new parent\n    transformBlock(newParentKey, blocks, function (block) {\n      var newParentChildrenList = block.getChildKeys();\n      var targetBlockIndex = newParentChildrenList.indexOf(originalTargetKey);\n\n      var insertionIndex = isInsertedAfterTarget ? targetBlockIndex + 1 : targetBlockIndex !== 0 ? targetBlockIndex - 1 : 0;\n\n      var newChildrenArray = newParentChildrenList.toArray();\n      newChildrenArray.splice(insertionIndex, 0, originalBlockKey);\n\n      return block.merge({\n        children: List(newChildrenArray)\n      });\n    });\n\n    // update block\n    transformBlock(originalBlockKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: newNextSiblingKey,\n        prevSibling: newPrevSiblingKey,\n        parent: newParentKey\n      });\n    });\n  });\n};\n\nvar moveBlockInContentState = function moveBlockInContentState(contentState, blockToBeMoved, targetBlock, insertionMode) {\n  !(insertionMode !== 'replace') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Replacing blocks is not supported.') : invariant(false) : void 0;\n\n  var targetKey = targetBlock.getKey();\n  var blockKey = blockToBeMoved.getKey();\n\n  !(blockKey !== targetKey) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n\n  var blockMap = contentState.getBlockMap();\n  var isExperimentalTreeBlock = blockToBeMoved instanceof ContentBlockNode;\n\n  var blocksToBeMoved = [blockToBeMoved];\n  var blockMapWithoutBlocksToBeMoved = blockMap['delete'](blockKey);\n\n  if (isExperimentalTreeBlock) {\n    blocksToBeMoved = [];\n    blockMapWithoutBlocksToBeMoved = blockMap.withMutations(function (blocks) {\n      var nextSiblingKey = blockToBeMoved.getNextSiblingKey();\n      var nextDelimiterBlockKey = getNextDelimiterBlockKey(blockToBeMoved, blocks);\n\n      blocks.toSeq().skipUntil(function (block) {\n        return block.getKey() === blockKey;\n      }).takeWhile(function (block) {\n        var key = block.getKey();\n        var isBlockToBeMoved = key === blockKey;\n        var hasNextSiblingAndIsNotNextSibling = nextSiblingKey && key !== nextSiblingKey;\n        var doesNotHaveNextSiblingAndIsNotDelimiter = !nextSiblingKey && block.getParentKey() && (!nextDelimiterBlockKey || key !== nextDelimiterBlockKey);\n\n        return !!(isBlockToBeMoved || hasNextSiblingAndIsNotNextSibling || doesNotHaveNextSiblingAndIsNotDelimiter);\n      }).forEach(function (block) {\n        blocksToBeMoved.push(block);\n        blocks['delete'](block.getKey());\n      });\n    });\n  }\n\n  var blocksBefore = blockMapWithoutBlocksToBeMoved.toSeq().takeUntil(function (v) {\n    return v === targetBlock;\n  });\n\n  var blocksAfter = blockMapWithoutBlocksToBeMoved.toSeq().skipUntil(function (v) {\n    return v === targetBlock;\n  }).skip(1);\n\n  var slicedBlocks = blocksToBeMoved.map(function (block) {\n    return [block.getKey(), block];\n  });\n\n  var newBlocks = OrderedMap();\n\n  if (insertionMode === 'before') {\n    var blockBefore = contentState.getBlockBefore(targetKey);\n\n    !(!blockBefore || blockBefore.getKey() !== blockToBeMoved.getKey()) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n\n    newBlocks = blocksBefore.concat([].concat(slicedBlocks, [[targetKey, targetBlock]]), blocksAfter).toOrderedMap();\n  } else if (insertionMode === 'after') {\n    var blockAfter = contentState.getBlockAfter(targetKey);\n\n    !(!blockAfter || blockAfter.getKey() !== blockKey) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Block cannot be moved next to itself.') : invariant(false) : void 0;\n\n    newBlocks = blocksBefore.concat([[targetKey, targetBlock]].concat(slicedBlocks), blocksAfter).toOrderedMap();\n  }\n\n  return contentState.merge({\n    blockMap: updateBlockMapLinks(newBlocks, blockToBeMoved, targetBlock, insertionMode, isExperimentalTreeBlock),\n    selectionBefore: contentState.getSelectionAfter(),\n    selectionAfter: contentState.getSelectionAfter().merge({\n      anchorKey: blockKey,\n      focusKey: blockKey\n    })\n  });\n};\n\nmodule.exports = moveBlockInContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule moveSelectionBackward\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Given a collapsed selection, move the focus `maxDistance` backward within\n * the selected block. If the selection will go beyond the start of the block,\n * move focus to the end of the previous block, but no further.\n *\n * This function is not Unicode-aware, so surrogate pairs will be treated\n * as having length 2.\n */\nfunction moveSelectionBackward(editorState, maxDistance) {\n  var selection = editorState.getSelection();\n  var content = editorState.getCurrentContent();\n  var key = selection.getStartKey();\n  var offset = selection.getStartOffset();\n\n  var focusKey = key;\n  var focusOffset = 0;\n\n  if (maxDistance > offset) {\n    var keyBefore = content.getKeyBefore(key);\n    if (keyBefore == null) {\n      focusKey = key;\n    } else {\n      focusKey = keyBefore;\n      var blockBefore = content.getBlockForKey(keyBefore);\n      focusOffset = blockBefore.getText().length;\n    }\n  } else {\n    focusOffset = offset - maxDistance;\n  }\n\n  return selection.merge({\n    focusKey: focusKey,\n    focusOffset: focusOffset,\n    isBackward: true\n  });\n}\n\nmodule.exports = moveSelectionBackward;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule moveSelectionForward\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Given a collapsed selection, move the focus `maxDistance` forward within\n * the selected block. If the selection will go beyond the end of the block,\n * move focus to the start of the next block, but no further.\n *\n * This function is not Unicode-aware, so surrogate pairs will be treated\n * as having length 2.\n */\nfunction moveSelectionForward(editorState, maxDistance) {\n  var selection = editorState.getSelection();\n  var key = selection.getStartKey();\n  var offset = selection.getStartOffset();\n  var content = editorState.getCurrentContent();\n\n  var focusKey = key;\n  var focusOffset;\n\n  var block = content.getBlockForKey(key);\n\n  if (maxDistance > block.getText().length - offset) {\n    focusKey = content.getKeyAfter(key);\n    focusOffset = 0;\n  } else {\n    focusOffset = offset + maxDistance;\n  }\n\n  return selection.merge({ focusKey: focusKey, focusOffset: focusOffset });\n}\n\nmodule.exports = moveSelectionForward;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule randomizeBlockMapKeys\n * @format\n * \n */\n\n'use strict';\n\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar generateRandomKey = require('./generateRandomKey');\n\nvar OrderedMap = Immutable.OrderedMap;\n\n\nvar randomizeContentBlockNodeKeys = function randomizeContentBlockNodeKeys(blockMap) {\n  var newKeysRef = {};\n\n  // we keep track of root blocks in order to update subsequent sibling links\n  var lastRootBlock = void 0;\n\n  return OrderedMap(blockMap.withMutations(function (blockMapState) {\n    blockMapState.forEach(function (block, index) {\n      var oldKey = block.getKey();\n      var nextKey = block.getNextSiblingKey();\n      var prevKey = block.getPrevSiblingKey();\n      var childrenKeys = block.getChildKeys();\n      var parentKey = block.getParentKey();\n\n      // new key that we will use to build linking\n      var key = generateRandomKey();\n\n      // we will add it here to re-use it later\n      newKeysRef[oldKey] = key;\n\n      if (nextKey) {\n        var nextBlock = blockMapState.get(nextKey);\n        if (nextBlock) {\n          blockMapState.setIn([nextKey, 'prevSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'nextSibling'], null);\n        }\n      }\n\n      if (prevKey) {\n        var prevBlock = blockMapState.get(prevKey);\n        if (prevBlock) {\n          blockMapState.setIn([prevKey, 'nextSibling'], key);\n        } else {\n          // this can happen when generating random keys for fragments\n          blockMapState.setIn([oldKey, 'prevSibling'], null);\n        }\n      }\n\n      if (parentKey && blockMapState.get(parentKey)) {\n        var parentBlock = blockMapState.get(parentKey);\n        var parentChildrenList = parentBlock.getChildKeys();\n        blockMapState.setIn([parentKey, 'children'], parentChildrenList.set(parentChildrenList.indexOf(block.getKey()), key));\n      } else {\n        // blocks will then be treated as root block nodes\n        blockMapState.setIn([oldKey, 'parent'], null);\n\n        if (lastRootBlock) {\n          blockMapState.setIn([lastRootBlock.getKey(), 'nextSibling'], key);\n          blockMapState.setIn([oldKey, 'prevSibling'], newKeysRef[lastRootBlock.getKey()]);\n        }\n\n        lastRootBlock = blockMapState.get(oldKey);\n      }\n\n      childrenKeys.forEach(function (childKey) {\n        var childBlock = blockMapState.get(childKey);\n        if (childBlock) {\n          blockMapState.setIn([childKey, 'parent'], key);\n        } else {\n          blockMapState.setIn([oldKey, 'children'], block.getChildKeys().filter(function (child) {\n            return child !== childKey;\n          }));\n        }\n      });\n    });\n  }).toArray().map(function (block) {\n    return [newKeysRef[block.getKey()], block.set('key', newKeysRef[block.getKey()])];\n  }));\n};\n\nvar randomizeContentBlockKeys = function randomizeContentBlockKeys(blockMap) {\n  return OrderedMap(blockMap.toArray().map(function (block) {\n    var key = generateRandomKey();\n    return [key, block.set('key', key)];\n  }));\n};\n\nvar randomizeBlockMapKeys = function randomizeBlockMapKeys(blockMap) {\n  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;\n\n  if (!isTreeBasedBlockMap) {\n    return randomizeContentBlockKeys(blockMap);\n  }\n\n  return randomizeContentBlockNodeKeys(blockMap);\n};\n\nmodule.exports = randomizeBlockMapKeys;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule removeEntitiesAtEdges\n * @format\n * \n */\n\n'use strict';\n\nvar CharacterMetadata = require('./CharacterMetadata');\n\nvar findRangesImmutable = require('./findRangesImmutable');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction removeEntitiesAtEdges(contentState, selectionState) {\n  var blockMap = contentState.getBlockMap();\n  var entityMap = contentState.getEntityMap();\n\n  var updatedBlocks = {};\n\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var startBlock = blockMap.get(startKey);\n  var updatedStart = removeForBlock(entityMap, startBlock, startOffset);\n\n  if (updatedStart !== startBlock) {\n    updatedBlocks[startKey] = updatedStart;\n  }\n\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var endBlock = blockMap.get(endKey);\n  if (startKey === endKey) {\n    endBlock = updatedStart;\n  }\n\n  var updatedEnd = removeForBlock(entityMap, endBlock, endOffset);\n\n  if (updatedEnd !== endBlock) {\n    updatedBlocks[endKey] = updatedEnd;\n  }\n\n  if (!Object.keys(updatedBlocks).length) {\n    return contentState.set('selectionAfter', selectionState);\n  }\n\n  return contentState.merge({\n    blockMap: blockMap.merge(updatedBlocks),\n    selectionAfter: selectionState\n  });\n}\n\nfunction getRemovalRange(characters, key, offset) {\n  var removalRange;\n  findRangesImmutable(characters, function (a, b) {\n    return a.getEntity() === b.getEntity();\n  }, function (element) {\n    return element.getEntity() === key;\n  }, function (start, end) {\n    if (start <= offset && end >= offset) {\n      removalRange = { start: start, end: end };\n    }\n  });\n  !(typeof removalRange === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Removal range must exist within character list.') : invariant(false) : void 0;\n  return removalRange;\n}\n\nfunction removeForBlock(entityMap, block, offset) {\n  var chars = block.getCharacterList();\n  var charBefore = offset > 0 ? chars.get(offset - 1) : undefined;\n  var charAfter = offset < chars.count() ? chars.get(offset) : undefined;\n  var entityBeforeCursor = charBefore ? charBefore.getEntity() : undefined;\n  var entityAfterCursor = charAfter ? charAfter.getEntity() : undefined;\n\n  if (entityAfterCursor && entityAfterCursor === entityBeforeCursor) {\n    var entity = entityMap.__get(entityAfterCursor);\n    if (entity.getMutability() !== 'MUTABLE') {\n      var _getRemovalRange = getRemovalRange(chars, entityAfterCursor, offset),\n          start = _getRemovalRange.start,\n          end = _getRemovalRange.end;\n\n      var current;\n      while (start < end) {\n        current = chars.get(start);\n        chars = chars.set(start, CharacterMetadata.applyEntity(current, null));\n        start++;\n      }\n      return block.set('characterList', chars);\n    }\n  }\n\n  return block;\n}\n\nmodule.exports = removeEntitiesAtEdges;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule removeRangeFromContentState\n * @format\n * \n */\n\n'use strict';\n\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar getNextDelimiterBlockKey = require('./getNextDelimiterBlockKey');\n\nvar List = Immutable.List,\n    Map = Immutable.Map;\n\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\n/**\n * Ancestors needs to be preserved when there are non selected\n * children to make sure we do not leave any orphans behind\n */\nvar getAncestorsKeys = function getAncestorsKeys(blockKey, blockMap) {\n  var parents = [];\n\n  if (!blockKey) {\n    return parents;\n  }\n\n  var blockNode = blockMap.get(blockKey);\n  while (blockNode && blockNode.getParentKey()) {\n    var parentKey = blockNode.getParentKey();\n    if (parentKey) {\n      parents.push(parentKey);\n    }\n    blockNode = parentKey ? blockMap.get(parentKey) : null;\n  }\n\n  return parents;\n};\n\n/**\n * Get all next delimiter keys until we hit a root delimiter and return\n * an array of key references\n */\nvar getNextDelimitersBlockKeys = function getNextDelimitersBlockKeys(block, blockMap) {\n  var nextDelimiters = [];\n\n  if (!block) {\n    return nextDelimiters;\n  }\n\n  var nextDelimiter = getNextDelimiterBlockKey(block, blockMap);\n  while (nextDelimiter && blockMap.get(nextDelimiter)) {\n    var _block = blockMap.get(nextDelimiter);\n    nextDelimiters.push(nextDelimiter);\n\n    // we do not need to keep checking all root node siblings, just the first occurance\n    nextDelimiter = _block.getParentKey() ? getNextDelimiterBlockKey(_block, blockMap) : null;\n  }\n\n  return nextDelimiters;\n};\n\nvar getNextValidSibling = function getNextValidSibling(block, blockMap, originalBlockMap) {\n  if (!block) {\n    return null;\n  }\n\n  // note that we need to make sure we refer to the original block since this\n  // function is called within a withMutations\n  var nextValidSiblingKey = originalBlockMap.get(block.getKey()).getNextSiblingKey();\n\n  while (nextValidSiblingKey && !blockMap.get(nextValidSiblingKey)) {\n    nextValidSiblingKey = originalBlockMap.get(nextValidSiblingKey).getNextSiblingKey() || null;\n  }\n\n  return nextValidSiblingKey;\n};\n\nvar getPrevValidSibling = function getPrevValidSibling(block, blockMap, originalBlockMap) {\n  if (!block) {\n    return null;\n  }\n\n  // note that we need to make sure we refer to the original block since this\n  // function is called within a withMutations\n  var prevValidSiblingKey = originalBlockMap.get(block.getKey()).getPrevSiblingKey();\n\n  while (prevValidSiblingKey && !blockMap.get(prevValidSiblingKey)) {\n    prevValidSiblingKey = originalBlockMap.get(prevValidSiblingKey).getPrevSiblingKey() || null;\n  }\n\n  return prevValidSiblingKey;\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, startBlock, endBlock, originalBlockMap) {\n  return blockMap.withMutations(function (blocks) {\n    // update start block if its retained\n    transformBlock(startBlock.getKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(startBlock, blocks, originalBlockMap),\n        prevSibling: getPrevValidSibling(startBlock, blocks, originalBlockMap)\n      });\n    });\n\n    // update endblock if its retained\n    transformBlock(endBlock.getKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(endBlock, blocks, originalBlockMap),\n        prevSibling: getPrevValidSibling(endBlock, blocks, originalBlockMap)\n      });\n    });\n\n    // update start block parent ancestors\n    getAncestorsKeys(startBlock.getKey(), originalBlockMap).forEach(function (parentKey) {\n      return transformBlock(parentKey, blocks, function (block) {\n        return block.merge({\n          children: block.getChildKeys().filter(function (key) {\n            return blocks.get(key);\n          }),\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    });\n\n    // update start block next - can only happen if startBlock == endBlock\n    transformBlock(startBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: startBlock.getPrevSiblingKey()\n      });\n    });\n\n    // update start block prev\n    transformBlock(startBlock.getPrevSiblingKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: getNextValidSibling(startBlock, blocks, originalBlockMap)\n      });\n    });\n\n    // update end block next\n    transformBlock(endBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: getPrevValidSibling(endBlock, blocks, originalBlockMap)\n      });\n    });\n\n    // update end block prev\n    transformBlock(endBlock.getPrevSiblingKey(), blocks, function (block) {\n      return block.merge({\n        nextSibling: endBlock.getNextSiblingKey()\n      });\n    });\n\n    // update end block parent ancestors\n    getAncestorsKeys(endBlock.getKey(), originalBlockMap).forEach(function (parentKey) {\n      transformBlock(parentKey, blocks, function (block) {\n        return block.merge({\n          children: block.getChildKeys().filter(function (key) {\n            return blocks.get(key);\n          }),\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    });\n\n    // update next delimiters all the way to a root delimiter\n    getNextDelimitersBlockKeys(endBlock, originalBlockMap).forEach(function (delimiterKey) {\n      return transformBlock(delimiterKey, blocks, function (block) {\n        return block.merge({\n          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),\n          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)\n        });\n      });\n    });\n  });\n};\n\nvar removeRangeFromContentState = function removeRangeFromContentState(contentState, selectionState) {\n  if (selectionState.isCollapsed()) {\n    return contentState;\n  }\n\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  var startBlock = blockMap.get(startKey);\n  var endBlock = blockMap.get(endKey);\n\n  // we assume that ContentBlockNode and ContentBlocks are not mixed together\n  var isExperimentalTreeBlock = startBlock instanceof ContentBlockNode;\n\n  // used to retain blocks that should not be deleted to avoid orphan children\n  var parentAncestors = [];\n\n  if (isExperimentalTreeBlock) {\n    var endBlockchildrenKeys = endBlock.getChildKeys();\n    var endBlockAncestors = getAncestorsKeys(endKey, blockMap);\n\n    // endBlock has unselected sibblings so we can not remove its ancestors parents\n    if (endBlock.getNextSiblingKey()) {\n      parentAncestors = parentAncestors.concat(endBlockAncestors);\n    }\n\n    // endBlock has children so can not remove this block or any of its ancestors\n    if (!endBlockchildrenKeys.isEmpty()) {\n      parentAncestors = parentAncestors.concat(endBlockAncestors.concat([endKey]));\n    }\n\n    // we need to retain all ancestors of the next delimiter block\n    parentAncestors = parentAncestors.concat(getAncestorsKeys(getNextDelimiterBlockKey(endBlock, blockMap), blockMap));\n  }\n\n  var characterList = void 0;\n\n  if (startBlock === endBlock) {\n    characterList = removeFromList(startBlock.getCharacterList(), startOffset, endOffset);\n  } else {\n    characterList = startBlock.getCharacterList().slice(0, startOffset).concat(endBlock.getCharacterList().slice(endOffset));\n  }\n\n  var modifiedStart = startBlock.merge({\n    text: startBlock.getText().slice(0, startOffset) + endBlock.getText().slice(endOffset),\n    characterList: characterList\n  });\n\n  var newBlocks = blockMap.toSeq().skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).filter(function (_, k) {\n    return parentAncestors.indexOf(k) === -1;\n  }).concat(Map([[endKey, null]])).map(function (_, k) {\n    return k === startKey ? modifiedStart : null;\n  });\n\n  var updatedBlockMap = blockMap.merge(newBlocks).filter(function (block) {\n    return !!block;\n  });\n\n  if (isExperimentalTreeBlock) {\n    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, startBlock, endBlock, blockMap);\n  }\n\n  return contentState.merge({\n    blockMap: updatedBlockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: startKey,\n      anchorOffset: startOffset,\n      focusKey: startKey,\n      focusOffset: startOffset,\n      isBackward: false\n    })\n  });\n};\n\n/**\n * Maintain persistence for target list when removing characters on the\n * head and tail of the character list.\n */\nvar removeFromList = function removeFromList(targetList, startOffset, endOffset) {\n  if (startOffset === 0) {\n    while (startOffset < endOffset) {\n      targetList = targetList.shift();\n      startOffset++;\n    }\n  } else if (endOffset === targetList.count()) {\n    while (endOffset > startOffset) {\n      targetList = targetList.pop();\n      endOffset--;\n    }\n  } else {\n    var head = targetList.slice(0, startOffset);\n    var tail = targetList.slice(endOffset);\n    targetList = head.concat(tail).toList();\n  }\n  return targetList;\n};\n\nmodule.exports = removeRangeFromContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule removeTextWithStrategy\n * @format\n * \n */\n\n'use strict';\n\nvar DraftModifier = require('./DraftModifier');\n\n/**\n * For a collapsed selection state, remove text based on the specified strategy.\n * If the selection state is not collapsed, remove the entire selected range.\n */\nfunction removeTextWithStrategy(editorState, strategy, direction) {\n  var selection = editorState.getSelection();\n  var content = editorState.getCurrentContent();\n  var target = selection;\n  if (selection.isCollapsed()) {\n    if (direction === 'forward') {\n      if (editorState.isSelectionAtEndOfContent()) {\n        return content;\n      }\n    } else if (editorState.isSelectionAtStartOfContent()) {\n      return content;\n    }\n\n    target = strategy(editorState);\n    if (target === selection) {\n      return content;\n    }\n  }\n  return DraftModifier.removeRange(content, target, direction);\n}\n\nmodule.exports = removeTextWithStrategy;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule sanitizeDraftText\n * @format\n * \n */\n\n'use strict';\n\nvar REGEX_BLOCK_DELIMITER = new RegExp('\\r', 'g');\n\nfunction sanitizeDraftText(input) {\n  return input.replace(REGEX_BLOCK_DELIMITER, '');\n}\n\nmodule.exports = sanitizeDraftText;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule setDraftEditorSelection\n * @format\n * \n */\n\n'use strict';\n\nvar DraftJsDebugLogging = require('./DraftJsDebugLogging');\n\nvar containsNode = require('fbjs/lib/containsNode');\nvar getActiveElement = require('fbjs/lib/getActiveElement');\nvar invariant = require('fbjs/lib/invariant');\n\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n\n  !(anonymized instanceof Element) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  return anonymized.outerHTML;\n}\n\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return document.createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n\n  var clone = node.cloneNode();\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n  var childNodes = node.childNodes;\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n\n  return clone;\n}\n\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node;\n  while (currentNode) {\n    if (currentNode instanceof Element && currentNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n  return 'Could not find contentEditable parent of node';\n}\n\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  if (!containsNode(document.documentElement, node)) {\n    return;\n  }\n\n  var selection = global.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward();\n\n  // IE doesn't support backward selection. Swap key/offset pairs.\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset;\n\n  // If the selection is entirely bound within this node, set the selection\n  // and be done.\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    }\n\n    // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n\n    // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n\n/**\n * Extend selection towards focus point.\n */\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  if (selection.extend && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({ offset: offset }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    }\n\n    // logging to catch bug that is being reported in t18110632\n    var nodeWasFocus = node === selection.focusNode;\n    try {\n      selection.extend(node, offset);\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      });\n      // allow the error to be thrown -\n      // better than continuing in a broken state\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    var range = selection.getRangeAt(0);\n    range.setEnd(node, offset);\n    selection.addRange(range.cloneRange());\n  }\n}\n\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = document.createRange();\n  // logging to catch bug that is being reported in t16250795\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({ offset: offset }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n  }\n  range.setStart(node, offset);\n  selection.addRange(range);\n}\n\nmodule.exports = setDraftEditorSelection;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule splitBlockInContentState\n * @format\n * \n */\n\n'use strict';\n\nvar ContentBlockNode = require('./ContentBlockNode');\nvar Immutable = require('immutable');\n\nvar generateRandomKey = require('./generateRandomKey');\nvar invariant = require('fbjs/lib/invariant');\n\nvar List = Immutable.List,\n    Map = Immutable.Map;\n\n\nvar transformBlock = function transformBlock(key, blockMap, func) {\n  if (!key) {\n    return;\n  }\n\n  var block = blockMap.get(key);\n\n  if (!block) {\n    return;\n  }\n\n  blockMap.set(key, func(block));\n};\n\nvar updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlock, belowBlock) {\n  return blockMap.withMutations(function (blocks) {\n    var originalBlockKey = originalBlock.getKey();\n    var belowBlockKey = belowBlock.getKey();\n\n    // update block parent\n    transformBlock(originalBlock.getParentKey(), blocks, function (block) {\n      var parentChildrenList = block.getChildKeys();\n      var insertionIndex = parentChildrenList.indexOf(originalBlockKey) + 1;\n      var newChildrenArray = parentChildrenList.toArray();\n\n      newChildrenArray.splice(insertionIndex, 0, belowBlockKey);\n\n      return block.merge({\n        children: List(newChildrenArray)\n      });\n    });\n\n    // update original next block\n    transformBlock(originalBlock.getNextSiblingKey(), blocks, function (block) {\n      return block.merge({\n        prevSibling: belowBlockKey\n      });\n    });\n\n    // update original block\n    transformBlock(originalBlockKey, blocks, function (block) {\n      return block.merge({\n        nextSibling: belowBlockKey\n      });\n    });\n\n    // update below block\n    transformBlock(belowBlockKey, blocks, function (block) {\n      return block.merge({\n        prevSibling: originalBlockKey\n      });\n    });\n  });\n};\n\nvar splitBlockInContentState = function splitBlockInContentState(contentState, selectionState) {\n  !selectionState.isCollapsed() ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Selection range must be collapsed.') : invariant(false) : void 0;\n\n  var key = selectionState.getAnchorKey();\n  var offset = selectionState.getAnchorOffset();\n  var blockMap = contentState.getBlockMap();\n  var blockToSplit = blockMap.get(key);\n  var text = blockToSplit.getText();\n  var chars = blockToSplit.getCharacterList();\n  var keyBelow = generateRandomKey();\n  var isExperimentalTreeBlock = blockToSplit instanceof ContentBlockNode;\n\n  var blockAbove = blockToSplit.merge({\n    text: text.slice(0, offset),\n    characterList: chars.slice(0, offset)\n  });\n  var blockBelow = blockAbove.merge({\n    key: keyBelow,\n    text: text.slice(offset),\n    characterList: chars.slice(offset),\n    data: Map()\n  });\n\n  var blocksBefore = blockMap.toSeq().takeUntil(function (v) {\n    return v === blockToSplit;\n  });\n  var blocksAfter = blockMap.toSeq().skipUntil(function (v) {\n    return v === blockToSplit;\n  }).rest();\n  var newBlocks = blocksBefore.concat([[key, blockAbove], [keyBelow, blockBelow]], blocksAfter).toOrderedMap();\n\n  if (isExperimentalTreeBlock) {\n    !blockToSplit.getChildKeys().isEmpty() ? process.env.NODE_ENV !== 'production' ? invariant(false, 'ContentBlockNode must not have children') : invariant(false) : void 0;\n\n    newBlocks = updateBlockMapLinks(newBlocks, blockAbove, blockBelow);\n  }\n\n  return contentState.merge({\n    blockMap: newBlocks,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState.merge({\n      anchorKey: keyBelow,\n      anchorOffset: 0,\n      focusKey: keyBelow,\n      focusOffset: 0,\n      isBackward: false\n    })\n  });\n};\n\nmodule.exports = splitBlockInContentState;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule splitTextIntoTextBlocks\n * @format\n * \n */\n\n'use strict';\n\nvar NEWLINE_REGEX = /\\r\\n?|\\n/g;\n\nfunction splitTextIntoTextBlocks(text) {\n  return text.split(NEWLINE_REGEX);\n}\n\nmodule.exports = splitTextIntoTextBlocks;","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar PhotosMimeType = require('./PhotosMimeType');\n\nvar createArrayFromMixed = require('./createArrayFromMixed');\nvar emptyFunction = require('./emptyFunction');\n\nvar CR_LF_REGEX = new RegExp('\\r\\n', 'g');\nvar LF_ONLY = '\\n';\n\nvar RICH_TEXT_TYPES = {\n  'text/rtf': 1,\n  'text/html': 1\n};\n\n/**\n * If DataTransferItem is a file then return the Blob of data.\n *\n * @param {object} item\n * @return {?blob}\n */\nfunction getFileFromDataTransfer(item) {\n  if (item.kind == 'file') {\n    return item.getAsFile();\n  }\n}\n\nvar DataTransfer = function () {\n  /**\n   * @param {object} data\n   */\n  function DataTransfer(data) {\n    _classCallCheck(this, DataTransfer);\n\n    this.data = data;\n\n    // Types could be DOMStringList or array\n    this.types = data.types ? createArrayFromMixed(data.types) : [];\n  }\n\n  /**\n   * Is this likely to be a rich text data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  DataTransfer.prototype.isRichText = function isRichText() {\n    // If HTML is available, treat this data as rich text. This way, we avoid\n    // using a pasted image if it is packaged with HTML -- this may occur with\n    // pastes from MS Word, for example.  However this is only rich text if\n    // there's accompanying text.\n    if (this.getHTML() && this.getText()) {\n      return true;\n    }\n\n    // When an image is copied from a preview window, you end up with two\n    // DataTransferItems one of which is a file's metadata as text.  Skip those.\n    if (this.isImage()) {\n      return false;\n    }\n\n    return this.types.some(function (type) {\n      return RICH_TEXT_TYPES[type];\n    });\n  };\n\n  /**\n   * Get raw text.\n   *\n   * @return {?string}\n   */\n\n\n  DataTransfer.prototype.getText = function getText() {\n    var text;\n    if (this.data.getData) {\n      if (!this.types.length) {\n        text = this.data.getData('Text');\n      } else if (this.types.indexOf('text/plain') != -1) {\n        text = this.data.getData('text/plain');\n      }\n    }\n    return text ? text.replace(CR_LF_REGEX, LF_ONLY) : null;\n  };\n\n  /**\n   * Get HTML paste data\n   *\n   * @return {?string}\n   */\n\n\n  DataTransfer.prototype.getHTML = function getHTML() {\n    if (this.data.getData) {\n      if (!this.types.length) {\n        return this.data.getData('Text');\n      } else if (this.types.indexOf('text/html') != -1) {\n        return this.data.getData('text/html');\n      }\n    }\n  };\n\n  /**\n   * Is this a link data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  DataTransfer.prototype.isLink = function isLink() {\n    return this.types.some(function (type) {\n      return type.indexOf('Url') != -1 || type.indexOf('text/uri-list') != -1 || type.indexOf('text/x-moz-url');\n    });\n  };\n\n  /**\n   * Get a link url.\n   *\n   * @return {?string}\n   */\n\n\n  DataTransfer.prototype.getLink = function getLink() {\n    if (this.data.getData) {\n      if (this.types.indexOf('text/x-moz-url') != -1) {\n        var url = this.data.getData('text/x-moz-url').split('\\n');\n        return url[0];\n      }\n      return this.types.indexOf('text/uri-list') != -1 ? this.data.getData('text/uri-list') : this.data.getData('url');\n    }\n\n    return null;\n  };\n\n  /**\n   * Is this an image data transfer?\n   *\n   * @return {boolean}\n   */\n\n\n  DataTransfer.prototype.isImage = function isImage() {\n    var isImage = this.types.some(function (type) {\n      // Firefox will have a type of application/x-moz-file for images during\n      // dragging\n      return type.indexOf('application/x-moz-file') != -1;\n    });\n\n    if (isImage) {\n      return true;\n    }\n\n    var items = this.getFiles();\n    for (var i = 0; i < items.length; i++) {\n      var type = items[i].type;\n      if (!PhotosMimeType.isImage(type)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  DataTransfer.prototype.getCount = function getCount() {\n    if (this.data.hasOwnProperty('items')) {\n      return this.data.items.length;\n    } else if (this.data.hasOwnProperty('mozItemCount')) {\n      return this.data.mozItemCount;\n    } else if (this.data.files) {\n      return this.data.files.length;\n    }\n    return null;\n  };\n\n  /**\n   * Get files.\n   *\n   * @return {array}\n   */\n\n\n  DataTransfer.prototype.getFiles = function getFiles() {\n    if (this.data.items) {\n      // createArrayFromMixed doesn't properly handle DataTransferItemLists.\n      return Array.prototype.slice.call(this.data.items).map(getFileFromDataTransfer).filter(emptyFunction.thatReturnsArgument);\n    } else if (this.data.files) {\n      return Array.prototype.slice.call(this.data.files);\n    } else {\n      return [];\n    }\n  };\n\n  /**\n   * Are there any files to fetch?\n   *\n   * @return {boolean}\n   */\n\n\n  DataTransfer.prototype.hasFiles = function hasFiles() {\n    return this.getFiles().length > 0;\n  };\n\n  return DataTransfer;\n}();\n\nmodule.exports = DataTransfer;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nmodule.exports = {\n  BACKSPACE: 8,\n  TAB: 9,\n  RETURN: 13,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46,\n  COMMA: 188,\n  PERIOD: 190,\n  A: 65,\n  Z: 90,\n  ZERO: 48,\n  NUMPAD_0: 96,\n  NUMPAD_9: 105\n};","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar PhotosMimeType = {\n  isImage: function isImage(mimeString) {\n    return getParts(mimeString)[0] === 'image';\n  },\n  isJpeg: function isJpeg(mimeString) {\n    var parts = getParts(mimeString);\n    return PhotosMimeType.isImage(mimeString) && (\n    // see http://fburl.com/10972194\n    parts[1] === 'jpeg' || parts[1] === 'pjpeg');\n  }\n};\n\nfunction getParts(mimeString) {\n  return mimeString.split('/');\n}\n\nmodule.exports = PhotosMimeType;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * @param {DOMElement} element\n * @param {DOMDocument} doc\n * @return {boolean}\n */\nfunction _isViewportScrollElement(element, doc) {\n  return !!doc && (element === doc.documentElement || element === doc.body);\n}\n\n/**\n * Scroll Module. This class contains 4 simple static functions\n * to be used to access Element.scrollTop/scrollLeft properties.\n * To solve the inconsistencies between browsers when either\n * document.body or document.documentElement is supplied,\n * below logic will be used to alleviate the issue:\n *\n * 1. If 'element' is either 'document.body' or 'document.documentElement,\n *    get whichever element's 'scroll{Top,Left}' is larger.\n * 2. If 'element' is either 'document.body' or 'document.documentElement',\n *    set the 'scroll{Top,Left}' on both elements.\n */\n\nvar Scroll = {\n  /**\n   * @param {DOMElement} element\n   * @return {number}\n   */\n  getTop: function getTop(element) {\n    var doc = element.ownerDocument;\n    return _isViewportScrollElement(element, doc) ?\n    // In practice, they will either both have the same value,\n    // or one will be zero and the other will be the scroll position\n    // of the viewport. So we can use `X || Y` instead of `Math.max(X, Y)`\n    doc.body.scrollTop || doc.documentElement.scrollTop : element.scrollTop;\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @param {number} newTop\n   */\n  setTop: function setTop(element, newTop) {\n    var doc = element.ownerDocument;\n    if (_isViewportScrollElement(element, doc)) {\n      doc.body.scrollTop = doc.documentElement.scrollTop = newTop;\n    } else {\n      element.scrollTop = newTop;\n    }\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @return {number}\n   */\n  getLeft: function getLeft(element) {\n    var doc = element.ownerDocument;\n    return _isViewportScrollElement(element, doc) ? doc.body.scrollLeft || doc.documentElement.scrollLeft : element.scrollLeft;\n  },\n\n  /**\n   * @param {DOMElement} element\n   * @param {number} newLeft\n   */\n  setLeft: function setLeft(element, newLeft) {\n    var doc = element.ownerDocument;\n    if (_isViewportScrollElement(element, doc)) {\n      doc.body.scrollLeft = doc.documentElement.scrollLeft = newLeft;\n    } else {\n      element.scrollLeft = newLeft;\n    }\n  }\n};\n\nmodule.exports = Scroll;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar getStyleProperty = require('./getStyleProperty');\n\n/**\n * @param {DOMNode} element [description]\n * @param {string} name Overflow style property name.\n * @return {boolean} True if the supplied ndoe is scrollable.\n */\nfunction _isNodeScrollable(element, name) {\n  var overflow = Style.get(element, name);\n  return overflow === 'auto' || overflow === 'scroll';\n}\n\n/**\n * Utilities for querying and mutating style properties.\n */\nvar Style = {\n  /**\n   * Gets the style property for the supplied node. This will return either the\n   * computed style, if available, or the declared style.\n   *\n   * @param {DOMNode} node\n   * @param {string} name Style property name.\n   * @return {?string} Style property value.\n   */\n  get: getStyleProperty,\n\n  /**\n   * Determines the nearest ancestor of a node that is scrollable.\n   *\n   * NOTE: This can be expensive if used repeatedly or on a node nested deeply.\n   *\n   * @param {?DOMNode} node Node from which to start searching.\n   * @return {?DOMWindow|DOMElement} Scroll parent of the supplied node.\n   */\n  getScrollParent: function getScrollParent(node) {\n    if (!node) {\n      return null;\n    }\n    var ownerDocument = node.ownerDocument;\n    while (node && node !== ownerDocument.body) {\n      if (_isNodeScrollable(node, 'overflow') || _isNodeScrollable(node, 'overflowY') || _isNodeScrollable(node, 'overflowX')) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return ownerDocument.defaultView || ownerDocument.parentWindow;\n  }\n\n};\n\nmodule.exports = Style;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * @stub\n * \n */\n\n'use strict';\n\n// \\u00a1-\\u00b1\\u00b4-\\u00b8\\u00ba\\u00bb\\u00bf\n//             is latin supplement punctuation except fractions and superscript\n//             numbers\n// \\u2010-\\u2027\\u2030-\\u205e\n//             is punctuation from the general punctuation block:\n//             weird quotes, commas, bullets, dashes, etc.\n// \\u30fb\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301f\n//             is CJK punctuation\n// \\uff1a-\\uff1f\\uff01-\\uff0f\\uff3b-\\uff40\\uff5b-\\uff65\n//             is some full-width/half-width punctuation\n// \\u2E2E\\u061f\\u066a-\\u066c\\u061b\\u060c\\u060d\\uFD3e\\uFD3F\n//             is some Arabic punctuation marks\n// \\u1801\\u0964\\u104a\\u104b\n//             is misc. other language punctuation marks\n\nvar PUNCTUATION = '[.,+*?$|#{}()\\'\\\\^\\\\-\\\\[\\\\]\\\\\\\\\\\\/!@%\"~=<>_:;' + '\\u30FB\\u3001\\u3002\\u3008-\\u3011\\u3014-\\u301F\\uFF1A-\\uFF1F\\uFF01-\\uFF0F' + '\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\u2E2E\\u061F\\u066A-\\u066C\\u061B\\u060C\\u060D' + '\\uFD3E\\uFD3F\\u1801\\u0964\\u104A\\u104B\\u2010-\\u2027\\u2030-\\u205E' + '\\xA1-\\xB1\\xB4-\\xB8\\xBA\\xBB\\xBF]';\n\nmodule.exports = {\n  getPunctuation: function getPunctuation() {\n    return PUNCTUATION;\n  }\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar URI = function () {\n  function URI(uri) {\n    _classCallCheck(this, URI);\n\n    this._uri = uri;\n  }\n\n  URI.prototype.toString = function toString() {\n    return this._uri;\n  };\n\n  return URI;\n}();\n\nmodule.exports = URI;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Basic (stateless) API for text direction detection\n *\n * Part of our implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n\n'use strict';\n\nvar UnicodeBidiDirection = require('./UnicodeBidiDirection');\n\nvar invariant = require('./invariant');\n\n/**\n * RegExp ranges of characters with a *Strong* Bidi_Class value.\n *\n * Data is based on DerivedBidiClass.txt in UCD version 7.0.0.\n *\n * NOTE: For performance reasons, we only support Unicode's\n *       Basic Multilingual Plane (BMP) for now.\n */\nvar RANGE_BY_BIDI_TYPE = {\n\n  L: 'A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u01BA\\u01BB' + '\\u01BC-\\u01BF\\u01C0-\\u01C3\\u01C4-\\u0293\\u0294\\u0295-\\u02AF\\u02B0-\\u02B8' + '\\u02BB-\\u02C1\\u02D0-\\u02D1\\u02E0-\\u02E4\\u02EE\\u0370-\\u0373\\u0376-\\u0377' + '\\u037A\\u037B-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1' + '\\u03A3-\\u03F5\\u03F7-\\u0481\\u0482\\u048A-\\u052F\\u0531-\\u0556\\u0559' + '\\u055A-\\u055F\\u0561-\\u0587\\u0589\\u0903\\u0904-\\u0939\\u093B\\u093D' + '\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0950\\u0958-\\u0961\\u0964-\\u0965' + '\\u0966-\\u096F\\u0970\\u0971\\u0972-\\u0980\\u0982-\\u0983\\u0985-\\u098C' + '\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD' + '\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09CE\\u09D7\\u09DC-\\u09DD' + '\\u09DF-\\u09E1\\u09E6-\\u09EF\\u09F0-\\u09F1\\u09F4-\\u09F9\\u09FA\\u0A03' + '\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33' + '\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A3E-\\u0A40\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F' + '\\u0A72-\\u0A74\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0' + '\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0AD0' + '\\u0AE0-\\u0AE1\\u0AE6-\\u0AEF\\u0AF0\\u0B02-\\u0B03\\u0B05-\\u0B0C\\u0B0F-\\u0B10' + '\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B3E\\u0B40' + '\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F' + '\\u0B70\\u0B71\\u0B72-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95' + '\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9' + '\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD0\\u0BD7' + '\\u0BE6-\\u0BEF\\u0BF0-\\u0BF2\\u0C01-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10' + '\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C41-\\u0C44\\u0C58-\\u0C59\\u0C60-\\u0C61' + '\\u0C66-\\u0C6F\\u0C7F\\u0C82-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8' + '\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CBE\\u0CBF\\u0CC0-\\u0CC4\\u0CC6' + '\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0CDE\\u0CE0-\\u0CE1\\u0CE6-\\u0CEF' + '\\u0CF1-\\u0CF2\\u0D02-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D' + '\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D4E\\u0D57\\u0D60-\\u0D61' + '\\u0D66-\\u0D6F\\u0D70-\\u0D75\\u0D79\\u0D7A-\\u0D7F\\u0D82-\\u0D83\\u0D85-\\u0D96' + '\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF' + '\\u0DE6-\\u0DEF\\u0DF2-\\u0DF3\\u0DF4\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45' + '\\u0E46\\u0E4F\\u0E50-\\u0E59\\u0E5A-\\u0E5B\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88' + '\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7' + '\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6' + '\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F01-\\u0F03\\u0F04-\\u0F12\\u0F13\\u0F14' + '\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F20-\\u0F29\\u0F2A-\\u0F33\\u0F34\\u0F36\\u0F38' + '\\u0F3E-\\u0F3F\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F7F\\u0F85\\u0F88-\\u0F8C' + '\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE-\\u0FCF\\u0FD0-\\u0FD4\\u0FD5-\\u0FD8' + '\\u0FD9-\\u0FDA\\u1000-\\u102A\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u103F' + '\\u1040-\\u1049\\u104A-\\u104F\\u1050-\\u1055\\u1056-\\u1057\\u105A-\\u105D\\u1061' + '\\u1062-\\u1064\\u1065-\\u1066\\u1067-\\u106D\\u106E-\\u1070\\u1075-\\u1081' + '\\u1083-\\u1084\\u1087-\\u108C\\u108E\\u108F\\u1090-\\u1099\\u109A-\\u109C' + '\\u109E-\\u109F\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FB\\u10FC' + '\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288' + '\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5' + '\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1360-\\u1368' + '\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166D-\\u166E' + '\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EB-\\u16ED\\u16EE-\\u16F0' + '\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1735-\\u1736' + '\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17B6\\u17BE-\\u17C5' + '\\u17C7-\\u17C8\\u17D4-\\u17D6\\u17D7\\u17D8-\\u17DA\\u17DC\\u17E0-\\u17E9' + '\\u1810-\\u1819\\u1820-\\u1842\\u1843\\u1844-\\u1877\\u1880-\\u18A8\\u18AA' + '\\u18B0-\\u18F5\\u1900-\\u191E\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931' + '\\u1933-\\u1938\\u1946-\\u194F\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB' + '\\u19B0-\\u19C0\\u19C1-\\u19C7\\u19C8-\\u19C9\\u19D0-\\u19D9\\u19DA\\u1A00-\\u1A16' + '\\u1A19-\\u1A1A\\u1A1E-\\u1A1F\\u1A20-\\u1A54\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64' + '\\u1A6D-\\u1A72\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA0-\\u1AA6\\u1AA7\\u1AA8-\\u1AAD' + '\\u1B04\\u1B05-\\u1B33\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B45-\\u1B4B' + '\\u1B50-\\u1B59\\u1B5A-\\u1B60\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1B82\\u1B83-\\u1BA0' + '\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAE-\\u1BAF\\u1BB0-\\u1BB9\\u1BBA-\\u1BE5\\u1BE7' + '\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1BFC-\\u1BFF\\u1C00-\\u1C23\\u1C24-\\u1C2B' + '\\u1C34-\\u1C35\\u1C3B-\\u1C3F\\u1C40-\\u1C49\\u1C4D-\\u1C4F\\u1C50-\\u1C59' + '\\u1C5A-\\u1C77\\u1C78-\\u1C7D\\u1C7E-\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u1CE1' + '\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF2-\\u1CF3\\u1CF5-\\u1CF6\\u1D00-\\u1D2B' + '\\u1D2C-\\u1D6A\\u1D6B-\\u1D77\\u1D78\\u1D79-\\u1D9A\\u1D9B-\\u1DBF\\u1E00-\\u1F15' + '\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D' + '\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC' + '\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200E' + '\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D' + '\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2134\\u2135-\\u2138\\u2139' + '\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u214F\\u2160-\\u2182\\u2183-\\u2184' + '\\u2185-\\u2188\\u2336-\\u237A\\u2395\\u249C-\\u24E9\\u26AC\\u2800-\\u28FF' + '\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C7B\\u2C7C-\\u2C7D\\u2C7E-\\u2CE4' + '\\u2CEB-\\u2CEE\\u2CF2-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F' + '\\u2D70\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE' + '\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005\\u3006\\u3007' + '\\u3021-\\u3029\\u302E-\\u302F\\u3031-\\u3035\\u3038-\\u303A\\u303B\\u303C' + '\\u3041-\\u3096\\u309D-\\u309E\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FE\\u30FF' + '\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u3191\\u3192-\\u3195\\u3196-\\u319F' + '\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3200-\\u321C\\u3220-\\u3229\\u322A-\\u3247' + '\\u3248-\\u324F\\u3260-\\u327B\\u327F\\u3280-\\u3289\\u328A-\\u32B0\\u32C0-\\u32CB' + '\\u32D0-\\u32FE\\u3300-\\u3376\\u337B-\\u33DD\\u33E0-\\u33FE\\u3400-\\u4DB5' + '\\u4E00-\\u9FCC\\uA000-\\uA014\\uA015\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA4F8-\\uA4FD' + '\\uA4FE-\\uA4FF\\uA500-\\uA60B\\uA60C\\uA610-\\uA61F\\uA620-\\uA629\\uA62A-\\uA62B' + '\\uA640-\\uA66D\\uA66E\\uA680-\\uA69B\\uA69C-\\uA69D\\uA6A0-\\uA6E5\\uA6E6-\\uA6EF' + '\\uA6F2-\\uA6F7\\uA722-\\uA76F\\uA770\\uA771-\\uA787\\uA789-\\uA78A\\uA78B-\\uA78E' + '\\uA790-\\uA7AD\\uA7B0-\\uA7B1\\uA7F7\\uA7F8-\\uA7F9\\uA7FA\\uA7FB-\\uA801' + '\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA823-\\uA824\\uA827\\uA830-\\uA835' + '\\uA836-\\uA837\\uA840-\\uA873\\uA880-\\uA881\\uA882-\\uA8B3\\uA8B4-\\uA8C3' + '\\uA8CE-\\uA8CF\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8F8-\\uA8FA\\uA8FB\\uA900-\\uA909' + '\\uA90A-\\uA925\\uA92E-\\uA92F\\uA930-\\uA946\\uA952-\\uA953\\uA95F\\uA960-\\uA97C' + '\\uA983\\uA984-\\uA9B2\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uA9C1-\\uA9CD' + '\\uA9CF\\uA9D0-\\uA9D9\\uA9DE-\\uA9DF\\uA9E0-\\uA9E4\\uA9E6\\uA9E7-\\uA9EF' + '\\uA9F0-\\uA9F9\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA2F-\\uAA30\\uAA33-\\uAA34' + '\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA4D\\uAA50-\\uAA59\\uAA5C-\\uAA5F\\uAA60-\\uAA6F' + '\\uAA70\\uAA71-\\uAA76\\uAA77-\\uAA79\\uAA7A\\uAA7B\\uAA7D\\uAA7E-\\uAAAF\\uAAB1' + '\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAADD\\uAADE-\\uAADF' + '\\uAAE0-\\uAAEA\\uAAEB\\uAAEE-\\uAAEF\\uAAF0-\\uAAF1\\uAAF2\\uAAF3-\\uAAF4\\uAAF5' + '\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E' + '\\uAB30-\\uAB5A\\uAB5B\\uAB5C-\\uAB5F\\uAB64-\\uAB65\\uABC0-\\uABE2\\uABE3-\\uABE4' + '\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEB\\uABEC\\uABF0-\\uABF9\\uAC00-\\uD7A3' + '\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uE000-\\uF8FF\\uF900-\\uFA6D\\uFA70-\\uFAD9' + '\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFF6F\\uFF70' + '\\uFF71-\\uFF9D\\uFF9E-\\uFF9F\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF' + '\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC',\n\n  R: '\\u0590\\u05BE\\u05C0\\u05C3\\u05C6\\u05C8-\\u05CF\\u05D0-\\u05EA\\u05EB-\\u05EF' + '\\u05F0-\\u05F2\\u05F3-\\u05F4\\u05F5-\\u05FF\\u07C0-\\u07C9\\u07CA-\\u07EA' + '\\u07F4-\\u07F5\\u07FA\\u07FB-\\u07FF\\u0800-\\u0815\\u081A\\u0824\\u0828' + '\\u082E-\\u082F\\u0830-\\u083E\\u083F\\u0840-\\u0858\\u085C-\\u085D\\u085E' + '\\u085F-\\u089F\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB37\\uFB38-\\uFB3C' + '\\uFB3D\\uFB3E\\uFB3F\\uFB40-\\uFB41\\uFB42\\uFB43-\\uFB44\\uFB45\\uFB46-\\uFB4F',\n\n  AL: '\\u0608\\u060B\\u060D\\u061B\\u061C\\u061D\\u061E-\\u061F\\u0620-\\u063F\\u0640' + '\\u0641-\\u064A\\u066D\\u066E-\\u066F\\u0671-\\u06D3\\u06D4\\u06D5\\u06E5-\\u06E6' + '\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FD-\\u06FE\\u06FF\\u0700-\\u070D\\u070E\\u070F' + '\\u0710\\u0712-\\u072F\\u074B-\\u074C\\u074D-\\u07A5\\u07B1\\u07B2-\\u07BF' + '\\u08A0-\\u08B2\\u08B3-\\u08E3\\uFB50-\\uFBB1\\uFBB2-\\uFBC1\\uFBC2-\\uFBD2' + '\\uFBD3-\\uFD3D\\uFD40-\\uFD4F\\uFD50-\\uFD8F\\uFD90-\\uFD91\\uFD92-\\uFDC7' + '\\uFDC8-\\uFDCF\\uFDF0-\\uFDFB\\uFDFC\\uFDFE-\\uFDFF\\uFE70-\\uFE74\\uFE75' + '\\uFE76-\\uFEFC\\uFEFD-\\uFEFE'\n\n};\n\nvar REGEX_STRONG = new RegExp('[' + RANGE_BY_BIDI_TYPE.L + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');\n\nvar REGEX_RTL = new RegExp('[' + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');\n\n/**\n * Returns the first strong character (has Bidi_Class value of L, R, or AL).\n *\n * @param str  A text block; e.g. paragraph, table cell, tag\n * @return     A character with strong bidi direction, or null if not found\n */\nfunction firstStrongChar(str) {\n  var match = REGEX_STRONG.exec(str);\n  return match == null ? null : match[0];\n}\n\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL).\n *\n * @param str  A text block; e.g. paragraph, table cell, tag\n * @return     The resolved direction\n */\nfunction firstStrongCharDir(str) {\n  var strongChar = firstStrongChar(str);\n  if (strongChar == null) {\n    return UnicodeBidiDirection.NEUTRAL;\n  }\n  return REGEX_RTL.exec(strongChar) ? UnicodeBidiDirection.RTL : UnicodeBidiDirection.LTR;\n}\n\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL), or a fallback\n * direction, if no strong character is found.\n *\n * This function is supposed to be used in respect to Higher-Level Protocol\n * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)\n *\n * @param str       A text block; e.g. paragraph, table cell, tag\n * @param fallback  Fallback direction, used if no strong direction detected\n *                  for the block (default = NEUTRAL)\n * @return          The resolved direction\n */\nfunction resolveBlockDir(str, fallback) {\n  fallback = fallback || UnicodeBidiDirection.NEUTRAL;\n  if (!str.length) {\n    return fallback;\n  }\n  var blockDir = firstStrongCharDir(str);\n  return blockDir === UnicodeBidiDirection.NEUTRAL ? fallback : blockDir;\n}\n\n/**\n * Returns the direction of a block of text, based on the direction of its\n * first strong character (has Bidi_Class value of L, R, or AL), or a fallback\n * direction, if no strong character is found.\n *\n * NOTE: This function is similar to resolveBlockDir(), but uses the global\n * direction as the fallback, so it *always* returns a Strong direction,\n * making it useful for integration in places that you need to make the final\n * decision, like setting some CSS class.\n *\n * This function is supposed to be used in respect to Higher-Level Protocol\n * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                The resolved Strong direction\n */\nfunction getDirection(str, strongFallback) {\n  if (!strongFallback) {\n    strongFallback = UnicodeBidiDirection.getGlobalDir();\n  }\n  !UnicodeBidiDirection.isStrong(strongFallback) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Fallback direction must be a strong direction') : invariant(false) : void 0;\n  return resolveBlockDir(str, strongFallback);\n}\n\n/**\n * Returns true if getDirection(arguments...) returns LTR.\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                True if the resolved direction is LTR\n */\nfunction isDirectionLTR(str, strongFallback) {\n  return getDirection(str, strongFallback) === UnicodeBidiDirection.LTR;\n}\n\n/**\n * Returns true if getDirection(arguments...) returns RTL.\n *\n * @param str             A text block; e.g. paragraph, table cell\n * @param strongFallback  Fallback direction, used if no strong direction\n *                        detected for the block (default = global direction)\n * @return                True if the resolved direction is RTL\n */\nfunction isDirectionRTL(str, strongFallback) {\n  return getDirection(str, strongFallback) === UnicodeBidiDirection.RTL;\n}\n\nvar UnicodeBidi = {\n  firstStrongChar: firstStrongChar,\n  firstStrongCharDir: firstStrongCharDir,\n  resolveBlockDir: resolveBlockDir,\n  getDirection: getDirection,\n  isDirectionLTR: isDirectionLTR,\n  isDirectionRTL: isDirectionRTL\n};\n\nmodule.exports = UnicodeBidi;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Constants to represent text directionality\n *\n * Also defines a *global* direciton, to be used in bidi algorithms as a\n * default fallback direciton, when no better direction is found or provided.\n *\n * NOTE: Use `setGlobalDir()`, or update `initGlobalDir()`, to set the initial\n *       global direction value based on the application.\n *\n * Part of the implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n\n'use strict';\n\nvar invariant = require('./invariant');\n\nvar NEUTRAL = 'NEUTRAL'; // No strong direction\nvar LTR = 'LTR'; // Left-to-Right direction\nvar RTL = 'RTL'; // Right-to-Left direction\n\nvar globalDir = null;\n\n// == Helpers ==\n\n/**\n * Check if a directionality value is a Strong one\n */\nfunction isStrong(dir) {\n  return dir === LTR || dir === RTL;\n}\n\n/**\n * Get string value to be used for `dir` HTML attribute or `direction` CSS\n * property.\n */\nfunction getHTMLDir(dir) {\n  !isStrong(dir) ? process.env.NODE_ENV !== 'production' ? invariant(false, '`dir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  return dir === LTR ? 'ltr' : 'rtl';\n}\n\n/**\n * Get string value to be used for `dir` HTML attribute or `direction` CSS\n * property, but returns null if `dir` has same value as `otherDir`.\n * `null`.\n */\nfunction getHTMLDirIfDifferent(dir, otherDir) {\n  !isStrong(dir) ? process.env.NODE_ENV !== 'production' ? invariant(false, '`dir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  !isStrong(otherDir) ? process.env.NODE_ENV !== 'production' ? invariant(false, '`otherDir` must be a strong direction to be converted to HTML Direction') : invariant(false) : void 0;\n  return dir === otherDir ? null : getHTMLDir(dir);\n}\n\n// == Global Direction ==\n\n/**\n * Set the global direction.\n */\nfunction setGlobalDir(dir) {\n  globalDir = dir;\n}\n\n/**\n * Initialize the global direction\n */\nfunction initGlobalDir() {\n  setGlobalDir(LTR);\n}\n\n/**\n * Get the global direction\n */\nfunction getGlobalDir() {\n  if (!globalDir) {\n    this.initGlobalDir();\n  }\n  !globalDir ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Global direction not set.') : invariant(false) : void 0;\n  return globalDir;\n}\n\nvar UnicodeBidiDirection = {\n  // Values\n  NEUTRAL: NEUTRAL,\n  LTR: LTR,\n  RTL: RTL,\n  // Helpers\n  isStrong: isStrong,\n  getHTMLDir: getHTMLDir,\n  getHTMLDirIfDifferent: getHTMLDirIfDifferent,\n  // Global Direction\n  setGlobalDir: setGlobalDir,\n  initGlobalDir: initGlobalDir,\n  getGlobalDir: getGlobalDir\n};\n\nmodule.exports = UnicodeBidiDirection;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Stateful API for text direction detection\n *\n * This class can be used in applications where you need to detect the\n * direction of a sequence of text blocks, where each direction shall be used\n * as the fallback direction for the next one.\n *\n * NOTE: A default direction, if not provided, is set based on the global\n *       direction, as defined by `UnicodeBidiDirection`.\n *\n * == Example ==\n * ```\n * var UnicodeBidiService = require('UnicodeBidiService');\n *\n * var bidiService = new UnicodeBidiService();\n *\n * ...\n *\n * bidiService.reset();\n * for (var para in paragraphs) {\n *   var dir = bidiService.getDirection(para);\n *   ...\n * }\n * ```\n *\n * Part of our implementation of Unicode Bidirectional Algorithm (UBA)\n * Unicode Standard Annex #9 (UAX9)\n * http://www.unicode.org/reports/tr9/\n */\n\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UnicodeBidi = require('./UnicodeBidi');\nvar UnicodeBidiDirection = require('./UnicodeBidiDirection');\n\nvar invariant = require('./invariant');\n\nvar UnicodeBidiService = function () {\n\n  /**\n   * Stateful class for paragraph direction detection\n   *\n   * @param defaultDir  Default direction of the service\n   */\n  function UnicodeBidiService(defaultDir) {\n    _classCallCheck(this, UnicodeBidiService);\n\n    if (!defaultDir) {\n      defaultDir = UnicodeBidiDirection.getGlobalDir();\n    } else {\n      !UnicodeBidiDirection.isStrong(defaultDir) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Default direction must be a strong direction (LTR or RTL)') : invariant(false) : void 0;\n    }\n    this._defaultDir = defaultDir;\n    this.reset();\n  }\n\n  /**\n   * Reset the internal state\n   *\n   * Instead of creating a new instance, you can just reset() your instance\n   * everytime you start a new loop.\n   */\n\n\n  UnicodeBidiService.prototype.reset = function reset() {\n    this._lastDir = this._defaultDir;\n  };\n\n  /**\n   * Returns the direction of a block of text, and remembers it as the\n   * fall-back direction for the next paragraph.\n   *\n   * @param str  A text block, e.g. paragraph, table cell, tag\n   * @return     The resolved direction\n   */\n\n\n  UnicodeBidiService.prototype.getDirection = function getDirection(str) {\n    this._lastDir = UnicodeBidi.getDirection(str, this._lastDir);\n    return this._lastDir;\n  };\n\n  return UnicodeBidiService;\n}();\n\nmodule.exports = UnicodeBidiService;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * Unicode-enabled replacesments for basic String functions.\n *\n * All the functions in this module assume that the input string is a valid\n * UTF-16 encoding of a Unicode sequence. If it's not the case, the behavior\n * will be undefined.\n *\n * WARNING: Since this module is typechecks-enforced, you may find new bugs\n * when replacing normal String functions with ones provided here.\n */\n\n'use strict';\n\nvar invariant = require('./invariant');\n\n// These two ranges are consecutive so anything in [HIGH_START, LOW_END] is a\n// surrogate code unit.\nvar SURROGATE_HIGH_START = 0xD800;\nvar SURROGATE_HIGH_END = 0xDBFF;\nvar SURROGATE_LOW_START = 0xDC00;\nvar SURROGATE_LOW_END = 0xDFFF;\nvar SURROGATE_UNITS_REGEX = /[\\uD800-\\uDFFF]/;\n\n/**\n * @param {number} codeUnit   A Unicode code-unit, in range [0, 0x10FFFF]\n * @return {boolean}          Whether code-unit is in a surrogate (hi/low) range\n */\nfunction isCodeUnitInSurrogateRange(codeUnit) {\n  return SURROGATE_HIGH_START <= codeUnit && codeUnit <= SURROGATE_LOW_END;\n}\n\n/**\n * Returns whether the two characters starting at `index` form a surrogate pair.\n * For example, given the string s = \"\\uD83D\\uDE0A\", (s, 0) returns true and\n * (s, 1) returns false.\n *\n * @param {string} str\n * @param {number} index\n * @return {boolean}\n */\nfunction isSurrogatePair(str, index) {\n  !(0 <= index && index < str.length) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'isSurrogatePair: Invalid index %s for string length %s.', index, str.length) : invariant(false) : void 0;\n  if (index + 1 === str.length) {\n    return false;\n  }\n  var first = str.charCodeAt(index);\n  var second = str.charCodeAt(index + 1);\n  return SURROGATE_HIGH_START <= first && first <= SURROGATE_HIGH_END && SURROGATE_LOW_START <= second && second <= SURROGATE_LOW_END;\n}\n\n/**\n * @param {string} str  Non-empty string\n * @return {boolean}    True if the input includes any surrogate code units\n */\nfunction hasSurrogateUnit(str) {\n  return SURROGATE_UNITS_REGEX.test(str);\n}\n\n/**\n * Return the length of the original Unicode character at given position in the\n * String by looking into the UTF-16 code unit; that is equal to 1 for any\n * non-surrogate characters in BMP ([U+0000..U+D7FF] and [U+E000, U+FFFF]); and\n * returns 2 for the hi/low surrogates ([U+D800..U+DFFF]), which are in fact\n * representing non-BMP characters ([U+10000..U+10FFFF]).\n *\n * Examples:\n * - '\\u0020' => 1\n * - '\\u3020' => 1\n * - '\\uD835' => 2\n * - '\\uD835\\uDDEF' => 2\n * - '\\uDDEF' => 2\n *\n * @param {string} str  Non-empty string\n * @param {number} pos  Position in the string to look for one code unit\n * @return {number}      Number 1 or 2\n */\nfunction getUTF16Length(str, pos) {\n  return 1 + isCodeUnitInSurrogateRange(str.charCodeAt(pos));\n}\n\n/**\n * Fully Unicode-enabled replacement for String#length\n *\n * @param {string} str  Valid Unicode string\n * @return {number}     The number of Unicode characters in the string\n */\nfunction strlen(str) {\n  // Call the native functions if there's no surrogate char\n  if (!hasSurrogateUnit(str)) {\n    return str.length;\n  }\n\n  var len = 0;\n  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {\n    len++;\n  }\n  return len;\n}\n\n/**\n * Fully Unicode-enabled replacement for String#substr()\n *\n * @param {string} str      Valid Unicode string\n * @param {number} start    Location in Unicode sequence to begin extracting\n * @param {?number} length  The number of Unicode characters to extract\n *                          (default: to the end of the string)\n * @return {string}         Extracted sub-string\n */\nfunction substr(str, start, length) {\n  start = start || 0;\n  length = length === undefined ? Infinity : length || 0;\n\n  // Call the native functions if there's no surrogate char\n  if (!hasSurrogateUnit(str)) {\n    return str.substr(start, length);\n  }\n\n  // Obvious cases\n  var size = str.length;\n  if (size <= 0 || start > size || length <= 0) {\n    return '';\n  }\n\n  // Find the actual starting position\n  var posA = 0;\n  if (start > 0) {\n    for (; start > 0 && posA < size; start--) {\n      posA += getUTF16Length(str, posA);\n    }\n    if (posA >= size) {\n      return '';\n    }\n  } else if (start < 0) {\n    for (posA = size; start < 0 && 0 < posA; start++) {\n      posA -= getUTF16Length(str, posA - 1);\n    }\n    if (posA < 0) {\n      posA = 0;\n    }\n  }\n\n  // Find the actual ending position\n  var posB = size;\n  if (length < size) {\n    for (posB = posA; length > 0 && posB < size; length--) {\n      posB += getUTF16Length(str, posB);\n    }\n  }\n\n  return str.substring(posA, posB);\n}\n\n/**\n * Fully Unicode-enabled replacement for String#substring()\n *\n * @param {string} str    Valid Unicode string\n * @param {number} start  Location in Unicode sequence to begin extracting\n * @param {?number} end   Location in Unicode sequence to end extracting\n *                        (default: end of the string)\n * @return {string}       Extracted sub-string\n */\nfunction substring(str, start, end) {\n  start = start || 0;\n  end = end === undefined ? Infinity : end || 0;\n\n  if (start < 0) {\n    start = 0;\n  }\n  if (end < 0) {\n    end = 0;\n  }\n\n  var length = Math.abs(end - start);\n  start = start < end ? start : end;\n  return substr(str, start, length);\n}\n\n/**\n * Get a list of Unicode code-points from a String\n *\n * @param {string} str        Valid Unicode string\n * @return {array<number>}    A list of code-points in [0..0x10FFFF]\n */\nfunction getCodePoints(str) {\n  var codePoints = [];\n  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {\n    codePoints.push(str.codePointAt(pos));\n  }\n  return codePoints;\n}\n\nvar UnicodeUtils = {\n  getCodePoints: getCodePoints,\n  getUTF16Length: getUTF16Length,\n  hasSurrogateUnit: hasSurrogateUnit,\n  isCodeUnitInSurrogateRange: isCodeUnitInSurrogateRange,\n  isSurrogatePair: isSurrogatePair,\n  strlen: strlen,\n  substring: substring,\n  substr: substr\n};\n\nmodule.exports = UnicodeUtils;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar UserAgentData = require('./UserAgentData');\nvar VersionRange = require('./VersionRange');\n\nvar mapObject = require('./mapObject');\nvar memoizeStringOnly = require('./memoizeStringOnly');\n\n/**\n * Checks to see whether `name` and `version` satisfy `query`.\n *\n * @param {string} name Name of the browser, device, engine or platform\n * @param {?string} version Version of the browser, engine or platform\n * @param {string} query Query of form \"Name [range expression]\"\n * @param {?function} normalizer Optional pre-processor for range expression\n * @return {boolean}\n */\nfunction compare(name, version, query, normalizer) {\n  // check for exact match with no version\n  if (name === query) {\n    return true;\n  }\n\n  // check for non-matching names\n  if (!query.startsWith(name)) {\n    return false;\n  }\n\n  // full comparison with version\n  var range = query.slice(name.length);\n  if (version) {\n    range = normalizer ? normalizer(range) : range;\n    return VersionRange.contains(range, version);\n  }\n\n  return false;\n}\n\n/**\n * Normalizes `version` by stripping any \"NT\" prefix, but only on the Windows\n * platform.\n *\n * Mimics the stripping performed by the `UserAgentWindowsPlatform` PHP class.\n *\n * @param {string} version\n * @return {string}\n */\nfunction normalizePlatformVersion(version) {\n  if (UserAgentData.platformName === 'Windows') {\n    return version.replace(/^\\s*NT/, '');\n  }\n\n  return version;\n}\n\n/**\n * Provides client-side access to the authoritative PHP-generated User Agent\n * information supplied by the server.\n */\nvar UserAgent = {\n  /**\n   * Check if the User Agent browser matches `query`.\n   *\n   * `query` should be a string like \"Chrome\" or \"Chrome > 33\".\n   *\n   * Valid browser names include:\n   *\n   * - ACCESS NetFront\n   * - AOL\n   * - Amazon Silk\n   * - Android\n   * - BlackBerry\n   * - BlackBerry PlayBook\n   * - Chrome\n   * - Chrome for iOS\n   * - Chrome frame\n   * - Facebook PHP SDK\n   * - Facebook for iOS\n   * - Firefox\n   * - IE\n   * - IE Mobile\n   * - Mobile Safari\n   * - Motorola Internet Browser\n   * - Nokia\n   * - Openwave Mobile Browser\n   * - Opera\n   * - Opera Mini\n   * - Opera Mobile\n   * - Safari\n   * - UIWebView\n   * - Unknown\n   * - webOS\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `BrowserDetector` class and\n   * related classes in the same file (see calls to `new UserAgentBrowser` here:\n   * https://fburl.com/50728104).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isBrowser: function isBrowser(query) {\n    return compare(UserAgentData.browserName, UserAgentData.browserFullVersion, query);\n  },\n\n\n  /**\n   * Check if the User Agent browser uses a 32 or 64 bit architecture.\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"32\" or \"64\".\n   * @return {boolean}\n   */\n  isBrowserArchitecture: function isBrowserArchitecture(query) {\n    return compare(UserAgentData.browserArchitecture, null, query);\n  },\n\n\n  /**\n   * Check if the User Agent device matches `query`.\n   *\n   * `query` should be a string like \"iPhone\" or \"iPad\".\n   *\n   * Valid device names include:\n   *\n   * - Kindle\n   * - Kindle Fire\n   * - Unknown\n   * - iPad\n   * - iPhone\n   * - iPod\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `DeviceDetector` class and\n   * related classes in the same file (see calls to `new UserAgentDevice` here:\n   * https://fburl.com/50728332).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name\"\n   * @return {boolean}\n   */\n  isDevice: function isDevice(query) {\n    return compare(UserAgentData.deviceName, null, query);\n  },\n\n\n  /**\n   * Check if the User Agent rendering engine matches `query`.\n   *\n   * `query` should be a string like \"WebKit\" or \"WebKit >= 537\".\n   *\n   * Valid engine names include:\n   *\n   * - Gecko\n   * - Presto\n   * - Trident\n   * - WebKit\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `RenderingEngineDetector`\n   * class related classes in the same file (see calls to `new\n   * UserAgentRenderingEngine` here: https://fburl.com/50728617).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isEngine: function isEngine(query) {\n    return compare(UserAgentData.engineName, UserAgentData.engineVersion, query);\n  },\n\n\n  /**\n   * Check if the User Agent platform matches `query`.\n   *\n   * `query` should be a string like \"Windows\" or \"iOS 5 - 6\".\n   *\n   * Valid platform names include:\n   *\n   * - Android\n   * - BlackBerry OS\n   * - Java ME\n   * - Linux\n   * - Mac OS X\n   * - Mac OS X Calendar\n   * - Mac OS X Internet Account\n   * - Symbian\n   * - SymbianOS\n   * - Windows\n   * - Windows Mobile\n   * - Windows Phone\n   * - iOS\n   * - iOS Facebook Integration Account\n   * - iOS Facebook Social Sharing UI\n   * - webOS\n   * - Chrome OS\n   * - etc...\n   *\n   * An authoritative list can be found in the PHP `PlatformDetector` class and\n   * related classes in the same file (see calls to `new UserAgentPlatform`\n   * here: https://fburl.com/50729226).\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"Name [range expression]\"\n   * @return {boolean}\n   */\n  isPlatform: function isPlatform(query) {\n    return compare(UserAgentData.platformName, UserAgentData.platformFullVersion, query, normalizePlatformVersion);\n  },\n\n\n  /**\n   * Check if the User Agent platform is a 32 or 64 bit architecture.\n   *\n   * @note Function results are memoized\n   *\n   * @param {string} query Query of the form \"32\" or \"64\".\n   * @return {boolean}\n   */\n  isPlatformArchitecture: function isPlatformArchitecture(query) {\n    return compare(UserAgentData.platformArchitecture, null, query);\n  }\n};\n\nmodule.exports = mapObject(UserAgent, memoizeStringOnly);","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * Usage note:\n * This module makes a best effort to export the same data we would internally.\n * At Facebook we use a server-generated module that does the parsing and\n * exports the data for the client to use. We can't rely on a server-side\n * implementation in open source so instead we make use of an open source\n * library to do the heavy lifting and then make some adjustments as necessary.\n * It's likely there will be some differences. Some we can smooth over.\n * Others are going to be harder.\n */\n\n'use strict';\n\nvar UAParser = require('ua-parser-js');\n\nvar UNKNOWN = 'Unknown';\n\nvar PLATFORM_MAP = {\n  'Mac OS': 'Mac OS X'\n};\n\n/**\n * Convert from UAParser platform name to what we expect.\n */\nfunction convertPlatformName(name) {\n  return PLATFORM_MAP[name] || name;\n}\n\n/**\n * Get the version number in parts. This is very naive. We actually get major\n * version as a part of UAParser already, which is generally good enough, but\n * let's get the minor just in case.\n */\nfunction getBrowserVersion(version) {\n  if (!version) {\n    return {\n      major: '',\n      minor: ''\n    };\n  }\n  var parts = version.split('.');\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}\n\n/**\n * Get the UA data fom UAParser and then convert it to the format we're\n * expecting for our APIS.\n */\nvar parser = new UAParser();\nvar results = parser.getResult();\n\n// Do some conversion first.\nvar browserVersionData = getBrowserVersion(results.browser.version);\nvar uaData = {\n  browserArchitecture: results.cpu.architecture || UNKNOWN,\n  browserFullVersion: results.browser.version || UNKNOWN,\n  browserMinorVersion: browserVersionData.minor || UNKNOWN,\n  browserName: results.browser.name || UNKNOWN,\n  browserVersion: results.browser.major || UNKNOWN,\n  deviceName: results.device.model || UNKNOWN,\n  engineName: results.engine.name || UNKNOWN,\n  engineVersion: results.engine.version || UNKNOWN,\n  platformArchitecture: results.cpu.architecture || UNKNOWN,\n  platformName: convertPlatformName(results.os.name) || UNKNOWN,\n  platformVersion: results.os.version || UNKNOWN,\n  platformFullVersion: results.os.version || UNKNOWN\n};\n\nmodule.exports = uaData;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar invariant = require('./invariant');\n\nvar componentRegex = /\\./;\nvar orRegex = /\\|\\|/;\nvar rangeRegex = /\\s+\\-\\s+/;\nvar modifierRegex = /^(<=|<|=|>=|~>|~|>|)?\\s*(.+)/;\nvar numericRegex = /^(\\d*)(.*)/;\n\n/**\n * Splits input `range` on \"||\" and returns true if any subrange matches\n * `version`.\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\nfunction checkOrExpression(range, version) {\n  var expressions = range.split(orRegex);\n\n  if (expressions.length > 1) {\n    return expressions.some(function (range) {\n      return VersionRange.contains(range, version);\n    });\n  } else {\n    range = expressions[0].trim();\n    return checkRangeExpression(range, version);\n  }\n}\n\n/**\n * Splits input `range` on \" - \" (the surrounding whitespace is required) and\n * returns true if version falls between the two operands.\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\nfunction checkRangeExpression(range, version) {\n  var expressions = range.split(rangeRegex);\n\n  !(expressions.length > 0 && expressions.length <= 2) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'the \"-\" operator expects exactly 2 operands') : invariant(false) : void 0;\n\n  if (expressions.length === 1) {\n    return checkSimpleExpression(expressions[0], version);\n  } else {\n    var startVersion = expressions[0],\n        endVersion = expressions[1];\n\n    !(isSimpleVersion(startVersion) && isSimpleVersion(endVersion)) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'operands to the \"-\" operator must be simple (no modifiers)') : invariant(false) : void 0;\n\n    return checkSimpleExpression('>=' + startVersion, version) && checkSimpleExpression('<=' + endVersion, version);\n  }\n}\n\n/**\n * Checks if `range` matches `version`. `range` should be a \"simple\" range (ie.\n * not a compound range using the \" - \" or \"||\" operators).\n *\n * @param {string} range\n * @param {string} version\n * @returns {boolean}\n */\nfunction checkSimpleExpression(range, version) {\n  range = range.trim();\n  if (range === '') {\n    return true;\n  }\n\n  var versionComponents = version.split(componentRegex);\n\n  var _getModifierAndCompon = getModifierAndComponents(range),\n      modifier = _getModifierAndCompon.modifier,\n      rangeComponents = _getModifierAndCompon.rangeComponents;\n\n  switch (modifier) {\n    case '<':\n      return checkLessThan(versionComponents, rangeComponents);\n    case '<=':\n      return checkLessThanOrEqual(versionComponents, rangeComponents);\n    case '>=':\n      return checkGreaterThanOrEqual(versionComponents, rangeComponents);\n    case '>':\n      return checkGreaterThan(versionComponents, rangeComponents);\n    case '~':\n    case '~>':\n      return checkApproximateVersion(versionComponents, rangeComponents);\n    default:\n      return checkEqual(versionComponents, rangeComponents);\n  }\n}\n\n/**\n * Checks whether `a` is less than `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\nfunction checkLessThan(a, b) {\n  return compareComponents(a, b) === -1;\n}\n\n/**\n * Checks whether `a` is less than or equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\nfunction checkLessThanOrEqual(a, b) {\n  var result = compareComponents(a, b);\n  return result === -1 || result === 0;\n}\n\n/**\n * Checks whether `a` is equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\nfunction checkEqual(a, b) {\n  return compareComponents(a, b) === 0;\n}\n\n/**\n * Checks whether `a` is greater than or equal to `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\nfunction checkGreaterThanOrEqual(a, b) {\n  var result = compareComponents(a, b);\n  return result === 1 || result === 0;\n}\n\n/**\n * Checks whether `a` is greater than `b`.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\nfunction checkGreaterThan(a, b) {\n  return compareComponents(a, b) === 1;\n}\n\n/**\n * Checks whether `a` is \"reasonably close\" to `b` (as described in\n * https://www.npmjs.org/doc/misc/semver.html). For example, if `b` is \"1.3.1\"\n * then \"reasonably close\" is defined as \">= 1.3.1 and < 1.4\".\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {boolean}\n */\nfunction checkApproximateVersion(a, b) {\n  var lowerBound = b.slice();\n  var upperBound = b.slice();\n\n  if (upperBound.length > 1) {\n    upperBound.pop();\n  }\n  var lastIndex = upperBound.length - 1;\n  var numeric = parseInt(upperBound[lastIndex], 10);\n  if (isNumber(numeric)) {\n    upperBound[lastIndex] = numeric + 1 + '';\n  }\n\n  return checkGreaterThanOrEqual(a, lowerBound) && checkLessThan(a, upperBound);\n}\n\n/**\n * Extracts the optional modifier (<, <=, =, >=, >, ~, ~>) and version\n * components from `range`.\n *\n * For example, given `range` \">= 1.2.3\" returns an object with a `modifier` of\n * `\">=\"` and `components` of `[1, 2, 3]`.\n *\n * @param {string} range\n * @returns {object}\n */\nfunction getModifierAndComponents(range) {\n  var rangeComponents = range.split(componentRegex);\n  var matches = rangeComponents[0].match(modifierRegex);\n  !matches ? process.env.NODE_ENV !== 'production' ? invariant(false, 'expected regex to match but it did not') : invariant(false) : void 0;\n\n  return {\n    modifier: matches[1],\n    rangeComponents: [matches[2]].concat(rangeComponents.slice(1))\n  };\n}\n\n/**\n * Determines if `number` is a number.\n *\n * @param {mixed} number\n * @returns {boolean}\n */\nfunction isNumber(number) {\n  return !isNaN(number) && isFinite(number);\n}\n\n/**\n * Tests whether `range` is a \"simple\" version number without any modifiers\n * (\">\", \"~\" etc).\n *\n * @param {string} range\n * @returns {boolean}\n */\nfunction isSimpleVersion(range) {\n  return !getModifierAndComponents(range).modifier;\n}\n\n/**\n * Zero-pads array `array` until it is at least `length` long.\n *\n * @param {array} array\n * @param {number} length\n */\nfunction zeroPad(array, length) {\n  for (var i = array.length; i < length; i++) {\n    array[i] = '0';\n  }\n}\n\n/**\n * Normalizes `a` and `b` in preparation for comparison by doing the following:\n *\n * - zero-pads `a` and `b`\n * - marks any \"x\", \"X\" or \"*\" component in `b` as equivalent by zero-ing it out\n *   in both `a` and `b`\n * - marks any final \"*\" component in `b` as a greedy wildcard by zero-ing it\n *   and all of its successors in `a`\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {array<array<string>>}\n */\nfunction normalizeVersions(a, b) {\n  a = a.slice();\n  b = b.slice();\n\n  zeroPad(a, b.length);\n\n  // mark \"x\" and \"*\" components as equal\n  for (var i = 0; i < b.length; i++) {\n    var matches = b[i].match(/^[x*]$/i);\n    if (matches) {\n      b[i] = a[i] = '0';\n\n      // final \"*\" greedily zeros all remaining components\n      if (matches[0] === '*' && i === b.length - 1) {\n        for (var j = i; j < a.length; j++) {\n          a[j] = '0';\n        }\n      }\n    }\n  }\n\n  zeroPad(b, a.length);\n\n  return [a, b];\n}\n\n/**\n * Returns the numerical -- not the lexicographical -- ordering of `a` and `b`.\n *\n * For example, `10-alpha` is greater than `2-beta`.\n *\n * @param {string} a\n * @param {string} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\nfunction compareNumeric(a, b) {\n  var aPrefix = a.match(numericRegex)[1];\n  var bPrefix = b.match(numericRegex)[1];\n  var aNumeric = parseInt(aPrefix, 10);\n  var bNumeric = parseInt(bPrefix, 10);\n\n  if (isNumber(aNumeric) && isNumber(bNumeric) && aNumeric !== bNumeric) {\n    return compare(aNumeric, bNumeric);\n  } else {\n    return compare(a, b);\n  }\n}\n\n/**\n * Returns the ordering of `a` and `b`.\n *\n * @param {string|number} a\n * @param {string|number} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\nfunction compare(a, b) {\n  !(typeof a === typeof b) ? process.env.NODE_ENV !== 'production' ? invariant(false, '\"a\" and \"b\" must be of the same type') : invariant(false) : void 0;\n\n  if (a > b) {\n    return 1;\n  } else if (a < b) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\n/**\n * Compares arrays of version components.\n *\n * @param {array<string>} a\n * @param {array<string>} b\n * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,\n * or greater than `b`, respectively\n */\nfunction compareComponents(a, b) {\n  var _normalizeVersions = normalizeVersions(a, b),\n      aNormalized = _normalizeVersions[0],\n      bNormalized = _normalizeVersions[1];\n\n  for (var i = 0; i < bNormalized.length; i++) {\n    var result = compareNumeric(aNormalized[i], bNormalized[i]);\n    if (result) {\n      return result;\n    }\n  }\n\n  return 0;\n}\n\nvar VersionRange = {\n  /**\n   * Checks whether `version` satisfies the `range` specification.\n   *\n   * We support a subset of the expressions defined in\n   * https://www.npmjs.org/doc/misc/semver.html:\n   *\n   *    version   Must match version exactly\n   *    =version  Same as just version\n   *    >version  Must be greater than version\n   *    >=version Must be greater than or equal to version\n   *    <version  Must be less than version\n   *    <=version Must be less than or equal to version\n   *    ~version  Must be at least version, but less than the next significant\n   *              revision above version:\n   *              \"~1.2.3\" is equivalent to \">= 1.2.3 and < 1.3\"\n   *    ~>version Equivalent to ~version\n   *    1.2.x     Must match \"1.2.x\", where \"x\" is a wildcard that matches\n   *              anything\n   *    1.2.*     Similar to \"1.2.x\", but \"*\" in the trailing position is a\n   *              \"greedy\" wildcard, so will match any number of additional\n   *              components:\n   *              \"1.2.*\" will match \"1.2.1\", \"1.2.1.1\", \"1.2.1.1.1\" etc\n   *    *         Any version\n   *    \"\"        (Empty string) Same as *\n   *    v1 - v2   Equivalent to \">= v1 and <= v2\"\n   *    r1 || r2  Passes if either r1 or r2 are satisfied\n   *\n   * @param {string} range\n   * @param {string} version\n   * @returns {boolean}\n   */\n  contains: function contains(range, version) {\n    return checkOrExpression(range.trim(), version.trim());\n  }\n};\n\nmodule.exports = VersionRange;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar _hyphenPattern = /-(.)/g;\n\n/**\n * Camelcases a hyphenated string, for example:\n *\n *   > camelize('background-color')\n *   < \"backgroundColor\"\n *\n * @param {string} string\n * @return {string}\n */\nfunction camelize(string) {\n  return string.replace(_hyphenPattern, function (_, character) {\n    return character.toUpperCase();\n  });\n}\n\nmodule.exports = camelize;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nvar isTextNode = require('./isTextNode');\n\n/*eslint-disable no-bitwise */\n\n/**\n * Checks if a given DOM node contains or is another DOM node.\n */\nfunction containsNode(outerNode, innerNode) {\n  if (!outerNode || !innerNode) {\n    return false;\n  } else if (outerNode === innerNode) {\n    return true;\n  } else if (isTextNode(outerNode)) {\n    return false;\n  } else if (isTextNode(innerNode)) {\n    return containsNode(outerNode, innerNode.parentNode);\n  } else if ('contains' in outerNode) {\n    return outerNode.contains(innerNode);\n  } else if (outerNode.compareDocumentPosition) {\n    return !!(outerNode.compareDocumentPosition(innerNode) & 16);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = containsNode;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar invariant = require('./invariant');\n\n/**\n * Convert array-like objects to arrays.\n *\n * This API assumes the caller knows the contents of the data type. For less\n * well defined inputs use createArrayFromMixed.\n *\n * @param {object|function|filelist} obj\n * @return {array}\n */\nfunction toArray(obj) {\n  var length = obj.length;\n\n  // Some browsers builtin objects can report typeof 'function' (e.g. NodeList\n  // in old versions of Safari).\n  !(!Array.isArray(obj) && (typeof obj === 'object' || typeof obj === 'function')) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Array-like object expected') : invariant(false) : void 0;\n\n  !(typeof length === 'number') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Object needs a length property') : invariant(false) : void 0;\n\n  !(length === 0 || length - 1 in obj) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Object should have keys for indices') : invariant(false) : void 0;\n\n  !(typeof obj.callee !== 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'toArray: Object can\\'t be `arguments`. Use rest params ' + '(function(...args) {}) or Array.from() instead.') : invariant(false) : void 0;\n\n  // Old IE doesn't give collections access to hasOwnProperty. Assume inputs\n  // without method will throw during the slice call and skip straight to the\n  // fallback.\n  if (obj.hasOwnProperty) {\n    try {\n      return Array.prototype.slice.call(obj);\n    } catch (e) {\n      // IE < 9 does not support Array#slice on collections objects\n    }\n  }\n\n  // Fall back to copying key by key. This assumes all keys have a value,\n  // so will not preserve sparsely populated inputs.\n  var ret = Array(length);\n  for (var ii = 0; ii < length; ii++) {\n    ret[ii] = obj[ii];\n  }\n  return ret;\n}\n\n/**\n * Perform a heuristic test to determine if an object is \"array-like\".\n *\n *   A monk asked Joshu, a Zen master, \"Has a dog Buddha nature?\"\n *   Joshu replied: \"Mu.\"\n *\n * This function determines if its argument has \"array nature\": it returns\n * true if the argument is an actual array, an `arguments' object, or an\n * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).\n *\n * It will return false for other array-like objects like Filelist.\n *\n * @param {*} obj\n * @return {boolean}\n */\nfunction hasArrayNature(obj) {\n  return (\n    // not null/false\n    !!obj && (\n    // arrays are objects, NodeLists are functions in Safari\n    typeof obj == 'object' || typeof obj == 'function') &&\n    // quacks like an array\n    'length' in obj &&\n    // not window\n    !('setInterval' in obj) &&\n    // no DOM node should be considered an array-like\n    // a 'select' element has 'length' and 'item' properties on IE8\n    typeof obj.nodeType != 'number' && (\n    // a real array\n    Array.isArray(obj) ||\n    // arguments\n    'callee' in obj ||\n    // HTMLCollection/NodeList\n    'item' in obj)\n  );\n}\n\n/**\n * Ensure that the argument is an array by wrapping it in an array if it is not.\n * Creates a copy of the argument if it is already an array.\n *\n * This is mostly useful idiomatically:\n *\n *   var createArrayFromMixed = require('createArrayFromMixed');\n *\n *   function takesOneOrMoreThings(things) {\n *     things = createArrayFromMixed(things);\n *     ...\n *   }\n *\n * This allows you to treat `things' as an array, but accept scalars in the API.\n *\n * If you need to convert an array-like object, like `arguments`, into an array\n * use toArray instead.\n *\n * @param {*} obj\n * @return {array}\n */\nfunction createArrayFromMixed(obj) {\n  if (!hasArrayNature(obj)) {\n    return [obj];\n  } else if (Array.isArray(obj)) {\n    return obj.slice();\n  } else {\n    return toArray(obj);\n  }\n}\n\nmodule.exports = createArrayFromMixed;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n/**\n * This function is used to mark string literals representing CSS class names\n * so that they can be transformed statically. This allows for modularization\n * and minification of CSS class names.\n *\n * In static_upstream, this function is actually implemented, but it should\n * eventually be replaced with something more descriptive, and the transform\n * that is used in the main stack should be ported for use elsewhere.\n *\n * @param string|object className to modularize, or an object of key/values.\n *                      In the object case, the values are conditions that\n *                      determine if the className keys should be included.\n * @param [string ...]  Variable list of classNames in the string case.\n * @return string       Renderable space-separated CSS className.\n */\nfunction cx(classNames) {\n  if (typeof classNames == 'object') {\n    return Object.keys(classNames).filter(function (className) {\n      return classNames[className];\n    }).map(replace).join(' ');\n  }\n  return Array.prototype.map.call(arguments, replace).join(' ');\n}\n\nfunction replace(str) {\n  return str.replace(/\\//g, '-');\n}\n\nmodule.exports = cx;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/* eslint-disable fb-www/typeof-undefined */\n\n/**\n * Same as document.activeElement but wraps in a try-catch block. In IE it is\n * not safe to call document.activeElement if there is nothing focused.\n *\n * The activeElement will be null only if the document or document body is not\n * yet defined.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\nfunction getActiveElement(doc) /*?DOMElement*/{\n  doc = doc || (typeof document !== 'undefined' ? document : undefined);\n  if (typeof doc === 'undefined') {\n    return null;\n  }\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\n\nmodule.exports = getActiveElement;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n'use strict';\n\nvar isWebkit = typeof navigator !== 'undefined' && navigator.userAgent.indexOf('AppleWebKit') > -1;\n\n/**\n * Gets the element with the document scroll properties such as `scrollLeft` and\n * `scrollHeight`. This may differ across different browsers.\n *\n * NOTE: The return value can be null if the DOM is not yet ready.\n *\n * @param {?DOMDocument} doc Defaults to current document.\n * @return {?DOMElement}\n */\nfunction getDocumentScrollElement(doc) {\n  doc = doc || document;\n  if (doc.scrollingElement) {\n    return doc.scrollingElement;\n  }\n  return !isWebkit && doc.compatMode === 'CSS1Compat' ? doc.documentElement : doc.body;\n}\n\nmodule.exports = getDocumentScrollElement;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar getElementRect = require('./getElementRect');\n\n/**\n * Gets an element's position in pixels relative to the viewport. The returned\n * object represents the position of the element's top left corner.\n *\n * @param {DOMElement} element\n * @return {object}\n */\nfunction getElementPosition(element) {\n  var rect = getElementRect(element);\n  return {\n    x: rect.left,\n    y: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n}\n\nmodule.exports = getElementPosition;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar containsNode = require('./containsNode');\n\n/**\n * Gets an element's bounding rect in pixels relative to the viewport.\n *\n * @param {DOMElement} elem\n * @return {object}\n */\nfunction getElementRect(elem) {\n  var docElem = elem.ownerDocument.documentElement;\n\n  // FF 2, Safari 3 and Opera 9.5- do not support getBoundingClientRect().\n  // IE9- will throw if the element is not in the document.\n  if (!('getBoundingClientRect' in elem) || !containsNode(docElem, elem)) {\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n  }\n\n  // Subtracts clientTop/Left because IE8- added a 2px border to the\n  // <html> element (see http://fburl.com/1493213). IE 7 in\n  // Quicksmode does not report clientLeft/clientTop so there\n  // will be an unaccounted offset of 2px when in quirksmode\n  var rect = elem.getBoundingClientRect();\n\n  return {\n    left: Math.round(rect.left) - docElem.clientLeft,\n    right: Math.round(rect.right) - docElem.clientLeft,\n    top: Math.round(rect.top) - docElem.clientTop,\n    bottom: Math.round(rect.bottom) - docElem.clientTop\n  };\n}\n\nmodule.exports = getElementRect;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n'use strict';\n\nvar getDocumentScrollElement = require('./getDocumentScrollElement');\nvar getUnboundedScrollPosition = require('./getUnboundedScrollPosition');\n\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are bounded. This means that if the scroll position is\n * negative or exceeds the element boundaries (which is possible using inertial\n * scrolling), you will get zero or the maximum scroll position, respectively.\n *\n * If you need the unbound scroll position, use `getUnboundedScrollPosition`.\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\nfunction getScrollPosition(scrollable) {\n  var documentScrollElement = getDocumentScrollElement(scrollable.ownerDocument || scrollable.document);\n  if (scrollable.Window && scrollable instanceof scrollable.Window) {\n    scrollable = documentScrollElement;\n  }\n  var scrollPosition = getUnboundedScrollPosition(scrollable);\n\n  var viewport = scrollable === documentScrollElement ? scrollable.ownerDocument.documentElement : scrollable;\n\n  var xMax = scrollable.scrollWidth - viewport.clientWidth;\n  var yMax = scrollable.scrollHeight - viewport.clientHeight;\n\n  scrollPosition.x = Math.max(0, Math.min(scrollPosition.x, xMax));\n  scrollPosition.y = Math.max(0, Math.min(scrollPosition.y, yMax));\n\n  return scrollPosition;\n}\n\nmodule.exports = getScrollPosition;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar camelize = require('./camelize');\nvar hyphenate = require('./hyphenate');\n\nfunction asString(value) /*?string*/{\n  return value == null ? value : String(value);\n}\n\nfunction getStyleProperty( /*DOMNode*/node, /*string*/name) /*?string*/{\n  var computedStyle = void 0;\n\n  // W3C Standard\n  if (window.getComputedStyle) {\n    // In certain cases such as within an iframe in FF3, this returns null.\n    computedStyle = window.getComputedStyle(node, null);\n    if (computedStyle) {\n      return asString(computedStyle.getPropertyValue(hyphenate(name)));\n    }\n  }\n  // Safari\n  if (document.defaultView && document.defaultView.getComputedStyle) {\n    computedStyle = document.defaultView.getComputedStyle(node, null);\n    // A Safari bug causes this to return null for `display: none` elements.\n    if (computedStyle) {\n      return asString(computedStyle.getPropertyValue(hyphenate(name)));\n    }\n    if (name === 'display') {\n      return 'none';\n    }\n  }\n  // Internet Explorer\n  if (node.currentStyle) {\n    if (name === 'float') {\n      return asString(node.currentStyle.cssFloat || node.currentStyle.styleFloat);\n    }\n    return asString(node.currentStyle[camelize(name)]);\n  }\n  return asString(node.style && node.style[camelize(name)]);\n}\n\nmodule.exports = getStyleProperty;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n'use strict';\n\n/**\n * Gets the scroll position of the supplied element or window.\n *\n * The return values are unbounded, unlike `getScrollPosition`. This means they\n * may be negative or exceed the element boundaries (which is possible using\n * inertial scrolling).\n *\n * @param {DOMWindow|DOMElement} scrollable\n * @return {object} Map with `x` and `y` keys.\n */\n\nfunction getUnboundedScrollPosition(scrollable) {\n  if (scrollable.Window && scrollable instanceof scrollable.Window) {\n    return {\n      x: scrollable.pageXOffset || scrollable.document.documentElement.scrollLeft,\n      y: scrollable.pageYOffset || scrollable.document.documentElement.scrollTop\n    };\n  }\n  return {\n    x: scrollable.scrollLeft,\n    y: scrollable.scrollTop\n  };\n}\n\nmodule.exports = getUnboundedScrollPosition;","\"use strict\";\n\nfunction getViewportWidth() {\n  var width = void 0;\n  if (document.documentElement) {\n    width = document.documentElement.clientWidth;\n  }\n\n  if (!width && document.body) {\n    width = document.body.clientWidth;\n  }\n\n  return width || 0;\n} /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @typechecks\n   */\n\nfunction getViewportHeight() {\n  var height = void 0;\n  if (document.documentElement) {\n    height = document.documentElement.clientHeight;\n  }\n\n  if (!height && document.body) {\n    height = document.body.clientHeight;\n  }\n\n  return height || 0;\n}\n\n/**\n * Gets the viewport dimensions including any scrollbars.\n */\nfunction getViewportDimensions() {\n  return {\n    width: window.innerWidth || getViewportWidth(),\n    height: window.innerHeight || getViewportHeight()\n  };\n}\n\n/**\n * Gets the viewport dimensions excluding any scrollbars.\n */\ngetViewportDimensions.withoutScrollbars = function () {\n  return {\n    width: getViewportWidth(),\n    height: getViewportHeight()\n  };\n};\n\nmodule.exports = getViewportDimensions;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar _uppercasePattern = /([A-Z])/g;\n\n/**\n * Hyphenates a camelcased string, for example:\n *\n *   > hyphenate('backgroundColor')\n *   < \"background-color\"\n *\n * For CSS style names, use `hyphenateStyleName` instead which works properly\n * with all vendor prefixes, including `ms`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenate(string) {\n  return string.replace(_uppercasePattern, '-$1').toLowerCase();\n}\n\nmodule.exports = hyphenate;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM node.\n */\nfunction isNode(object) {\n  var doc = object ? object.ownerDocument || object : document;\n  var defaultView = doc.defaultView || window;\n  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));\n}\n\nmodule.exports = isNode;","'use strict';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n */\n\nvar isNode = require('./isNode');\n\n/**\n * @param {*} object The object to check.\n * @return {boolean} Whether or not the object is a DOM text node.\n */\nfunction isTextNode(object) {\n  return isNode(object) && object.nodeType == 3;\n}\n\nmodule.exports = isTextNode;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks static-only\n */\n\n'use strict';\n\n/**\n * Combines multiple className strings into one.\n * http://jsperf.com/joinclasses-args-vs-array\n *\n * @param {...?string} className\n * @return {string}\n */\n\nfunction joinClasses(className /*, ... */) {\n  if (!className) {\n    className = '';\n  }\n  var nextClass = void 0;\n  var argLength = arguments.length;\n  if (argLength > 1) {\n    for (var ii = 1; ii < argLength; ii++) {\n      nextClass = arguments[ii];\n      if (nextClass) {\n        className = (className ? className + ' ' : '') + nextClass;\n      }\n    }\n  }\n  return className;\n}\n\nmodule.exports = joinClasses;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Executes the provided `callback` once for each enumerable own property in the\n * object and constructs a new object from the results. The `callback` is\n * invoked with three arguments:\n *\n *  - the property value\n *  - the property name\n *  - the object being traversed\n *\n * Properties that are added after the call to `mapObject` will not be visited\n * by `callback`. If the values of existing properties are changed, the value\n * passed to `callback` will be the value at the time `mapObject` visits them.\n * Properties that are deleted before being visited are not visited.\n *\n * @grep function objectMap()\n * @grep function objMap()\n *\n * @param {?object} object\n * @param {function} callback\n * @param {*} context\n * @return {?object}\n */\nfunction mapObject(object, callback, context) {\n  if (!object) {\n    return null;\n  }\n  var result = {};\n  for (var name in object) {\n    if (hasOwnProperty.call(object, name)) {\n      result[name] = callback.call(context, object[name], name, object);\n    }\n  }\n  return result;\n}\n\nmodule.exports = mapObject;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @typechecks static-only\n */\n\n'use strict';\n\n/**\n * Memoizes the return value of a function that accepts one string argument.\n */\n\nfunction memoizeStringOnly(callback) {\n  var cache = {};\n  return function (string) {\n    if (!cache.hasOwnProperty(string)) {\n      cache[string] = callback.call(this, string);\n    }\n    return cache[string];\n  };\n}\n\nmodule.exports = memoizeStringOnly;","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nvar nullthrows = function nullthrows(x) {\n  if (x != null) {\n    return x;\n  }\n  throw new Error(\"Got unexpected null or undefined\");\n};\n\nmodule.exports = nullthrows;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n// setimmediate adds setImmediate to the global. We want to make sure we export\n// the actual function.\n\nrequire('setimmediate');\nmodule.exports = global.setImmediate;","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.Immutable = factory();\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step > 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    findEntry: function(predicate, context) {\n      var found;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findLastEntry: function(predicate, context) {\n      return this.toSeq().reverse().findEntry(predicate, context);\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  // Temporary warning about using length\n  (function () {\n    try {\n      Object.defineProperty(IterablePrototype, 'length', {\n        get: function () {\n          if (!Iterable.noLengthWarning) {\n            var stack;\n            try {\n              throw new Error();\n            } catch (error) {\n              stack = error.stack;\n            }\n            if (stack.indexOf('_wrapObject') === -1) {\n              console && console.warn && console.warn(\n                'iterable.length has been deprecated, '+\n                'use iterable.size or iterable.count(). '+\n                'This warning will become a silent error in a future version. ' +\n                stack\n              );\n              return this.size;\n            }\n          }\n        }\n      });\n    } catch (e) {}\n  })();\n\n\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toSeq().reverse().findKey(predicate, context);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.findLastKey(function(value ) {return is(value, searchValue)});\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.toKeyedSeq().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.toKeyedSeq().reverse().keyOf(searchValue);\n      return key === undefined ? -1 : key;\n\n      // var index =\n      // return this.toSeq().reverse().indexOf(searchValue);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var key = this.toKeyedSeq().findLastKey(predicate, context);\n      return key === undefined ? -1 : key;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : value;\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDraggable\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"ReactDraggable\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_11__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 15089f105fec648c1f75","module.exports = require('./lib/Draggable').default;\nmodule.exports.DraggableCore = require('./lib/DraggableCore').default;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n// $FlowIgnore\nimport classNames from 'classnames';\nimport {createCSSTransform, createSVGTransform} from './utils/domFns';\nimport {canDragX, canDragY, createDraggableData, getBoundPosition} from './utils/positionFns';\nimport {dontSetMe} from './utils/shims';\nimport DraggableCore from './DraggableCore';\nimport log from './utils/log';\nimport type {DraggableEventHandler} from './utils/types';\n\ntype DraggableState = {\n  dragging: boolean,\n  dragged: boolean,\n  x: number, y: number,\n  slackX: number, slackY: number,\n  isElementSVG: boolean\n};\n\ntype ConstructorProps = {\n  position: { x: number, y: number },\n  defaultPosition: { x: number, y: number }\n};\n\n//\n// Define <Draggable>\n//\n\nexport default class Draggable extends React.Component {\n\n  static displayName = 'Draggable';\n\n  static propTypes = {\n    // Accepts all props <DraggableCore> accepts.\n    ...DraggableCore.propTypes,\n\n    /**\n     * `axis` determines which axis the draggable can move.\n     *\n     *  Note that all callbacks will still return data as normal. This only\n     *  controls flushing to the DOM.\n     *\n     * 'both' allows movement horizontally and vertically.\n     * 'x' limits movement to horizontal axis.\n     * 'y' limits movement to vertical axis.\n     * 'none' limits all movement.\n     *\n     * Defaults to 'both'.\n     */\n    axis: PropTypes.oneOf(['both', 'x', 'y', 'none']),\n\n    /**\n     * `bounds` determines the range of movement available to the element.\n     * Available values are:\n     *\n     * 'parent' restricts movement within the Draggable's parent node.\n     *\n     * Alternatively, pass an object with the following properties, all of which are optional:\n     *\n     * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n     *\n     * All values are in px.\n     *\n     * Example:\n     *\n     * ```jsx\n     *   let App = React.createClass({\n     *       render: function () {\n     *         return (\n     *            <Draggable bounds={{right: 300, bottom: 300}}>\n     *              <div>Content</div>\n     *           </Draggable>\n     *         );\n     *       }\n     *   });\n     * ```\n     */\n    bounds: PropTypes.oneOfType([\n      PropTypes.shape({\n        left: PropTypes.number,\n        right: PropTypes.number,\n        top: PropTypes.number,\n        bottom: PropTypes.number\n      }),\n      PropTypes.string,\n      PropTypes.oneOf([false])\n    ]),\n\n    defaultClassName: PropTypes.string,\n    defaultClassNameDragging: PropTypes.string,\n    defaultClassNameDragged: PropTypes.string,\n\n    /**\n     * `defaultPosition` specifies the x and y that the dragged item should start at\n     *\n     * Example:\n     *\n     * ```jsx\n     *      let App = React.createClass({\n     *          render: function () {\n     *              return (\n     *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n     *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n     *                  </Draggable>\n     *              );\n     *          }\n     *      });\n     * ```\n     */\n    defaultPosition: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number\n    }),\n\n    /**\n     * `position`, if present, defines the current position of the element.\n     *\n     *  This is similar to how form elements in React work - if no `position` is supplied, the component\n     *  is uncontrolled.\n     *\n     * Example:\n     *\n     * ```jsx\n     *      let App = React.createClass({\n     *          render: function () {\n     *              return (\n     *                  <Draggable position={{x: 25, y: 25}}>\n     *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n     *                  </Draggable>\n     *              );\n     *          }\n     *      });\n     * ```\n     */\n    position: PropTypes.shape({\n      x: PropTypes.number,\n      y: PropTypes.number\n    }),\n\n    /**\n     * These properties should be defined on the child, not here.\n     */\n    className: dontSetMe,\n    style: dontSetMe,\n    transform: dontSetMe\n  };\n\n  static defaultProps = {\n    ...DraggableCore.defaultProps,\n    axis: 'both',\n    bounds: false,\n    defaultClassName: 'react-draggable',\n    defaultClassNameDragging: 'react-draggable-dragging',\n    defaultClassNameDragged: 'react-draggable-dragged',\n    defaultPosition: {x: 0, y: 0},\n    position: null\n  };\n\n  state: DraggableState;\n\n  constructor(props: ConstructorProps) {\n    super(props);\n\n    this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n\n      // Whether or not we have been dragged before.\n      dragged: false,\n\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n\n      // Used for compensating for out-of-bounds drags\n      slackX: 0, slackY: 0,\n\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.position && !(this.props.onDrag || this.props.onStop)) {\n      // eslint-disable-next-line\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' +\n        'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' +\n        '`position` of this element.');\n    }\n  }\n\n  componentDidMount() {\n    // Check to see if the element passed is an instanceof SVGElement\n    if(typeof SVGElement !== 'undefined' && ReactDOM.findDOMNode(this) instanceof SVGElement) {\n      this.setState({ isElementSVG: true });\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Object) {\n    // Set x/y if position has changed\n    if (nextProps.position &&\n        (!this.props.position ||\n          nextProps.position.x !== this.props.position.x ||\n          nextProps.position.y !== this.props.position.y\n        )\n      ) {\n      this.setState({ x: nextProps.position.x, y: nextProps.position.y });\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({dragging: false}); // prevents invariant if unmounted while dragging\n  }\n\n  onDragStart: DraggableEventHandler = (e, coreData) => {\n    log('Draggable: onDragStart: %j', coreData);\n\n    // Short-circuit if user's callback killed it.\n    const shouldStart = this.props.onStart(e, createDraggableData(this, coreData));\n    // Kills start event on core as well, so move handlers are never bound.\n    if (shouldStart === false) return false;\n\n    this.setState({dragging: true, dragged: true});\n  };\n\n  onDrag: DraggableEventHandler = (e, coreData) => {\n    if (!this.state.dragging) return false;\n    log('Draggable: onDrag: %j', coreData);\n\n    const uiData = createDraggableData(this, coreData);\n\n    const newState: $Shape<DraggableState> = {\n      x: uiData.x,\n      y: uiData.y\n    };\n\n    // Keep within bounds.\n    if (this.props.bounds) {\n      // Save original x and y.\n      const {x, y} = newState;\n\n      // Add slack to the values used to calculate bound position. This will ensure that if\n      // we start removing slack, the element won't react to it right away until it's been\n      // completely removed.\n      newState.x += this.state.slackX;\n      newState.y += this.state.slackY;\n\n      // Get bound position. This will ceil/floor the x and y within the boundaries.\n      // $FlowBug\n      [newState.x, newState.y] = getBoundPosition(this, newState.x, newState.y);\n\n      // Recalculate slack by noting how much was shaved by the boundPosition handler.\n      newState.slackX = this.state.slackX + (x - newState.x);\n      newState.slackY = this.state.slackY + (y - newState.y);\n\n      // Update the event we fire to reflect what really happened after bounds took effect.\n      uiData.x = x;\n      uiData.y = y;\n      uiData.deltaX = newState.x - this.state.x;\n      uiData.deltaY = newState.y - this.state.y;\n    }\n\n    // Short-circuit if user's callback killed it.\n    const shouldUpdate = this.props.onDrag(e, uiData);\n    if (shouldUpdate === false) return false;\n\n    this.setState(newState);\n  };\n\n  onDragStop: DraggableEventHandler = (e, coreData) => {\n    if (!this.state.dragging) return false;\n\n    // Short-circuit if user's callback killed it.\n    const shouldStop = this.props.onStop(e, createDraggableData(this, coreData));\n    if (shouldStop === false) return false;\n\n    log('Draggable: onDragStop: %j', coreData);\n\n    const newState: $Shape<DraggableState> = {\n      dragging: false,\n      slackX: 0,\n      slackY: 0\n    };\n\n    // If this is a controlled component, the result of this operation will be to\n    // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n    const controlled = Boolean(this.props.position);\n    if (controlled) {\n      const {x, y} = this.props.position;\n      newState.x = x;\n      newState.y = y;\n    }\n\n    this.setState(newState);\n  };\n\n  render(): React.Element<any> {\n    let style = {}, svgTransform = null;\n\n    // If this is controlled, we don't want to move it - unless it's dragging.\n    const controlled = Boolean(this.props.position);\n    const draggable = !controlled || this.state.dragging;\n\n    const position = this.props.position || this.props.defaultPosition;\n    const transformOpts = {\n      // Set left if horizontal drag is enabled\n      x: canDragX(this) && draggable ?\n        this.state.x :\n        position.x,\n\n      // Set top if vertical drag is enabled\n      y: canDragY(this) && draggable ?\n        this.state.y :\n        position.y\n    };\n\n    // If this element was SVG, we use the `transform` attribute.\n    if (this.state.isElementSVG) {\n      svgTransform = createSVGTransform(transformOpts);\n    } else {\n      // Add a CSS transform to move the element around. This allows us to move the element around\n      // without worrying about whether or not it is relatively or absolutely positioned.\n      // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n      // has a clean slate.\n      style = createCSSTransform(transformOpts);\n    }\n\n    const {\n      defaultClassName,\n      defaultClassNameDragging,\n      defaultClassNameDragged\n    } = this.props;\n\n    // Mark with class while dragging\n    const className = classNames((this.props.children.props.className || ''), defaultClassName, {\n      [defaultClassNameDragging]: this.state.dragging,\n      [defaultClassNameDragged]: this.state.dragged\n    });\n\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return (\n      <DraggableCore {...this.props} onStart={this.onDragStart} onDrag={this.onDrag} onStop={this.onDragStop}>\n        {React.cloneElement(React.Children.only(this.props.children), {\n          className: className,\n          style: {...this.props.children.props.style, ...style},\n          transform: svgTransform\n        })}\n      </DraggableCore>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Draggable.es6","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 2\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/index.js\n// module id = 3\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/factoryWithTypeCheckers.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/emptyFunction.js\n// module id = 5\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/invariant.js\n// module id = 6\n// module chunks = 0","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/warning.js\n// module id = 7\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/lib/ReactPropTypesSecret.js\n// module id = 8\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== 'production') {\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', componentName || 'React class', location, typeSpecName);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/checkPropTypes.js\n// module id = 9\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\n\nmodule.exports = function() {\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  function shim() {\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/factoryWithThrowingShims.js\n// module id = 10\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 11\n// module chunks = 0","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/classnames/index.js\n// module id = 12\n// module chunks = 0","// @flow\nimport {findInArray, isFunction, int} from './shims';\nimport browserPrefix, {getPrefix, browserPrefixToStyle, browserPrefixToKey} from './getPrefix';\n\nimport type {ControlPosition} from './types';\n\nlet matchesSelectorFunc = '';\nexport function matchesSelector(el: Node, selector: string): boolean {\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = findInArray([\n      'matches',\n      'webkitMatchesSelector',\n      'mozMatchesSelector',\n      'msMatchesSelector',\n      'oMatchesSelector'\n    ], function(method){\n      // $FlowIgnore: Doesn't think elements are indexable\n      return isFunction(el[method]);\n    });\n  }\n\n  // $FlowIgnore: Doesn't think elements are indexable\n  return el[matchesSelectorFunc].call(el, selector);\n}\n\n// Works up the tree to the draggable itself attempting to match selector.\nexport function matchesSelectorAndParentsTo(el: Node, selector: string, baseNode: Node): boolean {\n  let node = el;\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nexport function addEvent(el: ?Node, event: string, handler: Function): void {\n  if (!el) { return; }\n  if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else if (el.addEventListener) {\n    el.addEventListener(event, handler, true);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nexport function removeEvent(el: ?Node, event: string, handler: Function): void {\n  if (!el) { return; }\n  if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else if (el.removeEventListener) {\n    el.removeEventListener(event, handler, true);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nexport function outerHeight(node: HTMLElement): number {\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += int(computedStyle.borderTopWidth);\n  height += int(computedStyle.borderBottomWidth);\n  return height;\n}\n\nexport function outerWidth(node: HTMLElement): number {\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += int(computedStyle.borderLeftWidth);\n  width += int(computedStyle.borderRightWidth);\n  return width;\n}\nexport function innerHeight(node: HTMLElement): number {\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= int(computedStyle.paddingTop);\n  height -= int(computedStyle.paddingBottom);\n  return height;\n}\n\nexport function innerWidth(node: HTMLElement): number {\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= int(computedStyle.paddingLeft);\n  width -= int(computedStyle.paddingRight);\n  return width;\n}\n\n// Get from offsetParent\nexport function offsetXYFromParent(evt: {clientX: number, clientY: number}, offsetParent: HTMLElement): ControlPosition {\n  const isBody = offsetParent === offsetParent.ownerDocument.body;\n  const offsetParentRect = isBody ? {left: 0, top: 0} : offsetParent.getBoundingClientRect();\n\n  const x = evt.clientX + offsetParent.scrollLeft - offsetParentRect.left;\n  const y = evt.clientY + offsetParent.scrollTop - offsetParentRect.top;\n\n  return {x, y};\n}\n\nexport function createCSSTransform({x, y}: {x: number, y: number}): Object {\n  // Replace unitless items with px\n  return {[browserPrefixToKey('transform', browserPrefix)]: 'translate(' + x + 'px,' + y + 'px)'};\n}\n\nexport function createSVGTransform({x, y}: {x: number, y: number}): string {\n  return 'translate(' + x + ',' + y + ')';\n}\n\nexport function getTouch(e: MouseTouchEvent, identifier: number): ?{clientX: number, clientY: number} {\n  return (e.targetTouches && findInArray(e.targetTouches, t => identifier === t.identifier)) ||\n         (e.changedTouches && findInArray(e.changedTouches, t => identifier === t.identifier));\n}\n\nexport function getTouchIdentifier(e: MouseTouchEvent): ?number {\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n}\n\n// User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\nconst userSelectPrefix = getPrefix('user-select');\nconst userSelect = browserPrefixToStyle('user-select', userSelectPrefix);\nconst userSelectStyle = `;${userSelect}: none;`;\nconst userSelectReplaceRegExp = new RegExp(`;?${userSelect}: none;`); // leading ; not present on IE\n\n// Note we're passing `document` b/c we could be iframed\nexport function addUserSelectStyles(body: HTMLElement) {\n  const style = body.getAttribute('style') || '';\n  if (userSelectReplaceRegExp.test(style)) return; // don't add twice\n  body.setAttribute('style', style + userSelectStyle);\n}\n\nexport function removeUserSelectStyles(body: HTMLElement) {\n  const style = body.getAttribute('style') || '';\n  body.setAttribute('style', style.replace(userSelectReplaceRegExp, ''));\n}\n\nexport function styleHacks(childStyle: Object = {}): Object {\n  // Workaround IE pointer events; see #51\n  // https://github.com/mzabriskie/react-draggable/issues/51#issuecomment-103488278\n  return {\n    touchAction: 'none',\n    ...childStyle\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/domFns.es6","// @flow\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nexport function findInArray(array: Array<any> | TouchList, callback: Function): any {\n  for (let i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nexport function isFunction(func: any): boolean {\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nexport function isNum(num: any): boolean {\n  return typeof num === 'number' && !isNaN(num);\n}\n\nexport function int(a: string): number {\n  return parseInt(a, 10);\n}\n\nexport function dontSetMe(props: Object, propName: string, componentName: string) {\n  if (props[propName]) {\n    return new Error(`Invalid prop ${propName} passed to ${componentName} - do not set this, set it on the child.`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/shims.es6","// @flow\nconst prefixes = ['Moz', 'Webkit', 'O', 'ms'];\nexport function getPrefix(prop: string='transform'): string {\n  // Checking specifically for 'window.document' is for pseudo-browser server-side\n  // environments that define 'window' as the global context.\n  // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)\n  if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';\n\n  const style = window.document.documentElement.style;\n\n  if (prop in style) return '';\n\n  for (let i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nexport function browserPrefixToKey(prop: string, prefix: string): string {\n  return prefix ? `${prefix}${kebabToTitleCase(prop)}` : prop;\n}\n\nexport function browserPrefixToStyle(prop: string, prefix: string): string {\n  return prefix ? `-${prefix.toLowerCase()}-${prop}` : prop;\n}\n\nfunction kebabToTitleCase(str: string): string {\n  let out = '';\n  let shouldCapitalize = true;\n  for (let i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n  return out;\n}\n\n// Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\nexport default getPrefix();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/getPrefix.es6","// @flow\nimport {isNum, int} from './shims';\nimport ReactDOM from 'react-dom';\nimport {getTouch, innerWidth, innerHeight, offsetXYFromParent, outerWidth, outerHeight} from './domFns';\n\nimport type Draggable from '../Draggable';\nimport type {Bounds, ControlPosition, DraggableData} from './types';\nimport type DraggableCore from '../DraggableCore';\n\nexport function getBoundPosition(draggable: Draggable, x: number, y: number): [number, number] {\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y];\n\n  // Clone new bounds\n  let {bounds} = draggable.props;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  const node = ReactDOM.findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    const {ownerDocument} = node;\n    const ownerWindow = ownerDocument.defaultView;\n    let boundNode;\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n      if (!boundNode) throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n    const nodeStyle = ownerWindow.getComputedStyle(node);\n    const boundNodeStyle = ownerWindow.getComputedStyle(boundNode);\n    // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n    bounds = {\n      left: -node.offsetLeft + int(boundNodeStyle.paddingLeft) + int(nodeStyle.marginLeft),\n      top: -node.offsetTop + int(boundNodeStyle.paddingTop) + int(nodeStyle.marginTop),\n      right: innerWidth(boundNode) - outerWidth(node) - node.offsetLeft +\n        int(boundNodeStyle.paddingRight) - int(nodeStyle.marginRight),\n      bottom: innerHeight(boundNode) - outerHeight(node) - node.offsetTop +\n        int(boundNodeStyle.paddingBottom) - int(nodeStyle.marginBottom)\n    };\n  }\n\n  // Keep x and y below right and bottom limits...\n  if (isNum(bounds.right)) x = Math.min(x, bounds.right);\n  if (isNum(bounds.bottom)) y = Math.min(y, bounds.bottom);\n\n  // But above left and top limits.\n  if (isNum(bounds.left)) x = Math.max(x, bounds.left);\n  if (isNum(bounds.top)) y = Math.max(y, bounds.top);\n\n  return [x, y];\n}\n\nexport function snapToGrid(grid: [number, number], pendingX: number, pendingY: number): [number, number] {\n  const x = Math.round(pendingX / grid[0]) * grid[0];\n  const y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nexport function canDragX(draggable: Draggable): boolean {\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nexport function canDragY(draggable: Draggable): boolean {\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n}\n\n// Get {x, y} positions from event.\nexport function getControlPosition(e: MouseTouchEvent, touchIdentifier: ?number, draggableCore: DraggableCore): ?ControlPosition {\n  const touchObj = typeof touchIdentifier === 'number' ? getTouch(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n  const node = ReactDOM.findDOMNode(draggableCore);\n  // User can provide an offsetParent if desired.\n  const offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return offsetXYFromParent(touchObj || e, offsetParent);\n}\n\n// Create an data object exposed by <DraggableCore>'s events\nexport function createCoreData(draggable: DraggableCore, x: number, y: number): DraggableData {\n  const state = draggable.state;\n  const isStart = !isNum(state.lastX);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: ReactDOM.findDOMNode(draggable),\n      deltaX: 0, deltaY: 0,\n      lastX: x, lastY: y,\n      x: x, y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: ReactDOM.findDOMNode(draggable),\n      deltaX: x - state.lastX, deltaY: y - state.lastY,\n      lastX: state.lastX, lastY: state.lastY,\n      x: x, y: y\n    };\n  }\n}\n\n// Create an data exposed by <Draggable>'s events\nexport function createDraggableData(draggable: Draggable, coreData: DraggableData): DraggableData {\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX,\n    y: draggable.state.y + coreData.deltaY,\n    deltaX: coreData.deltaX,\n    deltaY: coreData.deltaY,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n}\n\n// A lot faster than stringify/parse\nfunction cloneBounds(bounds: Bounds): Bounds {\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/positionFns.es6","// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport {matchesSelectorAndParentsTo, addEvent, removeEvent, addUserSelectStyles, getTouchIdentifier,\n        removeUserSelectStyles, styleHacks} from './utils/domFns';\nimport {createCoreData, getControlPosition, snapToGrid} from './utils/positionFns';\nimport {dontSetMe} from './utils/shims';\nimport log from './utils/log';\n\nimport type {EventHandler} from './utils/types';\n\n// Simple abstraction for dragging events names.\nconst eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\n\n// Default to mouse events.\nlet dragEventFor = eventsFor.mouse;\n\ntype CoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};\n\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\n\nexport default class DraggableCore extends React.Component {\n\n  static displayName = 'DraggableCore';\n\n  static propTypes = {\n    /**\n     * `allowAnyClick` allows dragging using any mouse button.\n     * By default, we only accept the left button.\n     *\n     * Defaults to `false`.\n     */\n    allowAnyClick: PropTypes.bool,\n\n    /**\n     * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n     * with the exception of `onMouseDown`, will not fire.\n     */\n    disabled: PropTypes.bool,\n\n    /**\n     * By default, we add 'user-select:none' attributes to the document body\n     * to prevent ugly text selection during drag. If this is causing problems\n     * for your app, set this to `false`.\n     */\n    enableUserSelectHack: PropTypes.bool,\n\n    /**\n     * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n     * instead of using the parent node.\n     */\n    offsetParent: function(props, propName) {\n      if (process.browser && props[propName] && props[propName].nodeType !== 1) {\n        throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n      }\n    },\n\n    /**\n     * `grid` specifies the x and y that dragging should snap to.\n     */\n    grid: PropTypes.arrayOf(PropTypes.number),\n\n    /**\n     * `handle` specifies a selector to be used as the handle that initiates drag.\n     *\n     * Example:\n     *\n     * ```jsx\n     *   let App = React.createClass({\n     *       render: function () {\n     *         return (\n     *            <Draggable handle=\".handle\">\n     *              <div>\n     *                  <div className=\"handle\">Click me to drag</div>\n     *                  <div>This is some other content</div>\n     *              </div>\n     *           </Draggable>\n     *         );\n     *       }\n     *   });\n     * ```\n     */\n    handle: PropTypes.string,\n\n    /**\n     * `cancel` specifies a selector to be used to prevent drag initialization.\n     *\n     * Example:\n     *\n     * ```jsx\n     *   let App = React.createClass({\n     *       render: function () {\n     *           return(\n     *               <Draggable cancel=\".cancel\">\n     *                   <div>\n     *                     <div className=\"cancel\">You can't drag from here</div>\n     *                     <div>Dragging here works fine</div>\n     *                   </div>\n     *               </Draggable>\n     *           );\n     *       }\n     *   });\n     * ```\n     */\n    cancel: PropTypes.string,\n\n    /**\n     * Called when dragging starts.\n     * If this function returns the boolean false, dragging will be canceled.\n     */\n    onStart: PropTypes.func,\n\n    /**\n     * Called while dragging.\n     * If this function returns the boolean false, dragging will be canceled.\n     */\n    onDrag: PropTypes.func,\n\n    /**\n     * Called when dragging stops.\n     * If this function returns the boolean false, the drag will remain active.\n     */\n    onStop: PropTypes.func,\n\n    /**\n     * A workaround option which can be passed if onMouseDown needs to be accessed,\n     * since it'll always be blocked (as there is internal use of onMouseDown)\n     */\n    onMouseDown: PropTypes.func,\n\n    /**\n     * These properties should be defined on the child, not here.\n     */\n    className: dontSetMe,\n    style: dontSetMe,\n    transform: dontSetMe\n  };\n\n  static defaultProps = {\n    allowAnyClick: false, // by default only accept left click\n    cancel: null,\n    disabled: false,\n    enableUserSelectHack: true,\n    offsetParent: null,\n    handle: null,\n    grid: null,\n    transform: null,\n    onStart: function(){},\n    onDrag: function(){},\n    onStop: function(){},\n    onMouseDown: function(){}\n  };\n\n  state: CoreState = {\n    dragging: false,\n    // Used while dragging to determine deltas.\n    lastX: NaN, lastY: NaN,\n    touchIdentifier: null\n  };\n\n  componentWillUnmount() {\n    // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n    // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n    const {ownerDocument} = ReactDOM.findDOMNode(this);\n    removeEvent(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n    removeEvent(ownerDocument, eventsFor.touch.move, this.handleDrag);\n    removeEvent(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n    removeEvent(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n    if (this.props.enableUserSelectHack) removeUserSelectStyles(ownerDocument.body);\n  }\n\n  handleDragStart: EventHandler<MouseTouchEvent> = (e) => {\n    // Make it possible to attach event handlers on top of this one.\n    this.props.onMouseDown(e);\n\n    // Only accept left-clicks.\n    if (!this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false;\n\n    // Get nodes. Be sure to grab relative document (could be iframed)\n    const domNode = ReactDOM.findDOMNode(this);\n    const {ownerDocument} = domNode;\n\n    // Short circuit if handle or cancel prop was provided and selector doesn't match.\n    if (this.props.disabled ||\n      (!(e.target instanceof ownerDocument.defaultView.Node)) ||\n      (this.props.handle && !matchesSelectorAndParentsTo(e.target, this.props.handle, domNode)) ||\n      (this.props.cancel && matchesSelectorAndParentsTo(e.target, this.props.cancel, domNode))) {\n      return;\n    }\n\n    // Set touch identifier in component state if this is a touch event. This allows us to\n    // distinguish between individual touches on multitouch screens by identifying which\n    // touchpoint was set to this element.\n    const touchIdentifier = getTouchIdentifier(e);\n    this.setState({touchIdentifier});\n\n    // Get the current drag point from the event. This is used as the offset.\n    const position = getControlPosition(e, touchIdentifier, this);\n    if (position == null) return; // not possible but satisfies flow\n    const {x, y} = position;\n\n    // Create an event object with all the data parents need to make a decision here.\n    const coreEvent = createCoreData(this, x, y);\n\n    log('DraggableCore: handleDragStart: %j', coreEvent);\n\n    // Call event handler. If it returns explicit false, cancel.\n    log('calling', this.props.onStart);\n    const shouldUpdate = this.props.onStart(e, coreEvent);\n    if (shouldUpdate === false) return;\n\n    // Add a style to the body to disable user-select. This prevents text from\n    // being selected all over the page.\n    if (this.props.enableUserSelectHack) addUserSelectStyles(ownerDocument.body);\n\n    // Initiate dragging. Set the current x and y as offsets\n    // so we know how much we've moved during the drag. This allows us\n    // to drag elements around even if they have been moved, without issue.\n    this.setState({\n      dragging: true,\n\n      lastX: x,\n      lastY: y\n    });\n\n    // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n    // this element. We use different events depending on whether or not we have detected that this\n    // is a touch-capable device.\n    addEvent(ownerDocument, dragEventFor.move, this.handleDrag);\n    addEvent(ownerDocument, dragEventFor.stop, this.handleDragStop);\n  };\n\n  handleDrag: EventHandler<MouseTouchEvent> = (e) => {\n\n    // Prevent scrolling on mobile devices, like ipad/iphone.\n    if (e.type === 'touchmove') e.preventDefault();\n\n    // Get the current drag point from the event. This is used as the offset.\n    const position = getControlPosition(e, this.state.touchIdentifier, this);\n    if (position == null) return;\n    let {x, y} = position;\n\n    // Snap to grid if prop has been provided\n    if (Array.isArray(this.props.grid)) {\n      let deltaX = x - this.state.lastX, deltaY = y - this.state.lastY;\n      [deltaX, deltaY] = snapToGrid(this.props.grid, deltaX, deltaY);\n      if (!deltaX && !deltaY) return; // skip useless drag\n      x = this.state.lastX + deltaX, y = this.state.lastY + deltaY;\n    }\n\n    const coreEvent = createCoreData(this, x, y);\n\n    log('DraggableCore: handleDrag: %j', coreEvent);\n\n    // Call event handler. If it returns explicit false, trigger end.\n    const shouldUpdate = this.props.onDrag(e, coreEvent);\n    if (shouldUpdate === false) {\n      try {\n        // $FlowIgnore\n        this.handleDragStop(new MouseEvent('mouseup'));\n      } catch (err) {\n        // Old browsers\n        const event = ((document.createEvent('MouseEvents'): any): MouseTouchEvent);\n        // I see why this insanity was deprecated\n        // $FlowIgnore\n        event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        this.handleDragStop(event);\n      }\n      return;\n    }\n\n    this.setState({\n      lastX: x,\n      lastY: y\n    });\n  };\n\n  handleDragStop: EventHandler<MouseTouchEvent> = (e) => {\n    if (!this.state.dragging) return;\n\n    const position = getControlPosition(e, this.state.touchIdentifier, this);\n    if (position == null) return;\n    const {x, y} = position;\n    const coreEvent = createCoreData(this, x, y);\n    const {ownerDocument} = ReactDOM.findDOMNode(this);\n\n    // Remove user-select hack\n    if (this.props.enableUserSelectHack) removeUserSelectStyles(ownerDocument.body);\n\n    log('DraggableCore: handleDragStop: %j', coreEvent);\n\n    // Reset the el.\n    this.setState({\n      dragging: false,\n      lastX: NaN,\n      lastY: NaN\n    });\n\n    // Call event handler\n    this.props.onStop(e, coreEvent);\n\n    // Remove event handlers\n    log('DraggableCore: Removing handlers');\n    removeEvent(ownerDocument, dragEventFor.move, this.handleDrag);\n    removeEvent(ownerDocument, dragEventFor.stop, this.handleDragStop);\n  };\n\n  onMouseDown: EventHandler<MouseTouchEvent> = (e) => {\n    dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n    return this.handleDragStart(e);\n  };\n\n  onMouseUp: EventHandler<MouseTouchEvent> = (e) => {\n    dragEventFor = eventsFor.mouse;\n\n    return this.handleDragStop(e);\n  };\n\n  // Same as onMouseDown (start drag), but now consider this a touch device.\n  onTouchStart: EventHandler<MouseTouchEvent> = (e) => {\n    // We're on a touch device now, so change the event handlers\n    dragEventFor = eventsFor.touch;\n\n    return this.handleDragStart(e);\n  };\n\n  onTouchEnd: EventHandler<MouseTouchEvent> = (e) => {\n    // We're on a touch device now, so change the event handlers\n    dragEventFor = eventsFor.touch;\n\n    return this.handleDragStop(e);\n  };\n\n  render(): React.Element<any> {\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return React.cloneElement(React.Children.only(this.props.children), {\n      style: styleHacks(this.props.children.props.style),\n\n      // Note: mouseMove handler is attached to document so it will still function\n      // when the user drags quickly and leaves the bounds of the element.\n      onMouseDown: this.onMouseDown,\n      onTouchStart: this.onTouchStart,\n      onMouseUp: this.onMouseUp,\n      onTouchEnd: this.onTouchEnd\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/DraggableCore.es6","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 18\n// module chunks = 0","// @flow\n/*eslint no-console:0*/\nexport default function log(...args: any) {\n  if (process.env.DRAGGABLE_DEBUG) console.log(...args);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/log.es6","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _utils = require(\"./utils\");\n\nvar _propTypes = require(\"./propTypes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Resizable = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Resizable, _React$Component);\n\n  function Resizable() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", undefined);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastHandleRect\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"slack\", null);\n\n    return _this;\n  }\n\n  var _proto = Resizable.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.resetData();\n  };\n\n  _proto.lockAspectRatio = function lockAspectRatio(width, height, aspectRatio) {\n    height = width / aspectRatio;\n    width = height * aspectRatio;\n    return [width, height];\n  };\n\n  _proto.resetData = function resetData() {\n    this.lastHandleRect = this.slack = null;\n  } // Clamp width and height within provided constraints\n  ;\n\n  _proto.runConstraints = function runConstraints(width, height) {\n    var _ref = [this.props.minConstraints, this.props.maxConstraints],\n        min = _ref[0],\n        max = _ref[1];\n    if (!min && !max) return [width, height]; // If constraining to min and max, we need to also fit width and height to aspect ratio.\n\n    if (this.props.lockAspectRatio) {\n      var resizingHorizontally = height === this.props.height;\n\n      if (resizingHorizontally) {\n        var ratio = this.props.width / this.props.height;\n        height = width / ratio;\n        width = height * ratio;\n      } else {\n        // Take into account vertical resize with N/S handles on locked aspect\n        // ratio. Calculate the change height-first, instead of width-first\n        var _ratio = this.props.height / this.props.width;\n\n        width = height / _ratio;\n        height = width * _ratio;\n      }\n    }\n\n    var oldW = width,\n        oldH = height; // Add slack to the values used to calculate bound position. This will ensure that if\n    // we start removing slack, the element won't react to it right away until it's been\n    // completely removed.\n\n    var _ref2 = this.slack || [0, 0],\n        slackW = _ref2[0],\n        slackH = _ref2[1];\n\n    width += slackW;\n    height += slackH;\n\n    if (min) {\n      width = Math.max(min[0], width);\n      height = Math.max(min[1], height);\n    }\n\n    if (max) {\n      width = Math.min(max[0], width);\n      height = Math.min(max[1], height);\n    } // If the width or height changed, we must have introduced some slack. Record it for the next iteration.\n\n\n    this.slack = [slackW + (oldW - width), slackH + (oldH - height)];\n    return [width, height];\n  }\n  /**\n   * Wrapper around drag events to provide more useful data.\n   *\n   * @param  {String} handlerName Handler name to wrap.\n   * @return {Function}           Handler function.\n   */\n  ;\n\n  _proto.resizeHandler = function resizeHandler(handlerName, axis) {\n    var _this2 = this;\n\n    return function (e, _ref3) {\n      var node = _ref3.node,\n          deltaX = _ref3.deltaX,\n          deltaY = _ref3.deltaY;\n      // Reset data in case it was left over somehow (should not be possible)\n      if (handlerName === 'onResizeStart') _this2.resetData(); // Axis restrictions\n\n      var canDragX = (_this2.props.axis === 'both' || _this2.props.axis === 'x') && axis !== 'n' && axis !== 's';\n      var canDragY = (_this2.props.axis === 'both' || _this2.props.axis === 'y') && axis !== 'e' && axis !== 'w'; // No dragging possible.\n\n      if (!canDragX && !canDragY) return; // Decompose axis for later use\n\n      var axisV = axis[0];\n      var axisH = axis[axis.length - 1]; // intentionally not axis[1], so that this catches axis === 'w' for example\n      // Track the element being dragged to account for changes in position.\n      // If a handle's position is changed between callbacks, we need to factor this in to the next callback.\n      // Failure to do so will cause the element to \"skip\" when resized upwards or leftwards.\n\n      var handleRect = node.getBoundingClientRect();\n\n      if (_this2.lastHandleRect != null) {\n        // If the handle has repositioned on either axis since last render,\n        // we need to increase our callback values by this much.\n        // Only checking 'n', 'w' since resizing by 's', 'w' won't affect the overall position on page,\n        if (axisH === 'w') {\n          var deltaLeftSinceLast = handleRect.left - _this2.lastHandleRect.left;\n          deltaX += deltaLeftSinceLast;\n        }\n\n        if (axisV === 'n') {\n          var deltaTopSinceLast = handleRect.top - _this2.lastHandleRect.top;\n          deltaY += deltaTopSinceLast;\n        }\n      } // Storage of last rect so we know how much it has really moved.\n\n\n      _this2.lastHandleRect = handleRect; // Reverse delta if using top or left drag handles.\n\n      if (axisH === 'w') deltaX = -deltaX;\n      if (axisV === 'n') deltaY = -deltaY; // Update w/h by the deltas. Also factor in transformScale.\n\n      var width = _this2.props.width + (canDragX ? deltaX / _this2.props.transformScale : 0);\n      var height = _this2.props.height + (canDragY ? deltaY / _this2.props.transformScale : 0); // Run user-provided constraints.\n\n      var _this2$runConstraints = _this2.runConstraints(width, height);\n\n      width = _this2$runConstraints[0];\n      height = _this2$runConstraints[1];\n      var dimensionsChanged = width !== _this2.props.width || height !== _this2.props.height; // Call user-supplied callback if present.\n\n      var cb = typeof _this2.props[handlerName] === 'function' ? _this2.props[handlerName] : null; // Don't call 'onResize' if dimensions haven't changed.\n\n      var shouldSkipCb = handlerName === 'onResize' && !dimensionsChanged;\n\n      if (cb && !shouldSkipCb) {\n        if (typeof e.persist === 'function') e.persist();\n        cb(e, {\n          node: node,\n          size: {\n            width: width,\n            height: height\n          },\n          handle: axis\n        });\n      } // Reset internal data\n\n\n      if (handlerName === 'onResizeStop') _this2.resetData();\n    };\n  };\n\n  _proto.renderResizeHandle = function renderResizeHandle(resizeHandleAxis) {\n    var handle = this.props.handle;\n\n    if (handle) {\n      if (typeof handle === 'function') {\n        return handle(resizeHandleAxis);\n      }\n\n      return handle;\n    }\n\n    return /*#__PURE__*/_react.default.createElement(\"span\", {\n      className: \"react-resizable-handle react-resizable-handle-\" + resizeHandleAxis\n    });\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    // Pass along only props not meant for the `<Resizable>`.`\n    // eslint-disable-next-line no-unused-vars\n    var _this$props = this.props,\n        children = _this$props.children,\n        className = _this$props.className,\n        draggableOpts = _this$props.draggableOpts,\n        width = _this$props.width,\n        height = _this$props.height,\n        handle = _this$props.handle,\n        handleSize = _this$props.handleSize,\n        lockAspectRatio = _this$props.lockAspectRatio,\n        axis = _this$props.axis,\n        minConstraints = _this$props.minConstraints,\n        maxConstraints = _this$props.maxConstraints,\n        onResize = _this$props.onResize,\n        onResizeStop = _this$props.onResizeStop,\n        onResizeStart = _this$props.onResizeStart,\n        resizeHandles = _this$props.resizeHandles,\n        transformScale = _this$props.transformScale,\n        p = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"className\", \"draggableOpts\", \"width\", \"height\", \"handle\", \"handleSize\", \"lockAspectRatio\", \"axis\", \"minConstraints\", \"maxConstraints\", \"onResize\", \"onResizeStop\", \"onResizeStart\", \"resizeHandles\", \"transformScale\"]); // What we're doing here is getting the child of this element, and cloning it with this element's props.\n    // We are then defining its children as:\n    // Its original children (resizable's child's children), and\n    // One or more draggable handles.\n\n\n    return (0, _utils.cloneElement)(children, _objectSpread(_objectSpread({}, p), {}, {\n      className: (className ? className + \" \" : '') + \"react-resizable\",\n      children: [].concat(children.props.children, resizeHandles.map(function (handleAxis) {\n        return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, _extends({}, draggableOpts, {\n          key: \"resizableHandle-\" + handleAxis,\n          onStop: _this3.resizeHandler('onResizeStop', handleAxis),\n          onStart: _this3.resizeHandler('onResizeStart', handleAxis),\n          onDrag: _this3.resizeHandler('onResize', handleAxis)\n        }), _this3.renderResizeHandle(handleAxis));\n      }))\n    }));\n  };\n\n  return Resizable;\n}(_react.default.Component);\n\nexports.default = Resizable;\n\n_defineProperty(Resizable, \"propTypes\", _propTypes.resizableProps);\n\n_defineProperty(Resizable, \"defaultProps\", {\n  handleSize: [20, 20],\n  lockAspectRatio: false,\n  axis: 'both',\n  minConstraints: [20, 20],\n  maxConstraints: [Infinity, Infinity],\n  resizeHandles: ['se'],\n  transformScale: 1\n});","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Resizable = _interopRequireDefault(require(\"./Resizable\"));\n\nvar _propTypes2 = require(\"./propTypes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ResizableBox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ResizableBox, _React$Component);\n\n  function ResizableBox() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      width: _this.props.width,\n      height: _this.props.height,\n      propsWidth: _this.props.width,\n      propsHeight: _this.props.height\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e, data) {\n      var size = data.size;\n\n      if (_this.props.onResize) {\n        e.persist && e.persist();\n\n        _this.setState(size, function () {\n          return _this.props.onResize && _this.props.onResize(e, data);\n        });\n      } else {\n        _this.setState(size);\n      }\n    });\n\n    return _this;\n  }\n\n  ResizableBox.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    // If parent changes height/width, set that in our state.\n    if (state.propsWidth !== props.width || state.propsHeight !== props.height) {\n      return {\n        width: props.width,\n        height: props.height,\n        propsWidth: props.width,\n        propsHeight: props.height\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = ResizableBox.prototype;\n\n  _proto.render = function render() {\n    // Basic wrapper around a Resizable instance.\n    // If you use Resizable directly, you are responsible for updating the child component\n    // with a new width and height.\n    var _this$props = this.props,\n        handle = _this$props.handle,\n        handleSize = _this$props.handleSize,\n        onResize = _this$props.onResize,\n        onResizeStart = _this$props.onResizeStart,\n        onResizeStop = _this$props.onResizeStop,\n        draggableOpts = _this$props.draggableOpts,\n        minConstraints = _this$props.minConstraints,\n        maxConstraints = _this$props.maxConstraints,\n        lockAspectRatio = _this$props.lockAspectRatio,\n        axis = _this$props.axis,\n        width = _this$props.width,\n        height = _this$props.height,\n        resizeHandles = _this$props.resizeHandles,\n        style = _this$props.style,\n        transformScale = _this$props.transformScale,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"handle\", \"handleSize\", \"onResize\", \"onResizeStart\", \"onResizeStop\", \"draggableOpts\", \"minConstraints\", \"maxConstraints\", \"lockAspectRatio\", \"axis\", \"width\", \"height\", \"resizeHandles\", \"style\", \"transformScale\"]);\n\n    return /*#__PURE__*/React.createElement(_Resizable.default, {\n      axis: axis,\n      draggableOpts: draggableOpts,\n      handle: handle,\n      handleSize: handleSize,\n      height: this.state.height,\n      lockAspectRatio: lockAspectRatio,\n      maxConstraints: maxConstraints,\n      minConstraints: minConstraints,\n      onResizeStart: onResizeStart,\n      onResize: this.onResize,\n      onResizeStop: onResizeStop,\n      resizeHandles: resizeHandles,\n      transformScale: transformScale,\n      width: this.state.width\n    }, /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      style: _objectSpread(_objectSpread({}, style), {}, {\n        width: this.state.width + 'px',\n        height: this.state.height + 'px'\n      })\n    })));\n  };\n\n  return ResizableBox;\n}(React.Component);\n\nexports.default = ResizableBox;\n\n_defineProperty(ResizableBox, \"propTypes\", _objectSpread(_objectSpread({}, _propTypes2.resizableProps), {}, {\n  children: _propTypes.default.element\n}));","\"use strict\";\n\nexports.__esModule = true;\nexports.resizableProps = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar resizableProps = {\n  /*\n  * Restricts resizing to a particular axis (default: 'both')\n  * 'both' - allows resizing by width or height\n  * 'x' - only allows the width to be changed\n  * 'y' - only allows the height to be changed\n  * 'none' - disables resizing altogether\n  * */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  className: _propTypes.default.string,\n\n  /*\n  * Require that one and only one child be present.\n  * */\n  children: _propTypes.default.element.isRequired,\n\n  /*\n  * These will be passed wholesale to react-draggable's DraggableCore\n  * */\n  draggableOpts: _propTypes.default.shape({\n    allowAnyClick: _propTypes.default.bool,\n    cancel: _propTypes.default.string,\n    children: _propTypes.default.node,\n    disabled: _propTypes.default.bool,\n    enableUserSelectHack: _propTypes.default.bool,\n    offsetParent: _propTypes.default.node,\n    grid: _propTypes.default.arrayOf(_propTypes.default.number),\n    handle: _propTypes.default.string,\n    nodeRef: _propTypes.default.object,\n    onStart: _propTypes.default.func,\n    onDrag: _propTypes.default.func,\n    onStop: _propTypes.default.func,\n    onMouseDown: _propTypes.default.func,\n    scale: _propTypes.default.number\n  }),\n\n  /*\n  * Initial height\n  * */\n  height: _propTypes.default.number.isRequired,\n\n  /*\n  * Customize cursor resize handle\n  * */\n  handle: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n\n  /*\n  * If you change this, be sure to update your css\n  * */\n  handleSize: _propTypes.default.arrayOf(_propTypes.default.number),\n  lockAspectRatio: _propTypes.default.bool,\n\n  /*\n  * Max X & Y measure\n  * */\n  maxConstraints: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /*\n  * Min X & Y measure\n  * */\n  minConstraints: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /*\n  * Called on stop resize event\n  * */\n  onResizeStop: _propTypes.default.func,\n\n  /*\n  * Called on start resize event\n  * */\n  onResizeStart: _propTypes.default.func,\n\n  /*\n  * Called on resize event\n  * */\n  onResize: _propTypes.default.func,\n\n  /*\n  * Defines which resize handles should be rendered (default: 'se')\n  * 's' - South handle (bottom-center)\n  * 'w' - West handle (left-center)\n  * 'e' - East handle (right-center)\n  * 'n' - North handle (top-center)\n  * 'sw' - Southwest handle (bottom-left)\n  * 'nw' - Northwest handle (top-left)\n  * 'se' - Southeast handle (bottom-right)\n  * 'ne' - Northeast handle (top-center)\n  * */\n  resizeHandles: _propTypes.default.arrayOf(_propTypes.default.oneOf(['s', 'w', 'e', 'n', 'sw', 'nw', 'se', 'ne'])),\n\n  /*\n  * If `transform: scale(n)` is set on the parent, this should be set to `n`.\n  * */\n  transformScale: _propTypes.default.number,\n\n  /*\n   * Initial width\n   */\n  width: _propTypes.default.number.isRequired\n};\nexports.resizableProps = resizableProps;","\"use strict\";\n\nexports.__esModule = true;\nexports.cloneElement = cloneElement;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// React.addons.cloneWithProps look-alike that merges style & className.\nfunction cloneElement(element, props) {\n  if (props.style && element.props.style) {\n    props.style = _objectSpread(_objectSpread({}, element.props.style), props.style);\n  }\n\n  if (props.className && element.props.className) {\n    props.className = element.props.className + \" \" + props.className;\n  }\n\n  return /*#__PURE__*/_react.default.cloneElement(element, props);\n}","'use strict';\nmodule.exports = function() {\n  throw new Error(\"Don't instantiate Resizable directly! Use require('react-resizable').Resizable\");\n};\n\nmodule.exports.Resizable = require('./build/Resizable').default;\nmodule.exports.ResizableBox = require('./build/ResizableBox').default;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function () {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); } /*:: import type {ControlPosition, PositionOffsetControlPosition, DraggableCoreProps, DraggableCoreDefaultProps} from './DraggableCore';*/\n/*:: import type {Bounds, DraggableEventHandler} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n/*:: type DraggableState = {\n  dragging: boolean,\n  dragged: boolean,\n  x: number, y: number,\n  slackX: number, slackY: number,\n  isElementSVG: boolean,\n  prevPropsPosition: ?ControlPosition,\n};*/\n/*:: export type DraggableDefaultProps = {\n  ...DraggableCoreDefaultProps,\n  axis: 'both' | 'x' | 'y' | 'none',\n  bounds: Bounds | string | false,\n  defaultClassName: string,\n  defaultClassNameDragging: string,\n  defaultClassNameDragged: string,\n  defaultPosition: ControlPosition,\n  scale: number,\n};*/\n/*:: export type DraggableProps = {\n  ...DraggableCoreProps,\n  ...DraggableDefaultProps,\n  positionOffset: PositionOffsetControlPosition,\n  position: ControlPosition,\n};*/\n//\n// Define <Draggable>\n//\nclass Draggable extends React.Component /*:: <DraggableProps, DraggableState>*/{\n  // React 16.3+\n  // Arity (props, state)\n  static getDerivedStateFromProps(_ref /*:: */, _ref2 /*:: */) /*: ?Partial<DraggableState>*/{\n    let {\n      position\n    } /*: DraggableProps*/ = _ref /*: DraggableProps*/;\n    let {\n      prevPropsPosition\n    } /*: DraggableState*/ = _ref2 /*: DraggableState*/;\n    // Set x/y if a new position is provided in props that is different than the previous.\n    if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n      (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n        position,\n        prevPropsPosition\n      });\n      return {\n        x: position.x,\n        y: position.y,\n        prevPropsPosition: {\n          ...position\n        }\n      };\n    }\n    return null;\n  }\n  constructor(props /*: DraggableProps*/) {\n    super(props);\n    _defineProperty(this, \"onDragStart\", (e, coreData) => {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData);\n\n      // Short-circuit if user's callback killed it.\n      const shouldStart = this.props.onStart(e, (0, _positionFns.createDraggableData)(this, coreData));\n      // Kills start event on core as well, so move handlers are never bound.\n      if (shouldStart === false) return false;\n      this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n    _defineProperty(this, \"onDrag\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      const uiData = (0, _positionFns.createDraggableData)(this, coreData);\n      const newState = {\n        x: uiData.x,\n        y: uiData.y,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // Keep within bounds.\n      if (this.props.bounds) {\n        // Save original x and y.\n        const {\n          x,\n          y\n        } = newState;\n\n        // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n        newState.x += this.state.slackX;\n        newState.y += this.state.slackY;\n\n        // Get bound position. This will ceil/floor the x and y within the boundaries.\n        const [newStateX, newStateY] = (0, _positionFns.getBoundPosition)(this, newState.x, newState.y);\n        newState.x = newStateX;\n        newState.y = newStateY;\n\n        // Recalculate slack by noting how much was shaved by the boundPosition handler.\n        newState.slackX = this.state.slackX + (x - newState.x);\n        newState.slackY = this.state.slackY + (y - newState.y);\n\n        // Update the event we fire to reflect what really happened after bounds took effect.\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - this.state.x;\n        uiData.deltaY = newState.y - this.state.y;\n      }\n\n      // Short-circuit if user's callback killed it.\n      const shouldUpdate = this.props.onDrag(e, uiData);\n      if (shouldUpdate === false) return false;\n      this.setState(newState);\n    });\n    _defineProperty(this, \"onDragStop\", (e, coreData) => {\n      if (!this.state.dragging) return false;\n\n      // Short-circuit if user's callback killed it.\n      const shouldContinue = this.props.onStop(e, (0, _positionFns.createDraggableData)(this, coreData));\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      const newState /*: Partial<DraggableState>*/ = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      };\n\n      // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n      const controlled = Boolean(this.props.position);\n      if (controlled) {\n        const {\n          x,\n          y\n        } = this.props.position;\n        newState.x = x;\n        newState.y = y;\n      }\n      this.setState(newState);\n    });\n    this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: {\n        ...props.position\n      },\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n  }\n  componentDidMount() {\n    // Check to see if the element passed is an instanceof SVGElement\n    if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n      this.setState({\n        isElementSVG: true\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.setState({\n      dragging: false\n    }); // prevents invariant if unmounted while dragging\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    var _this$props$nodeRef$c, _this$props;\n    return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 || (_this$props = _this$props.nodeRef) === null || _this$props === void 0 ? void 0 : _this$props.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: ReactElement<any>*/{\n    const {\n      axis,\n      bounds,\n      children,\n      defaultPosition,\n      defaultClassName,\n      defaultClassNameDragging,\n      defaultClassNameDragged,\n      position,\n      positionOffset,\n      scale,\n      ...draggableCoreProps\n    } = this.props;\n    let style = {};\n    let svgTransform = null;\n\n    // If this is controlled, we don't want to move it - unless it's dragging.\n    const controlled = Boolean(position);\n    const draggable = !controlled || this.state.dragging;\n    const validPosition = position || defaultPosition;\n    const transformOpts = {\n      // Set left if horizontal drag is enabled\n      x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n      // Set top if vertical drag is enabled\n      y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n    };\n\n    // If this element was SVG, we use the `transform` attribute.\n    if (this.state.isElementSVG) {\n      svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n    } else {\n      // Add a CSS transform to move the element around. This allows us to move the element around\n      // without worrying about whether or not it is relatively or absolutely positioned.\n      // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n      // has a clean slate.\n      style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n    }\n\n    // Mark with class while dragging\n    const className = (0, _clsx.default)(children.props.className || '', defaultClassName, {\n      [defaultClassNameDragging]: this.state.dragging,\n      [defaultClassNameDragged]: this.state.dragged\n    });\n\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n      onStart: this.onDragStart,\n      onDrag: this.onDrag,\n      onStop: this.onDragStop\n    }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n      className: className,\n      style: {\n        ...children.props.style,\n        ...style\n      },\n      transform: svgTransform\n    }));\n  }\n}\nexports.default = Draggable;\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n_defineProperty(Draggable, \"propTypes\", {\n  // Accepts all props <DraggableCore> accepts.\n  ..._DraggableCore.default.propTypes,\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(Draggable, \"defaultProps\", {\n  ..._DraggableCore.default.defaultProps,\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _domFns = require(\"./utils/domFns\");\nvar _positionFns = require(\"./utils/positionFns\");\nvar _shims = require(\"./utils/shims\");\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/*:: import type {EventHandler, MouseTouchEvent} from './utils/types';*/\n/*:: import type {Element as ReactElement} from 'react';*/\n// Simple abstraction for dragging events names.\nconst eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\n\n// Default to mouse events.\nlet dragEventFor = eventsFor.mouse;\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n/*:: export type ControlPosition = {x: number, y: number};*/\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\n\nclass DraggableCore extends React.Component /*:: <DraggableCoreProps>*/{\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"dragging\", false);\n    // Used while dragging to determine deltas.\n    _defineProperty(this, \"lastX\", NaN);\n    _defineProperty(this, \"lastY\", NaN);\n    _defineProperty(this, \"touchIdentifier\", null);\n    _defineProperty(this, \"mounted\", false);\n    _defineProperty(this, \"handleDragStart\", e => {\n      // Make it possible to attach event handlers on top of this one.\n      this.props.onMouseDown(e);\n\n      // Only accept left-clicks.\n      if (!this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false;\n\n      // Get nodes. Be sure to grab relative document (could be iframed)\n      const thisNode = this.findDOMNode();\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n      const {\n        ownerDocument\n      } = thisNode;\n\n      // Short circuit if handle or cancel prop was provided and selector doesn't match.\n      if (this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.handle, thisNode) || this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, this.props.cancel, thisNode)) {\n        return;\n      }\n\n      // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n      if (e.type === 'touchstart') e.preventDefault();\n\n      // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n      const touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n      this.touchIdentifier = touchIdentifier;\n\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, touchIdentifier, this);\n      if (position == null) return; // not possible but satisfies flow\n      const {\n        x,\n        y\n      } = position;\n\n      // Create an event object with all the data parents need to make a decision here.\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, cancel.\n      (0, _log.default)('calling', this.props.onStart);\n      const shouldUpdate = this.props.onStart(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) return;\n\n      // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n      if (this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument);\n\n      // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n      this.dragging = true;\n      this.lastX = x;\n      this.lastY = y;\n\n      // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, this.handleDragStop);\n    });\n    _defineProperty(this, \"handleDrag\", e => {\n      // Get the current drag point from the event. This is used as the offset.\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX,\n          deltaY = y - this.lastY;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        if (!deltaX && !deltaY) return; // skip useless drag\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent);\n\n      // Call event handler. If it returns explicit false, trigger end.\n      const shouldUpdate = this.props.onDrag(e, coreEvent);\n      if (shouldUpdate === false || this.mounted === false) {\n        try {\n          // $FlowIgnore\n          this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          const event = ((document.createEvent('MouseEvents') /*: any*/) /*: MouseTouchEvent*/);\n          // I see why this insanity was deprecated\n          // $FlowIgnore\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n          this.handleDragStop(event);\n        }\n        return;\n      }\n      this.lastX = x;\n      this.lastY = y;\n    });\n    _defineProperty(this, \"handleDragStop\", e => {\n      if (!this.dragging) return;\n      const position = (0, _positionFns.getControlPosition)(e, this.touchIdentifier, this);\n      if (position == null) return;\n      let {\n        x,\n        y\n      } = position;\n\n      // Snap to grid if prop has been provided\n      if (Array.isArray(this.props.grid)) {\n        let deltaX = x - this.lastX || 0;\n        let deltaY = y - this.lastY || 0;\n        [deltaX, deltaY] = (0, _positionFns.snapToGrid)(this.props.grid, deltaX, deltaY);\n        x = this.lastX + deltaX, y = this.lastY + deltaY;\n      }\n      const coreEvent = (0, _positionFns.createCoreData)(this, x, y);\n\n      // Call event handler\n      const shouldContinue = this.props.onStop(e, coreEvent);\n      if (shouldContinue === false || this.mounted === false) return false;\n      const thisNode = this.findDOMNode();\n      if (thisNode) {\n        // Remove user-select hack\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent);\n\n      // Reset the el.\n      this.dragging = false;\n      this.lastX = NaN;\n      this.lastY = NaN;\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, this.handleDragStop);\n      }\n    });\n    _defineProperty(this, \"onMouseDown\", e => {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onMouseUp\", e => {\n      dragEventFor = eventsFor.mouse;\n      return this.handleDragStop(e);\n    });\n    // Same as onMouseDown (start drag), but now consider this a touch device.\n    _defineProperty(this, \"onTouchStart\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStart(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", e => {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return this.handleDragStop(e);\n    });\n  }\n  componentDidMount() {\n    this.mounted = true;\n    // Touch handlers must be added with {passive: false} to be cancelable.\n    // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n    // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n    const thisNode = this.findDOMNode();\n    if (thisNode) {\n      const {\n        ownerDocument\n      } = thisNode;\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n      (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n        passive: false\n      });\n      if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n    }\n  }\n\n  // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n  // the underlying DOM node ourselves. See the README for more information.\n  findDOMNode() /*: ?HTMLElement*/{\n    var _this$props, _this$props2;\n    return (_this$props = this.props) !== null && _this$props !== void 0 && _this$props.nodeRef ? (_this$props2 = this.props) === null || _this$props2 === void 0 || (_this$props2 = _this$props2.nodeRef) === null || _this$props2 === void 0 ? void 0 : _this$props2.current : _reactDom.default.findDOMNode(this);\n  }\n  render() /*: React.Element<any>*/{\n    // Reuse the child provided\n    // This makes it flexible to use whatever element is wanted (div, ul, etc)\n    return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n      // Note: mouseMove handler is attached to document so it will still function\n      // when the user drags quickly and leaves the bounds of the element.\n      onMouseDown: this.onMouseDown,\n      onMouseUp: this.onMouseUp,\n      // onTouchStart is added on `componentDidMount` so they can be added with\n      // {passive: false}, which allows it to cancel. See\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n      onTouchEnd: this.onTouchEnd\n    });\n  }\n}\nexports.default = DraggableCore;\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n  children: _propTypes.default.node.isRequired,\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function (props /*: DraggableCoreProps*/, propName /*: $Keys<DraggableCoreProps>*/) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function () {},\n  onDrag: function () {},\n  onStop: function () {},\n  onMouseDown: function () {},\n  scale: 1\n});","\"use strict\";\n\nconst {\n  default: Draggable,\n  DraggableCore\n} = require('./Draggable');\n\n// Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addClassName = addClassName;\nexports.addEvent = addEvent;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.getTranslation = getTranslation;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.removeClassName = removeClassName;\nexports.removeEvent = removeEvent;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nvar _shims = require(\"./shims\");\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n/*:: import type {ControlPosition, PositionOffsetControlPosition, MouseTouchEvent} from './types';*/\nlet matchesSelectorFunc = '';\nfunction matchesSelector(el /*: Node*/, selector /*: string*/) /*: boolean*/{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  }\n\n  // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false;\n\n  // $FlowIgnore: Doesn't think elements are indexable\n  return el[matchesSelectorFunc](selector);\n}\n\n// Works up the tree to the draggable itself attempting to match selector.\nfunction matchesSelectorAndParentsTo(el /*: Node*/, selector /*: string*/, baseNode /*: Node*/) /*: boolean*/{\n  let node = el;\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    // $FlowIgnore[incompatible-type]\n    node = node.parentNode;\n  } while (node);\n  return false;\n}\nfunction addEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\nfunction removeEvent(el /*: ?Node*/, event /*: string*/, handler /*: Function*/, inputOptions /*: Object*/) /*: void*/{\n  if (!el) return;\n  const options = {\n    capture: true,\n    ...inputOptions\n  };\n  // $FlowIgnore[method-unbinding]\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\nfunction outerHeight(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\nfunction outerWidth(node /*: HTMLElement*/) /*: number*/{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\nfunction innerHeight(node /*: HTMLElement*/) /*: number*/{\n  let height = node.clientHeight;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\nfunction innerWidth(node /*: HTMLElement*/) /*: number*/{\n  let width = node.clientWidth;\n  const computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n// Get from offsetParent\nfunction offsetXYFromParent(evt /*: EventWithOffset*/, offsetParent /*: HTMLElement*/, scale /*: number*/) /*: ControlPosition*/{\n  const isBody = offsetParent === offsetParent.ownerDocument.body;\n  const offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  const x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  const y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x,\n    y\n  };\n}\nfunction createCSSTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: Object*/{\n  const translation = getTranslation(controlPos, positionOffset, 'px');\n  return {\n    [(0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default)]: translation\n  };\n}\nfunction createSVGTransform(controlPos /*: ControlPosition*/, positionOffset /*: PositionOffsetControlPosition*/) /*: string*/{\n  const translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\nfunction getTranslation(_ref /*:: */, positionOffset /*: PositionOffsetControlPosition*/, unitSuffix /*: string*/) /*: string*/{\n  let {\n    x,\n    y\n  } /*: ControlPosition*/ = _ref /*: ControlPosition*/;\n  let translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n  if (positionOffset) {\n    const defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    const defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n  return translation;\n}\nfunction getTouch(e /*: MouseTouchEvent*/, identifier /*: number*/) /*: ?{clientX: number, clientY: number}*/{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, t => identifier === t.identifier) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, t => identifier === t.identifier);\n}\nfunction getTouchIdentifier(e /*: MouseTouchEvent*/) /*: ?number*/{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n}\n\n// User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n\n// Note we're passing `document` b/c we could be iframed\nfunction addUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  let styleEl = doc.getElementById('react-draggable-style-el');\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nfunction removeUserSelectStyles(doc /*: ?Document*/) {\n  if (!doc) return;\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n    // $FlowIgnore: IE\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      const selection = (doc.defaultView || window).getSelection();\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {\n    // probably IE\n  }\n}\nfunction addClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\nfunction removeClassName(el /*: HTMLElement*/, className /*: string*/) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nexports.getPrefix = getPrefix;\nconst prefixes = ['Moz', 'Webkit', 'O', 'ms'];\nfunction getPrefix() /*: string*/{\n  var _window$document;\n  let prop /*: string*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return '';\n\n  // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n  const style = (_window$document = window.document) === null || _window$document === void 0 || (_window$document = _window$document.documentElement) === null || _window$document === void 0 ? void 0 : _window$document.style;\n  if (!style) return '';\n  if (prop in style) return '';\n  for (let i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n  return '';\n}\nfunction browserPrefixToKey(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\nfunction browserPrefixToStyle(prop /*: string*/, prefix /*: string*/) /*: string*/{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\nfunction kebabToTitleCase(str /*: string*/) /*: string*/{\n  let out = '';\n  let shouldCapitalize = true;\n  for (let i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n  return out;\n}\n\n// Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\nvar _default = exports.default = (getPrefix() /*: string*/);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n/*eslint no-console:0*/\nfunction log() {\n  if (undefined) console.log(...arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\nexports.getBoundPosition = getBoundPosition;\nexports.getControlPosition = getControlPosition;\nexports.snapToGrid = snapToGrid;\nvar _shims = require(\"./shims\");\nvar _domFns = require(\"./domFns\");\n/*:: import type Draggable from '../Draggable';*/\n/*:: import type {Bounds, ControlPosition, DraggableData, MouseTouchEvent} from './types';*/\n/*:: import type DraggableCore from '../DraggableCore';*/\nfunction getBoundPosition(draggable /*: Draggable*/, x /*: number*/, y /*: number*/) /*: [number, number]*/{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y];\n\n  // Clone new bounds\n  let {\n    bounds\n  } = draggable.props;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  const node = findDOMNode(draggable);\n  if (typeof bounds === 'string') {\n    const {\n      ownerDocument\n    } = node;\n    const ownerWindow = ownerDocument.defaultView;\n    let boundNode;\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n    const boundNodeEl /*: HTMLElement*/ = boundNode; // for Flow, can't seem to refine correctly\n    const nodeStyle = ownerWindow.getComputedStyle(node);\n    const boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl);\n    // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  }\n\n  // Keep x and y below right and bottom limits...\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom);\n\n  // But above left and top limits.\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\nfunction snapToGrid(grid /*: [number, number]*/, pendingX /*: number*/, pendingY /*: number*/) /*: [number, number]*/{\n  const x = Math.round(pendingX / grid[0]) * grid[0];\n  const y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\nfunction canDragX(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\nfunction canDragY(draggable /*: Draggable*/) /*: boolean*/{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n}\n\n// Get {x, y} positions from event.\nfunction getControlPosition(e /*: MouseTouchEvent*/, touchIdentifier /*: ?number*/, draggableCore /*: DraggableCore*/) /*: ?ControlPosition*/{\n  const touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n  const node = findDOMNode(draggableCore);\n  // User can provide an offsetParent if desired.\n  const offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n}\n\n// Create an data object exposed by <DraggableCore>'s events\nfunction createCoreData(draggable /*: DraggableCore*/, x /*: number*/, y /*: number*/) /*: DraggableData*/{\n  const isStart = !(0, _shims.isNum)(draggable.lastX);\n  const node = findDOMNode(draggable);\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x,\n      y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node,\n      deltaX: x - draggable.lastX,\n      deltaY: y - draggable.lastY,\n      lastX: draggable.lastX,\n      lastY: draggable.lastY,\n      x,\n      y\n    };\n  }\n}\n\n// Create an data exposed by <Draggable>'s events\nfunction createDraggableData(draggable /*: Draggable*/, coreData /*: DraggableData*/) /*: DraggableData*/{\n  const scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n}\n\n// A lot faster than stringify/parse\nfunction cloneBounds(bounds /*: Bounds*/) /*: Bounds*/{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\nfunction findDOMNode(draggable /*: Draggable | DraggableCore*/) /*: HTMLElement*/{\n  const node = draggable.findDOMNode();\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  }\n  // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontSetMe = dontSetMe;\nexports.findInArray = findInArray;\nexports.int = int;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array /*: Array<any> | TouchList*/, callback /*: Function*/) /*: any*/{\n  for (let i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\nfunction isFunction(func /*: any*/) /*: boolean %checks*/{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\nfunction isNum(num /*: any*/) /*: boolean %checks*/{\n  return typeof num === 'number' && !isNaN(num);\n}\nfunction int(a /*: string*/) /*: number*/{\n  return parseInt(a, 10);\n}\nfunction dontSetMe(props /*: Object*/, propName /*: string*/, componentName /*: string*/) /*: ?Error*/{\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Stickies = undefined;\n\n\tvar _Stickies = __webpack_require__(4);\n\n\tvar _Stickies2 = _interopRequireDefault(_Stickies);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\texports.Stickies = _Stickies2.default;\n\texports.default = _Stickies2.default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"react-grid-layout\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _react = __webpack_require__(1);\n\n\tvar _react2 = _interopRequireDefault(_react);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar _class = function (_Component) {\n\t  _inherits(_class, _Component);\n\n\t  function _class() {\n\t    _classCallCheck(this, _class);\n\n\t    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'shouldComponentUpdate',\n\t    value: function shouldComponentUpdate(nextProps) {\n\t      return nextProps.html !== this.editable.innerHTML;\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate() {\n\t      if (this.props.html !== this.editable.innerHTML) {\n\t        this.editable.innerHTML = this.props.html;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'emitChange',\n\t    value: function emitChange() {\n\t      var html = this.editable.innerHTML;\n\t      if (this.props.onChange && html !== this.lastHtml) {\n\t        this.props.onChange({\n\t          target: {\n\t            value: html\n\t          }\n\t        });\n\t      }\n\t      this.lastHtml = html;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\n\t      return _react2.default.createElement('div', {\n\t        onInput: this.emitChange.bind(this),\n\t        onBlur: this.emitChange.bind(this),\n\t        contentEditable: true,\n\t        dangerouslySetInnerHTML: { __html: this.props.html },\n\t        ref: function ref(editable) {\n\t          return _this2.editable = editable;\n\t        }\n\t      });\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}(_react.Component);\n\n\texports.default = _class;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _react = __webpack_require__(1);\n\n\tvar _react2 = _interopRequireDefault(_react);\n\n\tvar _draftJs = __webpack_require__(9);\n\n\tvar _moment = __webpack_require__(10);\n\n\tvar _moment2 = _interopRequireDefault(_moment);\n\n\tvar _ContentEditable = __webpack_require__(3);\n\n\tvar _ContentEditable2 = _interopRequireDefault(_ContentEditable);\n\n\t__webpack_require__(8);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar WidthProvider = __webpack_require__(2).WidthProvider;\n\tvar ResponsiveReactGridLayout = __webpack_require__(2).Responsive;\n\n\tResponsiveReactGridLayout = WidthProvider(ResponsiveReactGridLayout);\n\n\t/**\n\t* @method: guid\n\t* @desc: Generates unique guid\n\t**/\n\tfunction guid() {\n\t  function s4() {\n\t    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t  }\n\t  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\t}\n\n\t/**\n\t* @method: tranformEditorState\n\t* @desc: Tranforms the text to editor state\n\t**/\n\tfunction tranformEditorState(notes) {\n\t  var notesData = notes.default || notes;\n\t  var data = notesData.map(function (note) {\n\t    var text = note.default ? note.default.text : note.text || '';\n\t    note.editorState = note.editorState || _draftJs.EditorState.createWithContent(_draftJs.ContentState.createFromText(text));\n\t    return note;\n\t  });\n\t  return data;\n\t}\n\n\t/**\n\t* @method: transformContentState\n\t* @desc: Tranforms editor state to text content\n\t**/\n\tfunction transformContentState(notes) {\n\t  var clonedNotes = Object.assign([], notes);\n\t  var data = clonedNotes.map(function (note) {\n\t    note.text = note.editorState.getCurrentContent().getPlainText();\n\t    return note;\n\t  });\n\t  return data;\n\t}\n\n\tvar _class = function (_Component) {\n\t  _inherits(_class, _Component);\n\n\t  function _class(props) {\n\t    _classCallCheck(this, _class);\n\n\t    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n\t    _this.state = {\n\t      newCounter: 0,\n\t      notes: props.notes ? tranformEditorState(props.notes) : [],\n\t      colors: props.colors || ['#FBE4BE', '#F7D1D1', '#E4FABC', '#CAE0FA'],\n\t      dateFormat: props.dateFormat || 'lll'\n\t    };\n\t    _this.createBlankNote = _this.createBlankNote.bind(_this);\n\t    _this.renderNote = _this.renderNote.bind(_this);\n\t    _this.onLayoutChange = _this.onLayoutChange.bind(_this);\n\t    _this.onBreakpointChange = _this.onBreakpointChange.bind(_this);\n\t    return _this;\n\t  }\n\n\t  _createClass(_class, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      if (this.props.notes && !this.props.notes.length) {\n\t        this.createBlankNote();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(nextProps) {\n\t      if (nextProps.notes && nextProps.notes.length) {\n\t        this.setState({\n\t          notes: tranformEditorState(nextProps.notes)\n\t        });\n\t      }\n\t      this.setState({\n\t        colors: nextProps.colors || ['#FBE4BE', '#F7D1D1', '#E4FABC', '#CAE0FA'],\n\t        dateFormat: nextProps.dateFormat || 'lll'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'generateRandomColors',\n\t    value: function generateRandomColors() {\n\t      var colors = this.state.colors;\n\t      return colors[Math.floor(Math.random() * (colors.length - 1))];\n\t    }\n\t  }, {\n\t    key: 'generateRandomDegree',\n\t    value: function generateRandomDegree(max, min) {\n\t      return Math.floor(Math.random() * (max - min + 1)) + min + 'deg';\n\t    }\n\t  }, {\n\t    key: 'handleTitleChange',\n\t    value: function handleTitleChange(html, currentNote) {\n\t      var _this2 = this;\n\n\t      var notes = this.state.notes;\n\t      notes.forEach(function (note) {\n\t        if (currentNote.id === note.id) {\n\t          note.title = html.target.value;\n\t        }\n\t      });\n\t      this.setState({\n\t        notes: notes\n\t      }, function () {\n\t        if (_this2.props.onTitleChange) {\n\t          _this2.props.onTitleChange(html, currentNote);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onChange',\n\t    value: function onChange(editorState, currentNote) {\n\t      var notes = this.state.notes;\n\t      var dateFormat = this.state.dateFormat;\n\t      notes.forEach(function (note) {\n\t        if (currentNote.id === note.id) {\n\t          note.editorState = editorState;\n\t          note.timeStamp = (0, _moment2.default)().format(dateFormat);\n\t        }\n\t      });\n\t      if (typeof this.props.onChange === 'function') {\n\t        this.props.onChange(transformContentState(this.state.notes), 'update');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'deleteNote',\n\t    value: function deleteNote(currentNote) {\n\t      var _this3 = this;\n\n\t      var notes = this.state.notes;\n\t      notes.forEach(function (note, index) {\n\t        if (currentNote.id === note.id) {\n\t          notes.splice(index, 1);\n\t        }\n\t      });\n\t      this.setState({\n\t        notes: notes\n\t      }, function () {\n\t        if (typeof _this3.props.onChange === 'function') {\n\t          _this3.props.onChange(_this3.state.notes, 'delete');\n\t          if (typeof _this3.props.onDelete === 'function') {\n\t            _this3.props.onDelete(currentNote);\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'createBlankNote',\n\t    value: function createBlankNote() {\n\t      var dateFormat = this.state.dateFormat;\n\t      var grid = this.props.grid || {};\n\t      var uid = guid();\n\t      var note = {\n\t        grid: {\n\t          i: '' + uid,\n\t          x: this.state.notes.length * 2 % (this.state.cols || 12),\n\t          y: Infinity, // puts it at the bottom\n\t          w: grid.w || 2,\n\t          h: grid.h || 2\n\t        },\n\t        id: uid,\n\t        editorState: _draftJs.EditorState.createEmpty(),\n\t        title: 'Title',\n\t        color: this.generateRandomColors(),\n\t        degree: this.generateRandomDegree(-2, 2),\n\t        timeStamp: (0, _moment2.default)().format(dateFormat),\n\t        contentEditable: true\n\t      };\n\t      this.setState({\n\t        // Add a new item. It must have a unique key!\n\t        notes: this.state.notes.concat(note),\n\t        // Increment the counter to ensure key is always unique.\n\t        newCounter: this.state.newCounter + 1\n\t      });\n\t      if (typeof this.props.onAdd === 'function') {\n\t        this.props.onAdd(note);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onLayoutChange',\n\t    value: function onLayoutChange(layout) {\n\t      var _this4 = this;\n\n\t      var notes = this.state.notes;\n\t      notes.forEach(function (note) {\n\t        layout.forEach(function (grid) {\n\t          if (grid.i === note.id) {\n\t            note.grid = grid;\n\t          }\n\t        });\n\t      });\n\t      this.setState({\n\t        notes: notes\n\t      }, function () {\n\t        if (typeof _this4.props.onChange === 'function') {\n\t          _this4.props.onChange(_this4.state.notes, 'layout');\n\t          if (typeof _this4.props.onLayoutChange === 'function') {\n\t            _this4.props.onLayoutChange(layout);\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onBreakpointChange',\n\t    value: function onBreakpointChange(breakpoint, cols) {\n\t      this.setState({\n\t        breakpoint: breakpoint,\n\t        cols: cols\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderNote',\n\t    value: function renderNote(note) {\n\t      var _this5 = this;\n\n\t      var closeStyle = Object.assign({}, {\n\t        display: this.state.notes.length === 1 ? 'none' : 'block'\n\t      }, this.props.closeStyle || {});\n\t      var addStyle = this.props.addStyle || {};\n\t      var closeIcon = this.props.closeIcon || '';\n\t      var addIcon = this.props.addIcon || '';\n\t      var noteStyle = Object.assign({}, {\n\t        background: note.color,\n\t        transform: note.degree\n\t      }, this.props.noteStyle || {});\n\t      var noteHeaderStyle = Object.assign({}, {\n\t        display: this.props.header === false ? 'none' : 'block'\n\t      }, this.props.noteHeaderStyle || {});\n\t      var noteBodyStyle = this.props.noteBodyStyle || {};\n\t      var noteTitleStyle = Object.assign({}, {\n\t        display: this.props.title === false ? 'none' : 'block'\n\t      }, this.props.noteTitleStyle || {});\n\t      var noteFooterStyle = Object.assign({}, {\n\t        display: this.props.footer === false ? 'none' : 'block'\n\t      }, this.props.noteFooterStyle || {});\n\t      var i = note.grid.add ? '+' : note.grid.i;\n\t      var grid = note.grid;\n\t      grid.y = grid.y || Infinity;\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { key: i, 'data-grid': grid },\n\t        _react2.default.createElement(\n\t          'aside',\n\t          {\n\t            className: 'note-wrap note ' + (this.props.tape ? 'tape' : ''),\n\t            style: noteStyle\n\t          },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'note-header', style: noteHeaderStyle },\n\t            _react2.default.createElement(\n\t              'div',\n\t              {\n\t                className: '' + (addIcon ? '' : 'add'),\n\t                onClick: this.createBlankNote,\n\t                style: addStyle\n\t              },\n\t              addIcon\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'title', style: noteTitleStyle },\n\t              _react2.default.createElement(_ContentEditable2.default, {\n\t                html: note.title,\n\t                onChange: function onChange(html) {\n\t                  return _this5.handleTitleChange(html, note);\n\t                }\n\t              })\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              {\n\t                className: '' + (closeIcon ? '' : 'close'),\n\t                style: closeStyle,\n\t                onClick: function onClick() {\n\t                  return _this5.deleteNote(note);\n\t                }\n\t              },\n\t              closeIcon\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'note-body', style: noteBodyStyle },\n\t            _react2.default.createElement(_draftJs.Editor, {\n\t              editorState: note.editorState,\n\t              onChange: function onChange(editorState) {\n\t                return _this5.onChange(editorState, note);\n\t              },\n\t              placeholder: 'Add your notes...'\n\t            })\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            {\n\t              className: 'note-footer',\n\t              style: noteFooterStyle\n\t            },\n\t            note.timeStamp\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var gridProps = this.props.grid || {};\n\t      var grid = {\n\t        className: 'layout',\n\t        cols: gridProps.cols || { lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 },\n\t        rowHeight: gridProps.rowHeight || 100,\n\t        isDraggable: gridProps.isDraggable === undefined ? true : gridProps.isDraggable,\n\t        isResizable: gridProps.isResizable === undefined ? true : gridProps.isResizable,\n\t        useCSSTransforms: gridProps.useCSSTransforms === undefined ? true : gridProps.useCSSTransforms,\n\t        margin: gridProps.margin\n\t      };\n\t      var wrapperStyle = this.props.wrapperStyle || {};\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'react-stickies-wrapper clearfix', style: wrapperStyle },\n\t        _react2.default.createElement(\n\t          ResponsiveReactGridLayout,\n\t          _extends({\n\t            onLayoutChange: this.onLayoutChange,\n\t            onBreakpointChange: this.onBreakpointChange\n\t          }, grid),\n\t          this.state.notes.map(this.renderNote)\n\t        )\n\t      );\n\t    }\n\t  }]);\n\n\t  return _class;\n\t}(_react.Component);\n\n\texports.default = _class;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(6)();\n\t// imports\n\n\n\t// module\n\texports.push([module.id, \".react-stickies-wrapper * {\\n  box-sizing: border-box;\\n}\\n\\n.react-stickies-wrapper::-moz-selection {\\n  text-shadow: none;\\n}\\n\\n.react-stickies-wrapper::selection {\\n  text-shadow: none;\\n}\\n\\n.react-stickies-wrapper .clearfix:before,\\n.react-stickies-wrapper .clearfix:after {\\n  content: \\\" \\\";\\n  display: table;\\n}\\n\\n.react-stickies-wrapper .clearfix:after {\\n  clear: both;\\n}\\n\\n.react-stickies-wrapper .clearfix {\\n  *zoom: 1;\\n}\\n\\n\\n.react-stickies-wrapper {\\n  height: 100%;\\n  width: 100%;\\n  position: relative;\\n}\\n\\n/* Note styles */\\n.react-stickies-wrapper .note-wrap {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  vertical-align: top;\\n  display: inline-block;\\n  font-family: Englebert, Arial;\\n  color: #4b453c;\\n  background: #F7E999;\\n  line-height: 34px;\\n  text-align: center;\\n  box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1), 0 2px 4px 0 rgba(0,0,0,0.1);\\n}\\n.react-stickies-wrapper .note-wrap:before {\\n  display: block;\\n  content: \\\"\\\";\\n  width: 130px;\\n  height: 28px;\\n  border-radius: 6px/18px 0;\\n  position: absolute;\\n}\\n.react-stickies-wrapper .note-wrap.tape:before {\\n  background: rgba(227, 200, 114, 0.4);\\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\\n  top: -13px;\\n  left: 50px;\\n}\\n.react-stickies-wrapper .note-wrap .title {\\n  color: #747474;\\n  text-decoration: none;\\n  -webkit-transition: all 0.4s ease;\\n  transition: all 0.4s ease;\\n  position: absolute;\\n  bottom: 0;\\n  text-align: center;\\n  width: 100%;\\n  left: 0;\\n}\\n.react-stickies-wrapper .note-wrap .title:hover {\\n  color: #000;\\n}\\n\\n.react-stickies-wrapper .note {\\n  background: #F7E999;\\n}\\n\\n.react-stickies-wrapper .close {\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n}\\n.react-stickies-wrapper .close:hover {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n.react-stickies-wrapper .close:before, .close:after {\\n  position: absolute;\\n  left: 15px;\\n  content: ' ';\\n  height: 16px;\\n  width: 2px;\\n  background-color: #333;\\n}\\n.react-stickies-wrapper .close:before {\\n  -webkit-transform: rotate(45deg);\\n          transform: rotate(45deg);\\n}\\n\\n.react-stickies-wrapper .close:after {\\n  -webkit-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n}\\n\\n.react-stickies-wrapper .add {\\n  position: absolute;\\n  left: 10px;\\n  top: 10px;\\n  width: 20px;\\n  height: 20px;\\n  opacity: 0.3;\\n  z-index: 2;\\n}\\n.react-stickies-wrapper .add:hover {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n.react-stickies-wrapper .add:before, .add:after {\\n  position: absolute;\\n  left: 15px;\\n  content: ' ';\\n  height: 16px;\\n  width: 2px;\\n  background-color: #333;\\n}\\n.react-stickies-wrapper .add:before {\\n  -webkit-transform: rotate(0deg);\\n          transform: rotate(0deg);\\n}\\n.react-stickies-wrapper .add:after {\\n  -webkit-transform: rotate(-90deg);\\n          transform: rotate(-90deg);\\n}\\n\\n.react-stickies-wrapper .note-header {\\n  position: relative;\\n  top: 0;\\n  left: 0;\\n  background: rgba(0, 0, 0, 0.1);\\n  height: 34px;\\n}\\n\\n.react-stickies-wrapper .note-body {\\n  padding: 10px;\\n  font-size: 12px;\\n  color: #747474;\\n  line-height: 20px;\\n}\\n\\n.react-stickies-wrapper .note-footer {\\n  color: #747474;\\n  text-decoration: none;\\n  -webkit-transition: all 0.4s ease;\\n  transition: all 0.4s ease;\\n  position: absolute;\\n  bottom: -6px;\\n  text-align: right;\\n  width: 100%;\\n  left: 0;\\n  padding-right: 10px;\\n  font-size: 9px;\\n}\\n\\n.react-stickies-wrapper [contenteditable]:focus {\\n    outline: 0px solid transparent;\\n}\\n\\n\\n\\n/** Grid Styles **/\\n.react-grid-dragHandleExample{\\n  cursor: move; /* fallback if grab cursor is unsupported */\\n  cursor: grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.react-grid-layout {\\n  position: relative;\\n  -webkit-transition: height 200ms ease;\\n  transition: height 200ms ease;\\n}\\n.react-grid-item {\\n  -webkit-transition: all 200ms ease;\\n  transition: all 200ms ease;\\n  -webkit-transition-property: left, top;\\n  transition-property: left, top;\\n}\\n.react-grid-item.cssTransforms {\\n  -webkit-transition-property: -webkit-transform;\\n  transition-property: -webkit-transform;\\n  transition-property: transform;\\n  transition-property: transform, -webkit-transform;\\n}\\n.react-grid-item.resizing {\\n  z-index: 1;\\n  will-change: width, height;\\n}\\n\\n.react-grid-item.react-draggable-dragging {\\n  -webkit-transition: none;\\n  transition: none;\\n  z-index: 3;\\n  will-change: transform;\\n}\\n\\n.react-grid-item.react-grid-placeholder {\\n  background: red;\\n  opacity: 0.2;\\n  -webkit-transition-duration: 100ms;\\n          transition-duration: 100ms;\\n  z-index: 2;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  user-select: none;\\n}\\n\\n.react-grid-item > .react-resizable-handle {\\n  position: absolute;\\n  width: 30px;\\n  height: 30px;\\n  bottom: 0px;\\n  right: 0px;\\n  background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9IlVudGl0bGVkLVBhZ2UlMjAxIiB2aWV3Qm94PSIwIDAgNiA2IiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjZweCIgaGVpZ2h0PSI2cHgiDT4NCTxnIG9wYWNpdHk9IjAuMzAyIj4NCQk8cGF0aCBkPSJNIDYgNiBMIDAgNiBMIDAgNC4yIEwgNCA0LjIgTCA0LjIgNC4yIEwgNC4yIDAgTCA2IDAgTCA2IDYgTCA2IDYgWiIgZmlsbD0iIzAwMDAwMCIvPg0JPC9nPg08L3N2Zz4=');\\n  background-position: bottom right;\\n  padding: 0 3px 3px 0;\\n  background-repeat: no-repeat;\\n  background-origin: content-box;\\n  box-sizing: border-box;\\n  cursor: se-resize;\\n}\\n\", \"\"]);\n\n\t// exports\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tupdate(obj);\r\n\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\t\tvar oldSrc = linkElement.href;\r\n\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\n\t// load the styles\n\tvar content = __webpack_require__(5);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(7)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./styles.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./styles.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"draft-js\");\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"moment\");\n\n/***/ }\n/******/ ]);","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDraggable = require('react-draggable');\n\nvar _reactResizable = require('react-resizable');\n\nvar _utils = require('./utils');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * An individual item within a ReactGridLayout.\n */\nvar GridItem = function (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  function GridItem() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      resizing: null,\n      dragging: null,\n      className: ''\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  // Helper for generating column width\n  GridItem.prototype.calcColWidth = function calcColWidth() {\n    var _props = this.props,\n        margin = _props.margin,\n        containerPadding = _props.containerPadding,\n        containerWidth = _props.containerWidth,\n        cols = _props.cols;\n\n    return (containerWidth - margin[0] * (cols - 1) - containerPadding[0] * 2) / cols;\n  };\n\n  /**\n   * Return position on the page given an x, y, w, h.\n   * left, top, width, height are all in pixels.\n   * @param  {Number}  x             X coordinate in grid units.\n   * @param  {Number}  y             Y coordinate in grid units.\n   * @param  {Number}  w             W coordinate in grid units.\n   * @param  {Number}  h             H coordinate in grid units.\n   * @return {Object}                Object containing coords.\n   */\n\n\n  GridItem.prototype.calcPosition = function calcPosition(x, y, w, h, state) {\n    var _props2 = this.props,\n        margin = _props2.margin,\n        containerPadding = _props2.containerPadding,\n        rowHeight = _props2.rowHeight;\n\n    var colWidth = this.calcColWidth();\n\n    var out = {\n      left: Math.round((colWidth + margin[0]) * x + containerPadding[0]),\n      top: Math.round((rowHeight + margin[1]) * y + containerPadding[1]),\n      // 0 * Infinity === NaN, which causes problems with resize constraints;\n      // Fix this if it occurs.\n      // Note we do it here rather than later because Math.round(Infinity) causes deopt\n      width: w === Infinity ? w : Math.round(colWidth * w + Math.max(0, w - 1) * margin[0]),\n      height: h === Infinity ? h : Math.round(rowHeight * h + Math.max(0, h - 1) * margin[1])\n    };\n\n    if (state && state.resizing) {\n      out.width = Math.round(state.resizing.width);\n      out.height = Math.round(state.resizing.height);\n    }\n\n    if (state && state.dragging) {\n      out.top = Math.round(state.dragging.top);\n      out.left = Math.round(state.dragging.left);\n    }\n\n    return out;\n  };\n\n  /**\n   * Translate x and y coordinates from pixels to grid units.\n   * @param  {Number} top  Top position (relative to parent) in pixels.\n   * @param  {Number} left Left position (relative to parent) in pixels.\n   * @return {Object} x and y in grid units.\n   */\n\n\n  GridItem.prototype.calcXY = function calcXY(top, left) {\n    var _props3 = this.props,\n        margin = _props3.margin,\n        cols = _props3.cols,\n        rowHeight = _props3.rowHeight,\n        w = _props3.w,\n        h = _props3.h,\n        maxRows = _props3.maxRows;\n\n    var colWidth = this.calcColWidth();\n\n    // left = colWidth * x + margin * (x + 1)\n    // l = cx + m(x+1)\n    // l = cx + mx + m\n    // l - m = cx + mx\n    // l - m = x(c + m)\n    // (l - m) / (c + m) = x\n    // x = (left - margin) / (coldWidth + margin)\n    var x = Math.round((left - margin[0]) / (colWidth + margin[0]));\n    var y = Math.round((top - margin[1]) / (rowHeight + margin[1]));\n\n    // Capping\n    x = Math.max(Math.min(x, cols - w), 0);\n    y = Math.max(Math.min(y, maxRows - h), 0);\n\n    return { x: x, y: y };\n  };\n\n  /**\n   * Given a height and width in pixel values, calculate grid units.\n   * @param  {Number} height Height in pixels.\n   * @param  {Number} width  Width in pixels.\n   * @return {Object} w, h as grid units.\n   */\n\n\n  GridItem.prototype.calcWH = function calcWH(_ref) {\n    var height = _ref.height,\n        width = _ref.width;\n    var _props4 = this.props,\n        margin = _props4.margin,\n        maxRows = _props4.maxRows,\n        cols = _props4.cols,\n        rowHeight = _props4.rowHeight,\n        x = _props4.x,\n        y = _props4.y;\n\n    var colWidth = this.calcColWidth();\n\n    // width = colWidth * w - (margin * (w - 1))\n    // ...\n    // w = (width + margin) / (colWidth + margin)\n    var w = Math.round((width + margin[0]) / (colWidth + margin[0]));\n    var h = Math.round((height + margin[1]) / (rowHeight + margin[1]));\n\n    // Capping\n    w = Math.max(Math.min(w, cols - x), 0);\n    h = Math.max(Math.min(h, maxRows - y), 0);\n    return { w: w, h: h };\n  };\n\n  /**\n   * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n   * well when server rendering, and the only way to do that properly is to use percentage width/left because\n   * we don't know exactly what the browser viewport is.\n   * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n   * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n   *\n   * @param  {Object} pos Position object with width, height, left, top.\n   * @return {Object}     Style object.\n   */\n\n\n  GridItem.prototype.createStyle = function createStyle(pos) {\n    var _props5 = this.props,\n        usePercentages = _props5.usePercentages,\n        containerWidth = _props5.containerWidth,\n        useCSSTransforms = _props5.useCSSTransforms;\n\n\n    var style = void 0;\n    // CSS Transforms support (default)\n    if (useCSSTransforms) {\n      style = (0, _utils.setTransform)(pos);\n    }\n    // top,left (slow)\n    else {\n        style = (0, _utils.setTopLeft)(pos);\n\n        // This is used for server rendering.\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n    return style;\n  };\n\n  /**\n   * Mix a Draggable instance into a child.\n   * @param  {Element} child    Child element.\n   * @return {Element}          Child wrapped in Draggable.\n   */\n\n\n  GridItem.prototype.mixinDraggable = function mixinDraggable(child) {\n    return _react2.default.createElement(\n      _reactDraggable.DraggableCore,\n      {\n        onStart: this.onDragHandler('onDragStart'),\n        onDrag: this.onDragHandler('onDrag'),\n        onStop: this.onDragHandler('onDragStop'),\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\") },\n      child\n    );\n  };\n\n  /**\n   * Mix a Resizable instance into a child.\n   * @param  {Element} child    Child element.\n   * @param  {Object} position  Position object (pixel values)\n   * @return {Element}          Child wrapped in Resizable.\n   */\n\n\n  GridItem.prototype.mixinResizable = function mixinResizable(child, position) {\n    var _props6 = this.props,\n        cols = _props6.cols,\n        x = _props6.x,\n        minW = _props6.minW,\n        minH = _props6.minH,\n        maxW = _props6.maxW,\n        maxH = _props6.maxH;\n\n    // This is the max possible width - doesn't go to infinity because of the width of the window\n\n    var maxWidth = this.calcPosition(0, 0, cols - x, 0).width;\n\n    // Calculate min/max constraints using our min & maxes\n    var mins = this.calcPosition(0, 0, minW, minH);\n    var maxes = this.calcPosition(0, 0, maxW, maxH);\n    var minConstraints = [mins.width, mins.height];\n    var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n    return _react2.default.createElement(\n      _reactResizable.Resizable,\n      {\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeHandler('onResizeStop'),\n        onResizeStart: this.onResizeHandler('onResizeStart'),\n        onResize: this.onResizeHandler('onResize') },\n      child\n    );\n  };\n\n  /**\n   * Wrapper around drag events to provide more useful data.\n   * All drag events call the function with the given handler name,\n   * with the signature (index, x, y).\n   *\n   * @param  {String} handlerName Handler name to wrap.\n   * @return {Function}           Handler function.\n   */\n\n\n  GridItem.prototype.onDragHandler = function onDragHandler(handlerName) {\n    var _this2 = this;\n\n    return function (e, _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n\n      if (!_this2.props[handlerName]) return;\n\n      var newPosition = { top: 0, left: 0 };\n\n      // Get new XY\n      switch (handlerName) {\n        case 'onDragStart':\n          {\n            // ToDo this wont work on nested parents\n            var parentRect = node.offsetParent.getBoundingClientRect();\n            var clientRect = node.getBoundingClientRect();\n            newPosition.left = clientRect.left - parentRect.left + node.offsetParent.scrollLeft;\n            newPosition.top = clientRect.top - parentRect.top + node.offsetParent.scrollTop;\n            _this2.setState({ dragging: newPosition });\n            break;\n          }\n        case 'onDrag':\n          if (!_this2.state.dragging) throw new Error('onDrag called before onDragStart.');\n          newPosition.left = _this2.state.dragging.left + deltaX;\n          newPosition.top = _this2.state.dragging.top + deltaY;\n          _this2.setState({ dragging: newPosition });\n          break;\n        case 'onDragStop':\n          if (!_this2.state.dragging) throw new Error('onDragEnd called before onDragStart.');\n          newPosition.left = _this2.state.dragging.left;\n          newPosition.top = _this2.state.dragging.top;\n          _this2.setState({ dragging: null });\n          break;\n        default:\n          throw new Error('onDragHandler called with unrecognized handlerName: ' + handlerName);\n      }\n\n      var _calcXY = _this2.calcXY(newPosition.top, newPosition.left),\n          x = _calcXY.x,\n          y = _calcXY.y;\n\n      _this2.props[handlerName](_this2.props.i, x, y, { e: e, node: node, newPosition: newPosition });\n    };\n  };\n\n  /**\n   * Wrapper around drag events to provide more useful data.\n   * All drag events call the function with the given handler name,\n   * with the signature (index, x, y).\n   *\n   * @param  {String} handlerName Handler name to wrap.\n   * @return {Function}           Handler function.\n   */\n\n\n  GridItem.prototype.onResizeHandler = function onResizeHandler(handlerName) {\n    var _this3 = this;\n\n    return function (e, _ref3) {\n      var node = _ref3.node,\n          size = _ref3.size;\n\n      if (!_this3.props[handlerName]) return;\n      var _props7 = _this3.props,\n          cols = _props7.cols,\n          x = _props7.x,\n          i = _props7.i,\n          maxW = _props7.maxW,\n          minW = _props7.minW,\n          maxH = _props7.maxH,\n          minH = _props7.minH;\n\n      // Get new XY\n\n      var _calcWH = _this3.calcWH(size),\n          w = _calcWH.w,\n          h = _calcWH.h;\n\n      // Cap w at numCols\n\n\n      w = Math.min(w, cols - x);\n      // Ensure w is at least 1\n      w = Math.max(w, 1);\n\n      // Min/max capping\n      w = Math.max(Math.min(w, maxW), minW);\n      h = Math.max(Math.min(h, maxH), minH);\n\n      _this3.setState({ resizing: handlerName === 'onResizeStop' ? null : size });\n\n      _this3.props[handlerName](i, w, h, { e: e, node: node, size: size });\n    };\n  };\n\n  GridItem.prototype.render = function render() {\n    var _props8 = this.props,\n        x = _props8.x,\n        y = _props8.y,\n        w = _props8.w,\n        h = _props8.h,\n        isDraggable = _props8.isDraggable,\n        isResizable = _props8.isResizable,\n        useCSSTransforms = _props8.useCSSTransforms;\n\n\n    var pos = this.calcPosition(x, y, w, h, this.state);\n    var child = _react2.default.Children.only(this.props.children);\n\n    // Create the child element. We clone the existing element but modify its className and style.\n    var newChild = _react2.default.cloneElement(child, {\n      className: (0, _classnames2.default)('react-grid-item', child.props.className, this.props.className, {\n        static: this.props.static,\n        resizing: Boolean(this.state.resizing),\n        'react-draggable': isDraggable,\n        'react-draggable-dragging': Boolean(this.state.dragging),\n        cssTransforms: useCSSTransforms\n      }),\n      // We can set the width and height on the child, but unfortunately we can't set the position.\n      style: _extends({}, this.props.style, child.props.style, this.createStyle(pos))\n    });\n\n    // Resizable support. This is usually on but the user can toggle it off.\n    if (isResizable) newChild = this.mixinResizable(newChild, pos);\n\n    // Draggable support. This is always on, except for with placeholders.\n    if (isDraggable) newChild = this.mixinDraggable(newChild);\n\n    return newChild;\n  };\n\n  return GridItem;\n}(_react2.default.Component);\n\nGridItem.propTypes = {\n  // Children must be only a single element\n  children: _propTypes2.default.element,\n\n  // General grid attributes\n  cols: _propTypes2.default.number.isRequired,\n  containerWidth: _propTypes2.default.number.isRequired,\n  rowHeight: _propTypes2.default.number.isRequired,\n  margin: _propTypes2.default.array.isRequired,\n  maxRows: _propTypes2.default.number.isRequired,\n  containerPadding: _propTypes2.default.array.isRequired,\n\n  // These are all in grid units\n  x: _propTypes2.default.number.isRequired,\n  y: _propTypes2.default.number.isRequired,\n  w: _propTypes2.default.number.isRequired,\n  h: _propTypes2.default.number.isRequired,\n\n  // All optional\n  minW: function minW(props, propName) {\n    var value = props[propName];\n    if (typeof value !== 'number') return new Error('minWidth not Number');\n    if (value > props.w || value > props.maxW) return new Error('minWidth larger than item width/maxWidth');\n  },\n\n  maxW: function maxW(props, propName) {\n    var value = props[propName];\n    if (typeof value !== 'number') return new Error('maxWidth not Number');\n    if (value < props.w || value < props.minW) return new Error('maxWidth smaller than item width/minWidth');\n  },\n\n  minH: function minH(props, propName) {\n    var value = props[propName];\n    if (typeof value !== 'number') return new Error('minHeight not Number');\n    if (value > props.h || value > props.maxH) return new Error('minHeight larger than item height/maxHeight');\n  },\n\n  maxH: function maxH(props, propName) {\n    var value = props[propName];\n    if (typeof value !== 'number') return new Error('maxHeight not Number');\n    if (value < props.h || value < props.minH) return new Error('maxHeight smaller than item height/minHeight');\n  },\n\n  // ID is nice to have for callbacks\n  i: _propTypes2.default.string.isRequired,\n\n  // Functions\n  onDragStop: _propTypes2.default.func,\n  onDragStart: _propTypes2.default.func,\n  onDrag: _propTypes2.default.func,\n  onResizeStop: _propTypes2.default.func,\n  onResizeStart: _propTypes2.default.func,\n  onResize: _propTypes2.default.func,\n\n  // Flags\n  isDraggable: _propTypes2.default.bool.isRequired,\n  isResizable: _propTypes2.default.bool.isRequired,\n  static: _propTypes2.default.bool,\n\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes2.default.bool.isRequired,\n\n  // Others\n  className: _propTypes2.default.string,\n  // Selector for draggable handle\n  handle: _propTypes2.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes2.default.string\n};\nGridItem.defaultProps = {\n  className: '',\n  cancel: '',\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity\n};\nexports.default = GridItem;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.isequal');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _utils = require('./utils');\n\nvar _GridItem = require('./GridItem');\n\nvar _GridItem2 = _interopRequireDefault(_GridItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar noop = function noop() {};\n\n// Types\n\n// End Types\n\n/**\n * A reactive, fluid grid layout with draggable, resizable components.\n */\n\nvar ReactGridLayout = function (_React$Component) {\n  _inherits(ReactGridLayout, _React$Component);\n\n  // TODO publish internal ReactClass displayName transform\n  function ReactGridLayout(props, context) {\n    _classCallCheck(this, ReactGridLayout);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props, context));\n\n    _initialiseProps.call(_this);\n\n    (0, _utils.autoBindHandlers)(_this, ['onDragStart', 'onDrag', 'onDragStop', 'onResizeStart', 'onResize', 'onResizeStop']);\n    return _this;\n  }\n\n  ReactGridLayout.prototype.componentDidMount = function componentDidMount() {\n    this.setState({ mounted: true });\n    // Possibly call back with layout on mount. This should be done after correcting the layout width\n    // to ensure we don't rerender with the wrong width.\n    this.onLayoutMaybeChanged(this.state.layout, this.props.layout);\n  };\n\n  ReactGridLayout.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var newLayoutBase = void 0;\n    // Allow parent to set layout directly.\n    if (!(0, _lodash2.default)(nextProps.layout, this.props.layout)) {\n      newLayoutBase = nextProps.layout;\n    }\n\n    // If children change, also regenerate the layout. Use our state\n    // as the base in case because it may be more up to date than\n    // what is in props.\n    else if (!(0, _utils.childrenEqual)(this.props.children, nextProps.children)) {\n        newLayoutBase = this.state.layout;\n      }\n\n    // We need to regenerate the layout.\n    if (newLayoutBase) {\n      var newLayout = (0, _utils.synchronizeLayoutWithChildren)(newLayoutBase, nextProps.children, nextProps.cols, nextProps.verticalCompact);\n      var _oldLayout = this.state.layout;\n      this.setState({ layout: newLayout });\n      this.onLayoutMaybeChanged(newLayout, _oldLayout);\n    }\n  };\n\n  /**\n   * Calculates a pixel value for the container.\n   * @return {String} Container height in pixels.\n   */\n\n\n  ReactGridLayout.prototype.containerHeight = function containerHeight() {\n    if (!this.props.autoSize) return;\n    var nbRow = (0, _utils.bottom)(this.state.layout);\n    var containerPaddingY = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];\n    return nbRow * this.props.rowHeight + (nbRow - 1) * this.props.margin[1] + containerPaddingY * 2 + 'px';\n  };\n\n  /**\n   * When dragging starts\n   * @param {String} i Id of the child\n   * @param {Number} x X position of the move\n   * @param {Number} y Y position of the move\n   * @param {Event} e The mousedown event\n   * @param {Element} node The current dragging DOM element\n   */\n\n\n  ReactGridLayout.prototype.onDragStart = function onDragStart(i, x, y, _ref) {\n    var e = _ref.e,\n        node = _ref.node;\n    var layout = this.state.layout;\n\n    var l = (0, _utils.getLayoutItem)(layout, i);\n    if (!l) return;\n\n    this.setState({ oldDragItem: (0, _utils.cloneLayoutItem)(l), oldLayout: this.state.layout });\n\n    this.props.onDragStart(layout, l, l, null, e, node);\n  };\n\n  /**\n   * Each drag movement create a new dragelement and move the element to the dragged location\n   * @param {String} i Id of the child\n   * @param {Number} x X position of the move\n   * @param {Number} y Y position of the move\n   * @param {Event} e The mousedown event\n   * @param {Element} node The current dragging DOM element\n   */\n\n\n  ReactGridLayout.prototype.onDrag = function onDrag(i, x, y, _ref2) {\n    var e = _ref2.e,\n        node = _ref2.node;\n    var oldDragItem = this.state.oldDragItem;\n    var layout = this.state.layout;\n\n    var l = (0, _utils.getLayoutItem)(layout, i);\n    if (!l) return;\n\n    // Create placeholder (display only)\n    var placeholder = {\n      w: l.w, h: l.h, x: l.x, y: l.y, placeholder: true, i: i\n    };\n\n    // Move the element to the dragged location.\n    layout = (0, _utils.moveElement)(layout, l, x, y, true /* isUserAction */);\n\n    this.props.onDrag(layout, oldDragItem, l, placeholder, e, node);\n\n    this.setState({\n      layout: (0, _utils.compact)(layout, this.props.verticalCompact),\n      activeDrag: placeholder\n    });\n  };\n\n  /**\n   * When dragging stops, figure out which position the element is closest to and update its x and y.\n   * @param  {String} i Index of the child.\n   * @param {Number} x X position of the move\n   * @param {Number} y Y position of the move\n   * @param {Event} e The mousedown event\n   * @param {Element} node The current dragging DOM element\n   */\n\n\n  ReactGridLayout.prototype.onDragStop = function onDragStop(i, x, y, _ref3) {\n    var e = _ref3.e,\n        node = _ref3.node;\n    var oldDragItem = this.state.oldDragItem;\n    var layout = this.state.layout;\n\n    var l = (0, _utils.getLayoutItem)(layout, i);\n    if (!l) return;\n\n    // Move the element here\n    layout = (0, _utils.moveElement)(layout, l, x, y, true /* isUserAction */);\n\n    this.props.onDragStop(layout, oldDragItem, l, null, e, node);\n\n    // Set state\n    var newLayout = (0, _utils.compact)(layout, this.props.verticalCompact);\n    var oldLayout = this.state.oldLayout;\n\n    this.setState({\n      activeDrag: null,\n      layout: newLayout,\n      oldDragItem: null,\n      oldLayout: null\n    });\n\n    this.onLayoutMaybeChanged(newLayout, oldLayout);\n  };\n\n  ReactGridLayout.prototype.onLayoutMaybeChanged = function onLayoutMaybeChanged(newLayout, oldLayout) {\n    if (!oldLayout) oldLayout = this.state.layout;\n    if (!(0, _lodash2.default)(oldLayout, newLayout)) {\n      this.props.onLayoutChange(newLayout);\n    }\n  };\n\n  ReactGridLayout.prototype.onResizeStart = function onResizeStart(i, w, h, _ref4) {\n    var e = _ref4.e,\n        node = _ref4.node;\n    var layout = this.state.layout;\n\n    var l = (0, _utils.getLayoutItem)(layout, i);\n    if (!l) return;\n\n    this.setState({\n      oldResizeItem: (0, _utils.cloneLayoutItem)(l),\n      oldLayout: this.state.layout\n    });\n\n    this.props.onResizeStart(layout, l, l, null, e, node);\n  };\n\n  ReactGridLayout.prototype.onResize = function onResize(i, w, h, _ref5) {\n    var e = _ref5.e,\n        node = _ref5.node;\n    var _state = this.state,\n        layout = _state.layout,\n        oldResizeItem = _state.oldResizeItem;\n\n    var l = (0, _utils.getLayoutItem)(layout, i);\n    if (!l) return;\n\n    // Set new width and height.\n    l.w = w;\n    l.h = h;\n\n    // Create placeholder element (display only)\n    var placeholder = {\n      w: w, h: h, x: l.x, y: l.y, static: true, i: i\n    };\n\n    this.props.onResize(layout, oldResizeItem, l, placeholder, e, node);\n\n    // Re-compact the layout and set the drag placeholder.\n    this.setState({\n      layout: (0, _utils.compact)(layout, this.props.verticalCompact),\n      activeDrag: placeholder\n    });\n  };\n\n  ReactGridLayout.prototype.onResizeStop = function onResizeStop(i, w, h, _ref6) {\n    var e = _ref6.e,\n        node = _ref6.node;\n    var _state2 = this.state,\n        layout = _state2.layout,\n        oldResizeItem = _state2.oldResizeItem;\n\n    var l = (0, _utils.getLayoutItem)(layout, i);\n\n    this.props.onResizeStop(layout, oldResizeItem, l, null, e, node);\n\n    // Set state\n    var newLayout = (0, _utils.compact)(layout, this.props.verticalCompact);\n    var oldLayout = this.state.oldLayout;\n\n    this.setState({\n      activeDrag: null,\n      layout: newLayout,\n      oldResizeItem: null,\n      oldLayout: null\n    });\n\n    this.onLayoutMaybeChanged(newLayout, oldLayout);\n  };\n\n  /**\n   * Create a placeholder object.\n   * @return {Element} Placeholder div.\n   */\n\n\n  ReactGridLayout.prototype.placeholder = function placeholder() {\n    var activeDrag = this.state.activeDrag;\n\n    if (!activeDrag) return null;\n    var _props = this.props,\n        width = _props.width,\n        cols = _props.cols,\n        margin = _props.margin,\n        containerPadding = _props.containerPadding,\n        rowHeight = _props.rowHeight,\n        maxRows = _props.maxRows,\n        useCSSTransforms = _props.useCSSTransforms;\n\n    // {...this.state.activeDrag} is pretty slow, actually\n\n    return _react2.default.createElement(\n      _GridItem2.default,\n      {\n        w: activeDrag.w,\n        h: activeDrag.h,\n        x: activeDrag.x,\n        y: activeDrag.y,\n        i: activeDrag.i,\n        className: 'react-grid-placeholder',\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        isDraggable: false,\n        isResizable: false,\n        useCSSTransforms: useCSSTransforms },\n      _react2.default.createElement('div', null)\n    );\n  };\n\n  /**\n   * Given a grid item, set its style attributes & surround in a <Draggable>.\n   * @param  {Element} child React element.\n   * @return {Element}       Element wrapped in draggable and properly placed.\n   */\n\n\n  ReactGridLayout.prototype.processGridItem = function processGridItem(child) {\n    if (!child.key) return;\n    var l = (0, _utils.getLayoutItem)(this.state.layout, child.key);\n    if (!l) return null;\n    var _props2 = this.props,\n        width = _props2.width,\n        cols = _props2.cols,\n        margin = _props2.margin,\n        containerPadding = _props2.containerPadding,\n        rowHeight = _props2.rowHeight,\n        maxRows = _props2.maxRows,\n        isDraggable = _props2.isDraggable,\n        isResizable = _props2.isResizable,\n        useCSSTransforms = _props2.useCSSTransforms,\n        draggableCancel = _props2.draggableCancel,\n        draggableHandle = _props2.draggableHandle;\n    var mounted = this.state.mounted;\n\n    // Parse 'static'. Any properties defined directly on the grid item will take precedence.\n\n    var draggable = Boolean(!l.static && isDraggable && (l.isDraggable || l.isDraggable == null));\n    var resizable = Boolean(!l.static && isResizable && (l.isResizable || l.isResizable == null));\n\n    return _react2.default.createElement(\n      _GridItem2.default,\n      {\n        containerWidth: width,\n        cols: cols,\n        margin: margin,\n        containerPadding: containerPadding || margin,\n        maxRows: maxRows,\n        rowHeight: rowHeight,\n        cancel: draggableCancel,\n        handle: draggableHandle,\n        onDragStop: this.onDragStop,\n        onDragStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        onResizeStop: this.onResizeStop,\n        isDraggable: draggable,\n        isResizable: resizable,\n        useCSSTransforms: useCSSTransforms && mounted,\n        usePercentages: !mounted,\n\n        w: l.w,\n        h: l.h,\n        x: l.x,\n        y: l.y,\n        i: l.i,\n        minH: l.minH,\n        minW: l.minW,\n        maxH: l.maxH,\n        maxW: l.maxW,\n        'static': l.static\n      },\n      child\n    );\n  };\n\n  ReactGridLayout.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props3 = this.props,\n        className = _props3.className,\n        style = _props3.style;\n\n\n    var mergedStyle = _extends({\n      height: this.containerHeight()\n    }, style);\n\n    return _react2.default.createElement(\n      'div',\n      { className: (0, _classnames2.default)('react-grid-layout', className), style: mergedStyle },\n      _react2.default.Children.map(this.props.children, function (child) {\n        return _this2.processGridItem(child);\n      }),\n      this.placeholder()\n    );\n  };\n\n  return ReactGridLayout;\n}(_react2.default.Component);\n\nReactGridLayout.displayName = \"ReactGridLayout\";\nReactGridLayout.propTypes = {\n  //\n  // Basic props\n  //\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object,\n\n  // This can be set explicitly. If it is not set, it will automatically\n  // be set to the container width. Note that resizes will *not* cause this to adjust.\n  // If you need that behavior, use WidthProvider.\n  width: _propTypes2.default.number,\n\n  // If true, the container height swells and contracts to fit contents\n  autoSize: _propTypes2.default.bool,\n  // # of cols.\n  cols: _propTypes2.default.number,\n\n  // A selector that will not be draggable.\n  draggableCancel: _propTypes2.default.string,\n  // A selector for the draggable handler\n  draggableHandle: _propTypes2.default.string,\n\n  // If true, the layout will compact vertically\n  verticalCompact: _propTypes2.default.bool,\n\n  // layout is an array of object with the format:\n  // {x: Number, y: Number, w: Number, h: Number, i: String}\n  layout: function layout(props) {\n    var layout = props.layout;\n    // I hope you're setting the data-grid property on the grid items\n    if (layout === undefined) return;\n    (0, _utils.validateLayout)(layout, 'layout');\n  },\n\n  //\n  // Grid Dimensions\n  //\n\n  // Margin between items [x, y] in px\n  margin: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  // Padding inside the container [x, y] in px\n  containerPadding: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  // Rows have a static height, but you can change this based on breakpoints if you like\n  rowHeight: _propTypes2.default.number,\n  // Default Infinity, but you can specify a max here if you like.\n  // Note that this isn't fully fleshed out and won't error if you specify a layout that\n  // extends beyond the row capacity. It will, however, not allow users to drag/resize\n  // an item past the barrier. They can push items beyond the barrier, though.\n  // Intentionally not documented for this reason.\n  maxRows: _propTypes2.default.number,\n\n  //\n  // Flags\n  //\n  isDraggable: _propTypes2.default.bool,\n  isResizable: _propTypes2.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes2.default.bool,\n\n  //\n  // Callbacks\n  //\n\n  // Callback so you can save the layout. Calls after each drag & resize stops.\n  onLayoutChange: _propTypes2.default.func,\n\n  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e).\n  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.\n  onDragStart: _propTypes2.default.func,\n  // Calls on each drag movement.\n  onDrag: _propTypes2.default.func,\n  // Calls when drag is complete.\n  onDragStop: _propTypes2.default.func,\n  //Calls when resize starts.\n  onResizeStart: _propTypes2.default.func,\n  // Calls when resize movement happens.\n  onResize: _propTypes2.default.func,\n  // Calls when resize is complete.\n  onResizeStop: _propTypes2.default.func,\n\n  //\n  // Other validations\n  //\n\n  // Children must not have duplicate keys.\n  children: function children(props, propName, _componentName) {\n    var children = props[propName];\n\n    // Check children keys for duplicates. Throw if found.\n    var keys = {};\n    _react2.default.Children.forEach(children, function (child) {\n      if (keys[child.key]) {\n        throw new Error(\"Duplicate child key found! This will cause problems in ReactGridLayout.\");\n      }\n      keys[child.key] = true;\n    });\n  }\n};\nReactGridLayout.defaultProps = {\n  autoSize: true,\n  cols: 12,\n  className: '',\n  rowHeight: 150,\n  maxRows: Infinity, // infinite vertical growth\n  layout: [],\n  margin: [10, 10],\n  isDraggable: true,\n  isResizable: true,\n  useCSSTransforms: true,\n  verticalCompact: true,\n  onLayoutChange: noop,\n  onDragStart: noop,\n  onDrag: noop,\n  onDragStop: noop,\n  onResizeStart: noop,\n  onResize: noop,\n  onResizeStop: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  this.state = {\n    activeDrag: null,\n    layout: (0, _utils.synchronizeLayoutWithChildren)(this.props.layout, this.props.children, this.props.cols, this.props.verticalCompact),\n    mounted: false,\n    oldDragItem: null,\n    oldLayout: null,\n    oldResizeItem: null\n  };\n};\n\nexports.default = ReactGridLayout;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash.isequal');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _utils = require('./utils');\n\nvar _responsiveUtils = require('./responsiveUtils');\n\nvar _ReactGridLayout = require('./ReactGridLayout');\n\nvar _ReactGridLayout2 = _interopRequireDefault(_ReactGridLayout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar noop = function noop() {};\nvar type = function type(obj) {\n  return Object.prototype.toString.call(obj);\n};\n\nvar ResponsiveReactGridLayout = function (_React$Component) {\n  _inherits(ResponsiveReactGridLayout, _React$Component);\n\n  function ResponsiveReactGridLayout() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ResponsiveReactGridLayout);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = _this.generateInitialState(), _this.onLayoutChange = function (layout) {\n      var _extends2;\n\n      _this.props.onLayoutChange(layout, _extends({}, _this.props.layouts, (_extends2 = {}, _extends2[_this.state.breakpoint] = layout, _extends2)));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  // This should only include propTypes needed in this code; RGL itself\n  // will do validation of the rest props passed to it.\n\n\n  ResponsiveReactGridLayout.prototype.generateInitialState = function generateInitialState() {\n    var _props = this.props,\n        width = _props.width,\n        breakpoints = _props.breakpoints,\n        layouts = _props.layouts,\n        verticalCompact = _props.verticalCompact,\n        cols = _props.cols;\n\n    var breakpoint = (0, _responsiveUtils.getBreakpointFromWidth)(breakpoints, width);\n    var colNo = (0, _responsiveUtils.getColsFromBreakpoint)(breakpoint, cols);\n    // Get the initial layout. This can tricky; we try to generate one however possible if one doesn't exist\n    // for this layout.\n    var initialLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(layouts, breakpoints, breakpoint, breakpoint, colNo, verticalCompact);\n\n    return {\n      layout: initialLayout,\n      breakpoint: breakpoint,\n      cols: colNo\n    };\n  };\n\n  ResponsiveReactGridLayout.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n\n    // Allow parent to set width or breakpoint directly.\n    if (nextProps.width != this.props.width || nextProps.breakpoint !== this.props.breakpoint || !(0, _lodash2.default)(nextProps.breakpoints, this.props.breakpoints) || !(0, _lodash2.default)(nextProps.cols, this.props.cols)) {\n      this.onWidthChange(nextProps);\n    }\n\n    // Allow parent to set layouts directly.\n    else if (!(0, _lodash2.default)(nextProps.layouts, this.props.layouts)) {\n        var _state = this.state,\n            _breakpoint = _state.breakpoint,\n            _cols = _state.cols;\n\n        // Since we're setting an entirely new layout object, we must generate a new responsive layout\n        // if one does not exist.\n\n        var newLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(nextProps.layouts, nextProps.breakpoints, _breakpoint, _breakpoint, _cols, nextProps.verticalCompact);\n        this.setState({ layout: newLayout });\n      }\n  };\n\n  // wrap layouts so we do not need to pass layouts to child\n\n\n  /**\n   * When the width changes work through breakpoints and reset state with the new width & breakpoint.\n   * Width changes are necessary to figure out the widget widths.\n   */\n  ResponsiveReactGridLayout.prototype.onWidthChange = function onWidthChange(nextProps) {\n    var breakpoints = nextProps.breakpoints,\n        cols = nextProps.cols,\n        layouts = nextProps.layouts,\n        verticalCompact = nextProps.verticalCompact;\n\n    var newBreakpoint = nextProps.breakpoint || (0, _responsiveUtils.getBreakpointFromWidth)(nextProps.breakpoints, nextProps.width);\n\n    var lastBreakpoint = this.state.breakpoint;\n\n    // Breakpoint change\n    if (lastBreakpoint !== newBreakpoint || this.props.breakpoints !== breakpoints || this.props.cols !== cols) {\n      // Preserve the current layout if the current breakpoint is not present in the next layouts.\n      if (!(lastBreakpoint in layouts)) layouts[lastBreakpoint] = (0, _utils.cloneLayout)(this.state.layout);\n\n      // Find or generate a new layout.\n      var newCols = (0, _responsiveUtils.getColsFromBreakpoint)(newBreakpoint, cols);\n      var _layout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(layouts, breakpoints, newBreakpoint, lastBreakpoint, newCols, verticalCompact);\n\n      // This adds missing items.\n      _layout = (0, _utils.synchronizeLayoutWithChildren)(_layout, nextProps.children, newCols, verticalCompact);\n\n      // Store the new layout.\n      layouts[newBreakpoint] = _layout;\n\n      // callbacks\n      this.props.onLayoutChange(_layout, layouts);\n      this.props.onBreakpointChange(newBreakpoint, newCols);\n      this.props.onWidthChange(nextProps.width, nextProps.margin, newCols, nextProps.containerPadding);\n\n      this.setState({ breakpoint: newBreakpoint, layout: _layout, cols: newCols });\n    }\n  };\n\n  ResponsiveReactGridLayout.prototype.render = function render() {\n    // eslint-disable-next-line no-unused-vars\n    var _props2 = this.props,\n        breakpoint = _props2.breakpoint,\n        breakpoints = _props2.breakpoints,\n        cols = _props2.cols,\n        layouts = _props2.layouts,\n        onBreakpointChange = _props2.onBreakpointChange,\n        onLayoutChange = _props2.onLayoutChange,\n        onWidthChange = _props2.onWidthChange,\n        other = _objectWithoutProperties(_props2, ['breakpoint', 'breakpoints', 'cols', 'layouts', 'onBreakpointChange', 'onLayoutChange', 'onWidthChange']);\n\n    return _react2.default.createElement(_ReactGridLayout2.default, _extends({}, other, {\n      onLayoutChange: this.onLayoutChange,\n      layout: this.state.layout,\n      cols: this.state.cols\n    }));\n  };\n\n  return ResponsiveReactGridLayout;\n}(_react2.default.Component);\n\nResponsiveReactGridLayout.propTypes = {\n\n  //\n  // Basic props\n  //\n\n  // Optional, but if you are managing width yourself you may want to set the breakpoint\n  // yourself as well.\n  breakpoint: _propTypes2.default.string,\n\n  // {name: pxVal}, e.g. {lg: 1200, md: 996, sm: 768, xs: 480}\n  breakpoints: _propTypes2.default.object,\n\n  // # of cols. This is a breakpoint -> cols map\n  cols: _propTypes2.default.object,\n\n  // layouts is an object mapping breakpoints to layouts.\n  // e.g. {lg: Layout, md: Layout, ...}\n  layouts: function layouts(props, propName) {\n    if (type(props[propName]) !== '[object Object]') {\n      throw new Error('Layout property must be an object. Received: ' + type(props[propName]));\n    }\n    Object.keys(props[propName]).forEach(function (key) {\n      if (!(key in props.breakpoints)) {\n        throw new Error('Each key in layouts must align with a key in breakpoints.');\n      }\n      (0, _utils.validateLayout)(props.layouts[key], 'layouts.' + key);\n    });\n  },\n\n\n  // The width of this component.\n  // Required in this propTypes stanza because generateInitialState() will fail without it.\n  width: _propTypes2.default.number.isRequired,\n\n  //\n  // Callbacks\n  //\n\n  // Calls back with breakpoint and new # cols\n  onBreakpointChange: _propTypes2.default.func,\n\n  // Callback so you can save the layout.\n  // Calls back with (currentLayout, allLayouts). allLayouts are keyed by breakpoint.\n  onLayoutChange: _propTypes2.default.func,\n\n  // Calls back with (containerWidth, margin, cols, containerPadding)\n  onWidthChange: _propTypes2.default.func\n};\nResponsiveReactGridLayout.defaultProps = {\n  breakpoints: { lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 },\n  cols: { lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 },\n  layouts: {},\n  onBreakpointChange: noop,\n  onLayoutChange: noop,\n  onWidthChange: noop\n};\nexports.default = ResponsiveReactGridLayout;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * A simple HOC that provides facility for listening to container resizes.\n */\nvar WidthProvider = function WidthProvider(ComposedComponent) {\n  var _class, _temp2;\n\n  return _temp2 = _class = function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, _class);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n        width: 1280\n      }, _this.mounted = false, _this.onWindowResize = function (_event) {\n        if (!_this.mounted) return;\n        var node = _reactDom2.default.findDOMNode(_this); // Flow casts this to Text | Element\n        if (node instanceof HTMLElement) _this.setState({ width: node.offsetWidth });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _class.prototype.componentDidMount = function componentDidMount() {\n      this.mounted = true;\n\n      window.addEventListener('resize', this.onWindowResize);\n      // Call to properly set the breakpoint and resize the elements.\n      // Note that if you're doing a full-width element, this can get a little wonky if a scrollbar\n      // appears because of the grid. In that case, fire your own resize event, or set `overflow: scroll` on your body.\n      this.onWindowResize();\n    };\n\n    _class.prototype.componentWillUnmount = function componentWillUnmount() {\n      this.mounted = false;\n      window.removeEventListener('resize', this.onWindowResize);\n    };\n\n    _class.prototype.render = function render() {\n      if (this.props.measureBeforeMount && !this.mounted) {\n        return _react2.default.createElement('div', { className: this.props.className, style: this.props.style });\n      }\n\n      return _react2.default.createElement(ComposedComponent, _extends({}, this.props, this.state));\n    };\n\n    return _class;\n  }(_react2.default.Component), _class.defaultProps = {\n    measureBeforeMount: false\n  }, _class.propTypes = {\n    // If true, will not render children until mounted. Useful for getting the exact width before\n    // rendering, to prevent any unsightly resizing.\n    measureBeforeMount: _propTypes2.default.bool\n  }, _temp2;\n};\n\nexports.default = WidthProvider;","'use strict';\n\nexports.__esModule = true;\nexports.getBreakpointFromWidth = getBreakpointFromWidth;\nexports.getColsFromBreakpoint = getColsFromBreakpoint;\nexports.findOrGenerateResponsiveLayout = findOrGenerateResponsiveLayout;\nexports.sortBreakpoints = sortBreakpoints;\n\nvar _utils = require('./utils');\n\n/**\n * Given a width, find the highest breakpoint that matches is valid for it (width > breakpoint).\n *\n * @param  {Object} breakpoints Breakpoints object (e.g. {lg: 1200, md: 960, ...})\n * @param  {Number} width Screen width.\n * @return {String}       Highest breakpoint that is less than width.\n */\nfunction getBreakpointFromWidth(breakpoints, width) {\n  var sorted = sortBreakpoints(breakpoints);\n  var matching = sorted[0];\n  for (var i = 1, len = sorted.length; i < len; i++) {\n    var breakpointName = sorted[i];\n    if (width > breakpoints[breakpointName]) matching = breakpointName;\n  }\n  return matching;\n}\n\n/**\n * Given a breakpoint, get the # of cols set for it.\n * @param  {String} breakpoint Breakpoint name.\n * @param  {Object} cols       Map of breakpoints to cols.\n * @return {Number}            Number of cols.\n */\n\n\nfunction getColsFromBreakpoint(breakpoint, cols) {\n  if (!cols[breakpoint]) {\n    throw new Error(\"ResponsiveReactGridLayout: `cols` entry for breakpoint \" + breakpoint + \" is missing!\");\n  }\n  return cols[breakpoint];\n}\n\n/**\n * Given existing layouts and a new breakpoint, find or generate a new layout.\n *\n * This finds the layout above the new one and generates from it, if it exists.\n *\n * @param  {Object} layouts     Existing layouts.\n * @param  {Array} breakpoints All breakpoints.\n * @param  {String} breakpoint New breakpoint.\n * @param  {String} breakpoint Last breakpoint (for fallback).\n * @param  {Number} cols       Column count at new breakpoint.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @return {Array}             New layout.\n */\nfunction findOrGenerateResponsiveLayout(layouts, breakpoints, breakpoint, lastBreakpoint, cols, verticalCompact) {\n  // If it already exists, just return it.\n  if (layouts[breakpoint]) return (0, _utils.cloneLayout)(layouts[breakpoint]);\n  // Find or generate the next layout\n  var layout = layouts[lastBreakpoint];\n  var breakpointsSorted = sortBreakpoints(breakpoints);\n  var breakpointsAbove = breakpointsSorted.slice(breakpointsSorted.indexOf(breakpoint));\n  for (var i = 0, len = breakpointsAbove.length; i < len; i++) {\n    var b = breakpointsAbove[i];\n    if (layouts[b]) {\n      layout = layouts[b];\n      break;\n    }\n  }\n  layout = (0, _utils.cloneLayout)(layout || []); // clone layout so we don't modify existing items\n  return (0, _utils.compact)((0, _utils.correctBounds)(layout, { cols: cols }), verticalCompact);\n}\n\n/**\n * Given breakpoints, return an array of breakpoints sorted by width. This is usually\n * e.g. ['xxs', 'xs', 'sm', ...]\n *\n * @param  {Object} breakpoints Key/value pair of breakpoint names to widths.\n * @return {Array}              Sorted breakpoints.\n */\nfunction sortBreakpoints(breakpoints) {\n  var keys = Object.keys(breakpoints);\n  return keys.sort(function (a, b) {\n    return breakpoints[a] - breakpoints[b];\n  });\n}","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.bottom = bottom;\nexports.cloneLayout = cloneLayout;\nexports.cloneLayoutItem = cloneLayoutItem;\nexports.childrenEqual = childrenEqual;\nexports.collides = collides;\nexports.compact = compact;\nexports.compactItem = compactItem;\nexports.correctBounds = correctBounds;\nexports.getLayoutItem = getLayoutItem;\nexports.getFirstCollision = getFirstCollision;\nexports.getAllCollisions = getAllCollisions;\nexports.getStatics = getStatics;\nexports.moveElement = moveElement;\nexports.moveElementAwayFromCollision = moveElementAwayFromCollision;\nexports.perc = perc;\nexports.setTransform = setTransform;\nexports.setTopLeft = setTopLeft;\nexports.sortLayoutItemsByRowCol = sortLayoutItemsByRowCol;\nexports.synchronizeLayoutWithChildren = synchronizeLayoutWithChildren;\nexports.validateLayout = validateLayout;\nexports.autoBindHandlers = autoBindHandlers;\n\nvar _lodash = require('lodash.isequal');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isProduction = process.env.NODE_ENV === 'production';\n\n/**\n * Return the bottom coordinate of the layout.\n *\n * @param  {Array} layout Layout array.\n * @return {Number}       Bottom coordinate.\n */\nfunction bottom(layout) {\n  var max = 0,\n      bottomY = void 0;\n  for (var _i = 0, len = layout.length; _i < len; _i++) {\n    bottomY = layout[_i].y + layout[_i].h;\n    if (bottomY > max) max = bottomY;\n  }\n  return max;\n}\n\nfunction cloneLayout(layout) {\n  var newLayout = Array(layout.length);\n  for (var _i2 = 0, len = layout.length; _i2 < len; _i2++) {\n    newLayout[_i2] = cloneLayoutItem(layout[_i2]);\n  }\n  return newLayout;\n}\n\n// Fast path to cloning, since this is monomorphic\nfunction cloneLayoutItem(layoutItem) {\n  return {\n    w: layoutItem.w, h: layoutItem.h, x: layoutItem.x, y: layoutItem.y, i: layoutItem.i,\n    minW: layoutItem.minW, maxW: layoutItem.maxW, minH: layoutItem.minH, maxH: layoutItem.maxH,\n    moved: Boolean(layoutItem.moved), static: Boolean(layoutItem.static),\n    // These can be null\n    isDraggable: layoutItem.isDraggable, isResizable: layoutItem.isResizable\n  };\n}\n\n/**\n * Comparing React `children` is a bit difficult. This is a good way to compare them.\n * This will catch differences in keys, order, and length.\n */\nfunction childrenEqual(a, b) {\n  return (0, _lodash2.default)(_react2.default.Children.map(a, function (c) {\n    return c.key;\n  }), _react2.default.Children.map(b, function (c) {\n    return c.key;\n  }));\n}\n\n/**\n * Given two layoutitems, check if they collide.\n */\nfunction collides(l1, l2) {\n  if (l1 === l2) return false; // same element\n  if (l1.x + l1.w <= l2.x) return false; // l1 is left of l2\n  if (l1.x >= l2.x + l2.w) return false; // l1 is right of l2\n  if (l1.y + l1.h <= l2.y) return false; // l1 is above l2\n  if (l1.y >= l2.y + l2.h) return false; // l1 is below l2\n  return true; // boxes overlap\n}\n\n/**\n * Given a layout, compact it. This involves going down each y coordinate and removing gaps\n * between items.\n *\n * @param  {Array} layout Layout.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @return {Array}       Compacted Layout.\n */\nfunction compact(layout, verticalCompact) {\n  // Statics go in the compareWith array right away so items flow around them.\n  var compareWith = getStatics(layout);\n  // We go through the items by row and column.\n  var sorted = sortLayoutItemsByRowCol(layout);\n  // Holding for new items.\n  var out = Array(layout.length);\n\n  for (var _i3 = 0, len = sorted.length; _i3 < len; _i3++) {\n    var l = cloneLayoutItem(sorted[_i3]);\n\n    // Don't move static elements\n    if (!l.static) {\n      l = compactItem(compareWith, l, verticalCompact);\n\n      // Add to comparison array. We only collide with items before this one.\n      // Statics are already in this array.\n      compareWith.push(l);\n    }\n\n    // Add to output array to make sure they still come out in the right order.\n    out[layout.indexOf(sorted[_i3])] = l;\n\n    // Clear moved flag, if it exists.\n    l.moved = false;\n  }\n\n  return out;\n}\n\n/**\n * Compact an item in the layout.\n */\nfunction compactItem(compareWith, l, verticalCompact) {\n  if (verticalCompact) {\n    // Bottom 'y' possible is the bottom of the layout.\n    // This allows you to do nice stuff like specify {y: Infinity}\n    // This is here because the layout must be sorted in order to get the correct bottom `y`.\n    l.y = Math.min(bottom(compareWith), l.y);\n\n    // Move the element up as far as it can go without colliding.\n    while (l.y > 0 && !getFirstCollision(compareWith, l)) {\n      l.y--;\n    }\n  }\n\n  // Move it down, and keep moving it down if it's colliding.\n  var collides = void 0;\n  while (collides = getFirstCollision(compareWith, l)) {\n    l.y = collides.y + collides.h;\n  }\n  return l;\n}\n\n/**\n * Given a layout, make sure all elements fit within its bounds.\n *\n * @param  {Array} layout Layout array.\n * @param  {Number} bounds Number of columns.\n */\nfunction correctBounds(layout, bounds) {\n  var collidesWith = getStatics(layout);\n  for (var _i4 = 0, len = layout.length; _i4 < len; _i4++) {\n    var l = layout[_i4];\n    // Overflows right\n    if (l.x + l.w > bounds.cols) l.x = bounds.cols - l.w;\n    // Overflows left\n    if (l.x < 0) {\n      l.x = 0;\n      l.w = bounds.cols;\n    }\n    if (!l.static) collidesWith.push(l);else {\n      // If this is static and collides with other statics, we must move it down.\n      // We have to do something nicer than just letting them overlap.\n      while (getFirstCollision(collidesWith, l)) {\n        l.y++;\n      }\n    }\n  }\n  return layout;\n}\n\n/**\n * Get a layout item by ID. Used so we can override later on if necessary.\n *\n * @param  {Array}  layout Layout array.\n * @param  {String} id     ID\n * @return {LayoutItem}    Item at ID.\n */\nfunction getLayoutItem(layout, id) {\n  for (var _i5 = 0, len = layout.length; _i5 < len; _i5++) {\n    if (layout[_i5].i === id) return layout[_i5];\n  }\n}\n\n/**\n * Returns the first item this layout collides with.\n * It doesn't appear to matter which order we approach this from, although\n * perhaps that is the wrong thing to do.\n *\n * @param  {Object} layoutItem Layout item.\n * @return {Object|undefined}  A colliding layout item, or undefined.\n */\nfunction getFirstCollision(layout, layoutItem) {\n  for (var _i6 = 0, len = layout.length; _i6 < len; _i6++) {\n    if (collides(layout[_i6], layoutItem)) return layout[_i6];\n  }\n}\n\nfunction getAllCollisions(layout, layoutItem) {\n  return layout.filter(function (l) {\n    return collides(l, layoutItem);\n  });\n}\n\n/**\n * Get all static elements.\n * @param  {Array} layout Array of layout objects.\n * @return {Array}        Array of static layout items..\n */\nfunction getStatics(layout) {\n  return layout.filter(function (l) {\n    return l.static;\n  });\n}\n\n/**\n * Move an element. Responsible for doing cascading movements of other elements.\n *\n * @param  {Array}      layout Full layout to modify.\n * @param  {LayoutItem} l      element to move.\n * @param  {Number}     [x]    X position in grid units.\n * @param  {Number}     [y]    Y position in grid units.\n * @param  {Boolean}    [isUserAction] If true, designates that the item we're moving is\n *                                     being dragged/resized by the user.\n */\nfunction moveElement(layout, l, x, y, isUserAction) {\n  if (l.static) return layout;\n\n  // Short-circuit if nothing to do.\n  if (l.y === y && l.x === x) return layout;\n\n  var movingUp = y && l.y > y;\n  // This is quite a bit faster than extending the object\n  if (typeof x === 'number') l.x = x;\n  if (typeof y === 'number') l.y = y;\n  l.moved = true;\n\n  // If this collides with anything, move it.\n  // When doing this comparison, we have to sort the items we compare with\n  // to ensure, in the case of multiple collisions, that we're getting the\n  // nearest collision.\n  var sorted = sortLayoutItemsByRowCol(layout);\n  if (movingUp) sorted = sorted.reverse();\n  var collisions = getAllCollisions(sorted, l);\n\n  // Move each item that collides away from this element.\n  for (var _i7 = 0, len = collisions.length; _i7 < len; _i7++) {\n    var collision = collisions[_i7];\n    // console.log('resolving collision between', l.i, 'at', l.y, 'and', collision.i, 'at', collision.y);\n\n    // Short circuit so we can't infinite loop\n    if (collision.moved) continue;\n\n    // This makes it feel a bit more precise by waiting to swap for just a bit when moving up.\n    if (l.y > collision.y && l.y - collision.y > collision.h / 4) continue;\n\n    // Don't move static items - we have to move *this* element away\n    if (collision.static) {\n      layout = moveElementAwayFromCollision(layout, collision, l, isUserAction);\n    } else {\n      layout = moveElementAwayFromCollision(layout, l, collision, isUserAction);\n    }\n  }\n\n  return layout;\n}\n\n/**\n * This is where the magic needs to happen - given a collision, move an element away from the collision.\n * We attempt to move it up if there's room, otherwise it goes below.\n *\n * @param  {Array} layout            Full layout to modify.\n * @param  {LayoutItem} collidesWith Layout item we're colliding with.\n * @param  {LayoutItem} itemToMove   Layout item we're moving.\n * @param  {Boolean} [isUserAction]  If true, designates that the item we're moving is being dragged/resized\n *                                   by the user.\n */\nfunction moveElementAwayFromCollision(layout, collidesWith, itemToMove, isUserAction) {\n\n  // If there is enough space above the collision to put this element, move it there.\n  // We only do this on the main collision as this can get funky in cascades and cause\n  // unwanted swapping behavior.\n  if (isUserAction) {\n    // Make a mock item so we don't modify the item here, only modify in moveElement.\n    var fakeItem = {\n      x: itemToMove.x,\n      y: itemToMove.y,\n      w: itemToMove.w,\n      h: itemToMove.h,\n      i: '-1'\n    };\n    fakeItem.y = Math.max(collidesWith.y - itemToMove.h, 0);\n    if (!getFirstCollision(layout, fakeItem)) {\n      return moveElement(layout, itemToMove, undefined, fakeItem.y);\n    }\n  }\n\n  // Previously this was optimized to move below the collision directly, but this can cause problems\n  // with cascading moves, as an item may actually leapfrog a collision and cause a reversal in order.\n  return moveElement(layout, itemToMove, undefined, itemToMove.y + 1);\n}\n\n/**\n * Helper to convert a number to a percentage string.\n *\n * @param  {Number} num Any number\n * @return {String}     That number as a percentage.\n */\nfunction perc(num) {\n  return num * 100 + '%';\n}\n\nfunction setTransform(_ref) {\n  var top = _ref.top,\n      left = _ref.left,\n      width = _ref.width,\n      height = _ref.height;\n\n  // Replace unitless items with px\n  var translate = 'translate(' + left + 'px,' + top + 'px)';\n  return {\n    transform: translate,\n    WebkitTransform: translate,\n    MozTransform: translate,\n    msTransform: translate,\n    OTransform: translate,\n    width: width + 'px',\n    height: height + 'px',\n    position: 'absolute'\n  };\n}\n\nfunction setTopLeft(_ref2) {\n  var top = _ref2.top,\n      left = _ref2.left,\n      width = _ref2.width,\n      height = _ref2.height;\n\n  return {\n    top: top + 'px',\n    left: left + 'px',\n    width: width + 'px',\n    height: height + 'px',\n    position: 'absolute'\n  };\n}\n\n/**\n * Get layout items sorted from top left to right and down.\n *\n * @return {Array} Array of layout objects.\n * @return {Array}        Layout, sorted static items first.\n */\nfunction sortLayoutItemsByRowCol(layout) {\n  return [].concat(layout).sort(function (a, b) {\n    if (a.y > b.y || a.y === b.y && a.x > b.x) {\n      return 1;\n    } else if (a.y === b.y && a.x === b.x) {\n      // Without this, we can get different sort results in IE vs. Chrome/FF\n      return 0;\n    }\n    return -1;\n  });\n}\n\n/**\n * Generate a layout using the initialLayout and children as a template.\n * Missing entries will be added, extraneous ones will be truncated.\n *\n * @param  {Array}  initialLayout Layout passed in through props.\n * @param  {String} breakpoint    Current responsive breakpoint.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout vertically.\n * @return {Array}                Working layout.\n */\nfunction synchronizeLayoutWithChildren(initialLayout, children, cols, verticalCompact) {\n  initialLayout = initialLayout || [];\n\n  // Generate one layout item per child.\n  var layout = [];\n  _react2.default.Children.forEach(children, function (child, i) {\n    // Don't overwrite if it already exists.\n    var exists = getLayoutItem(initialLayout, child.key || \"1\" /* FIXME satisfies Flow */);\n    if (exists) {\n      layout[i] = cloneLayoutItem(exists);\n    } else {\n      if (!isProduction && child.props._grid) {\n        console.warn('`_grid` properties on children have been deprecated as of React 15.2. ' + // eslint-disable-line\n        'Please use `data-grid` or add your properties directly to the `layout`.');\n      }\n      var g = child.props['data-grid'] || child.props._grid;\n\n      // Hey, this item has a data-grid property, use it.\n      if (g) {\n        if (!isProduction) {\n          validateLayout([g], 'ReactGridLayout.children');\n        }\n\n        layout[i] = cloneLayoutItem(_extends({}, g, { i: child.key }));\n      } else {\n        // Nothing provided: ensure this is added to the bottom\n        layout[i] = cloneLayoutItem({ w: 1, h: 1, x: 0, y: bottom(layout), i: child.key || \"1\" });\n      }\n    }\n  });\n\n  // Correct the layout.\n  layout = correctBounds(layout, { cols: cols });\n  layout = compact(layout, verticalCompact);\n\n  return layout;\n}\n\n/**\n * Validate a layout. Throws errors.\n *\n * @param  {Array}  layout        Array of layout items.\n * @param  {String} [contextName] Context name for errors.\n * @throw  {Error}                Validation error.\n */\nfunction validateLayout(layout, contextName) {\n  contextName = contextName || \"Layout\";\n  var subProps = ['x', 'y', 'w', 'h'];\n  if (!Array.isArray(layout)) throw new Error(contextName + \" must be an array!\");\n  for (var _i8 = 0, len = layout.length; _i8 < len; _i8++) {\n    var item = layout[_i8];\n    for (var j = 0; j < subProps.length; j++) {\n      if (typeof item[subProps[j]] !== 'number') {\n        throw new Error('ReactGridLayout: ' + contextName + '[' + _i8 + '].' + subProps[j] + ' must be a number!');\n      }\n    }\n    if (item.i && typeof item.i !== 'string') {\n      throw new Error('ReactGridLayout: ' + contextName + '[' + _i8 + '].i must be a string!');\n    }\n    if (item.static !== undefined && typeof item.static !== 'boolean') {\n      throw new Error('ReactGridLayout: ' + contextName + '[' + _i8 + '].static must be a boolean!');\n    }\n  }\n}\n\n// Flow can't really figure this out, so we just use Object\nfunction autoBindHandlers(el, fns) {\n  fns.forEach(function (key) {\n    return el[key] = el[key].bind(el);\n  });\n}","module.exports = require('./build/ReactGridLayout').default;\nmodule.exports.utils = require('./build/utils');\nmodule.exports.Responsive = require('./build/ResponsiveReactGridLayout').default;\nmodule.exports.Responsive.utils = require('./build/responsiveUtils');\nmodule.exports.WidthProvider = require('./build/components/WidthProvider').default;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v0.7.38\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.38',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bop(?:rg)?x\\/([\\w\\.]+)/i                                          // Opera GX\n            ], [VERSION, [NAME, OPERA+' GX']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant|iemobile|slim)\\s?(?:browser)?[\\/ ]?([\\w\\.]*)/i,             // Avant/IEMobile/SlimBrowser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /\\bddg\\/([\\w\\.]+)/i                                                 // DuckDuckGo\n            ], [VERSION, [NAME, 'DuckDuckGo']], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 ' + BROWSER]], [\n            /(oculus|sailfish|huawei|vivo)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 ' + BROWSER], VERSION], [                    // Oculus/Sailfish/HuaweiBrowser/VivoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345Explorer)[\\/ ]?([\\w\\.]+)/i                        // QQBrowser/2345 Browser\n            ], [NAME, VERSION], [\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(twitter)(?:and| f.+e\\/([\\w\\.]+))/i,                               // Twitter\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n            /\\b(opd2\\d{3}a?) bui/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, TABLET]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( \\d| pro)?)/i                                               // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n"],"names":["r","e","t","f","n","Array","isArray","length","clsx","arguments","_extends","require","target","i","source","key","Object","prototype","hasOwnProperty","call","BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftFeatureFlags","DraftModifier","EditorState","Immutable","generateRandomKey","moveBlockInContentState","experimentalTreeDataSupport","draft_tree_data_support","ContentBlockRecord","List","Repeat","AtomicBlockUtils","insertAtomicBlock","editorState","entityKey","character","contentState","getCurrentContent","selectionState","getSelection","afterRemoval","removeRange","targetSelection","getSelectionAfter","afterSplit","splitBlock","insertionTarget","asAtomicBlock","setBlockType","charData","create","entity","atomicBlockConfig","type","text","characterList","atomicDividerBlockConfig","nextSibling","prevSibling","fragmentArray","fragment","createFromArray","withAtomicBlock","replaceWithFragment","newContent","merge","selectionBefore","selectionAfter","set","push","moveAtomicBlock","atomicBlock","targetRange","insertionMode","withMovedAtomicBlock","targetBlock","getBlockForKey","getStartKey","getEndKey","selectionAfterRemoval","_targetBlock","getFocusKey","getStartOffset","getEndOffset","getLength","selectionAfterSplit","_targetBlock2","module","exports","OrderedMap","blocks","map","block","getKey","emptyFunction","findRangesImmutable","Record","returnTrue","thatReturnsTrue","LeafRange","start","end","DecoratorRange","decoratorKey","leaves","BlockTree","generate","decorator","textLength","of","leafSets","decorations","getDecorations","chars","getCharacterList","areEqual","get","generateLeaves","slice","toList","getFingerprint","tree","leafSet","size","join","characters","offset","inlineStyles","c","getStyle","a","b","_require","Map","OrderedSet","EMPTY_SET","defaultRecord","style","_CharacterMetadataRec","instance","Constructor","TypeError","_classCallCheck","this","self","ReferenceError","_possibleConstructorReturn","apply","subClass","superClass","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","getEntity","hasStyle","includes","applyStyle","record","withStyle","add","removeStyle","withoutStyle","remove","applyEntity","withEntity","config","EMPTY","configMap","existing","pool","newCharacter","CompositeDraftDecorator","decorators","_decorators","getText","fill","forEach","ii","counter","strategy","canOccupySlice","targetArr","componentKey","occupySlice","getComponentForKey","parseInt","split","component","getPropsForKey","props","depth","data","_ContentBlockRecord","decorateCharacterList","getType","getDepth","getData","getInlineStyleAt","getEntityAt","findStyleRanges","filterFn","callback","haveEqualStyle","findEntityRanges","haveEqualEntity","charA","charB","parent","children","_Record","undefined","getChildKeys","getParentKey","getPrevSiblingKey","getNextSiblingKey","DraftEntity","SelectionState","sanitizeDraftText","ContentBlockNodeRecord","ContentState","_ContentStateRecord","getEntityMap","getBlockMap","getSelectionBefore","getKeyBefore","reverse","keySeq","skipUntil","v","skip","first","getKeyAfter","getBlockAfter","_","k","getBlockBefore","getBlocksAsArray","toArray","getFirstBlock","getLastBlock","last","getPlainText","delimiter","getLastCreatedEntityKey","__getLastCreatedEntityKey","hasText","blockMap","createEntity","mutability","__create","mergeEntityData","toMerge","__mergeData","replaceEntityData","newData","__replaceData","addEntity","__add","__get","createFromBlockArray","entityMap","theBlocks","contentBlocks","isEmpty","createEmpty","createFromText","ContentStateInlineStyle","inlineStyle","modifyInlineStyle","addOrRemove","startKey","startOffset","endKey","endOffset","newBlocks","takeUntil","concat","blockKey","sliceStart","sliceEnd","current","React","cx","DefaultDraftBlockRenderMap","element","wrapper","createElement","className","blockquote","atomic","unstyled","aliasedElements","BOLD","fontWeight","CODE","fontFamily","wordWrap","ITALIC","fontStyle","STRIKETHROUGH","textDecoration","UNDERLINE","DefaultDraftInlineStyle","DraftEditor","DraftEditorBlock","DraftEntityInstance","KeyBindingUtil","RichTextEditorUtil","convertFromDraftStateToRaw","DraftPublic","Editor","EditorBlock","CompositeDecorator","Entity","EntityInstance","Modifier","RichUtils","convertFromHTML","convertFromRaw","convertToRaw","genKey","getDefaultKeyBinding","getVisibleSelectionRect","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorPlaceholder","ReactDOM","Scroll","Style","UserAgent","getScrollPosition","invariant","nullthrows","isIE","isBrowser","allowSpellCheck","handlerMap","edit","composite","drag","cut","render","_React$Component","_this","focus","scrollPosition","alreadyHasFocus","getHasFocus","editorNode","findDOMNode","editor","scrollParent","getScrollParent","_ref","x","y","HTMLElement","window","scrollTo","setTop","update","forceSelection","blur","setMode","mode","_handler","exitCurrentMode","restoreEditorDOM","setState","contentsKey","state","setClipboard","clipboard","_clipboard","getClipboard","_latestEditorState","onChange","onDragEnter","_dragCount","onDragLeave","_blockSelectEvents","_editorKey","editorKey","_placeholderAccessibilityID","_latestCommittedEditorState","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","getEditorKey","eventName","_this2","readOnly","method","_showPlaceholder","placeholder","isInCompositionMode","_renderPlaceholder","placeHolderProps","textAlignment","accessibilityID","_this3","_props","blockRenderMap","blockRendererFn","blockStyleFn","customStyleFn","customStyleMap","textDirectionality","rootClass","ariaRole","role","ariaExpanded","editorContentsProps","ref","_ref3","editorContainer","ariaActiveDescendantID","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaLabel","ariaLabelledBy","ariaMultiline","autoCapitalize","autoComplete","autoCorrect","notranslate","contentEditable","webDriverTestID","onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragOver","onDragStart","onDrop","onFocus","onInput","onKeyDown","onKeyPress","onKeyUp","onMouseUp","onPaste","onSelect","_ref2","spellCheck","outline","userSelect","WebkitUserSelect","whiteSpace","suppressContentEditableWarning","tabIndex","componentDidMount","document","execCommand","componentWillUpdate","nextProps","componentDidUpdate","Component","defaultProps","thatReturnsNull","thatReturns","keyBindingFn","stripPastedStyles","DraftEditorLeaf","DraftOffsetKey","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getViewportDimensions","isBlockOnSelectionEdge","selection","getAnchorKey","shouldComponentUpdate","direction","blockNode","scrollDelta","nodePosition","height","offsetHeight","offsetTop","getTop","_renderChildren","lastLeafSet","hasSelection","leavesForLeafSet","lastLeaf","leaf","jj","offsetKey","encode","styleSet","isLast","DecoratorComponent","decoratorProps","decoratorOffsetKey","decoratedText","dir","getHTMLDirIfDifferent","getDirection","Keys","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart","resolved","stillComposing","textInputData","setTimeout","resolveComposition","which","RIGHT","LEFT","preventDefault","RETURN","composedChars","inCompositionMode","currentStyle","getCurrentInlineStyle","mustReset","draft_handlebeforeinput_composed_text","handleBeforeInput","replaceText","nativelyRenderedContent","joinClasses","getListItemClasses","shouldResetCount","prevEditorState","nextEditorState","getDirectionMap","nextNativeContent","getNativelyRenderedContent","wasComposing","nowComposing","prevContent","nextContent","prevDecorator","getDecorator","nextDecorator","mustForceSelection","content","directionMap","blocksAsArray","processedBlocks","currentDepth","lastWrapperTemplate","_block","blockType","customRenderer","CustomComponent","customProps","customEditable","editable","componentProps","blockProps","getBlockTree","configForType","wrapperTemplate","Element","childProps","child","outputBlocks","_ii","info","wrapperElement","cloneElement","DataTransfer","findAncestorOffsetKey","getTextContentFromFiles","getUpdatedSelectionState","nativeEvent","dataTransfer","dropSelection","event","node","caretRangeFromPoint","dropRange","startContainer","rangeParent","rangeOffset","getSelectionForEvent","files","getFiles","handleDroppedFiles","fileText","insertTextAtSelection","dragType","_internalDrag","handleDrop","newContentState","moveText","insertText","_assign","DraftEditorTextNode","setDraftEditorSelection","_setSelection","hasEdgeWithin","firstChild","targetNode","nodeType","Node","TEXT_NODE","tagName","leafNode","textContent","endsWith","_props2","styleObj","reduce","styleName","mergedStyles","trim","newStyles","hasFocus","id","useNewlineChar","NEWLINE_A","NEWLINE_B","_forceFlag","shouldBeNewline","isNewline","instances","instanceKey","logWarning","oldMethodCall","newMethodCall","console","warn","mergeData","replaceData","newInstance","_DraftEntityInstanceR","getMutability","getRemovalRange","selectionStart","selectionEnd","entityStart","segments","segment","segmentEnd","segmentStart","removalStart","removalEnd","entityEnd","atStart","atEnd","draft_killswitch_allow_nontextnodes","draft_segmented_entities_behavior","logSelectionStateFailure","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState","rangeToReplace","withoutEntities","withoutText","isCollapsed","removalRange","movedFragment","rangeToRemove","removalDirection","startBlock","endBlock","getIsBackward","anchorKey","anchorOffset","getFocusOffset","focusKey","focusOffset","getAnchorOffset","isBackward","startEntityKey","endEntityKey","_adjustedRemovalRange","adjustedRemovalRange","applyInlineStyle","removeInlineStyle","setBlockData","blockData","mergeBlockData","leafKey","decode","_offsetKey$split","convertFromHTMLtoContentBlocks","getSafeBodyFromHTML","DraftPasteProcessor","processHTML","html","processText","textBlocks","acc","textLine","index","blockNodeConfig","prevSiblingIndex","previousBlock","CHAMELEON_CHARS","WHITESPACE_AND_PUNCTUATION","getPunctuation","DELETE_REGEX","RegExp","BACKSPACE_REGEX","getRemovableWord","matches","exec","DraftRemovableWord","getBackward","getForward","DraftStringKey","stringify","String","unstringify","isListBlock","DraftTreeAdapter","fromRawTreeStateToRawState","draftTreeState","transformedBlocks","fn","stack","pop","traverseInDepthOrder","newBlock","addDepthToChildren","fromRawStateToRawTreeState","draftState","lastListDepthCacheRef","isList","treeBlock","bidiService","UnicodeBidiService","EditorBidiService","prevBidiMap","reset","nextBidi","valueSeq","bidiMap","zip","is","Stack","EditorStateRecord","allowUndo","currentContent","inlineStyleOverride","lastChangeType","redoStack","treeMap","undoStack","immutable","_immutable","createWithContent","firstKey","recordConfig","generateNewTreeMap","put","getImmutable","withMutations","existingDecorator","newTreeMap","previousTreeMap","toSeq","filter","regenerateTreeForNewDecorator","newBlockMap","newEntityMap","prevBlockMap","prevTreeMap","regenerateTreeForNewBlocks","toJS","getAllowUndo","getUndoStack","getRedoStack","getLastChangeType","getInlineStyleOverride","setInlineStyleOverride","override","lookUpwardForInlineStyle","getInlineStyleForCollapsedSelection","getInlineStyleForNonCollapsedSelection","getIn","isSelectionAtStartOfContent","isSelectionAtEndOfContent","acceptSelection","updateSelection","moveSelectionToEnd","lastBlock","lastKey","moveFocusToEnd","afterSelectionMove","changeType","mustBecomeBoundary","indexOf","editorStateChanges","undo","newCurrentContent","peek","shift","redo","toOrderedMap","fromKey","lastNonEmpty","isOSX","isPlatform","isCtrlKeyCommand","ctrlKey","altKey","isOptionKeyCommand","hasCommandModifier","metaKey","adjustBlockDepthForContentState","currentBlockContainsLink","some","getCurrentBlockType","getDataObjectForLinkURL","uri","url","toString","handleKeyCommand","command","toggleInlineStyle","toggleCode","onBackspace","onDelete","insertSoftNewline","newEditorState","blockBefore","withoutAtomicBlock","withoutBlockStyle","tryToRemoveBlockStyle","blockAfter","atomicBlockTarget","onTab","maxDepth","blockAbove","typeAbove","shiftKey","Math","min","withAdjustment","toggleBlockType","skipWhile","typeToSet","has","toggleLink","withoutLink","firstBlock","SecondaryClipboard","blockEnd","paste","_SelectionStateRecord","serialize","offsetToCheck","adjustment","max","contentBlock","applyEntityToContentBlock","encodeEntityRanges","encodeInlineStyleRanges","createRawBlock","entityStorageMap","inlineStyleRanges","entityRanges","toObject","encodeRawBlocks","rawState","rawBlocks","blockCacheRef","entityCacheRef","entityStorageKey","stringifiedEntityKey","parentKey","rawBlock","insertRawBlock","rawDraftContentState","rawEntityMap","keys","encodeRawEntityMap","_knownListItemDepthCl","_defineProperty","obj","defineProperty","Set","URI","SPACE","REGEX_CR","REGEX_LF","REGEX_NBSP","REGEX_CARRIAGE","REGEX_ZWS","boldValues","notBoldValues","inlineTags","code","del","em","s","strike","strong","u","knownListItemDepthClasses","anchorAttr","imgAttr","EMPTY_CHUNK","inlines","entities","EMPTY_BLOCK","getListBlockType","tag","lastList","getBlockTypeForTag","matchedTypes","draftBlock","alias","toSet","sort","multiMatchExtractor","matchType","getMultiMatchedType","joinChunks","A","B","experimentalHasNestedBlocks","lastInA","firstInB","hasValidLinkText","link","HTMLAnchorElement","protocol","getWhitespaceChunk","inEntity","getSoftNewlineChunk","getChunkedBlock","getBlockDividerChunk","genFragment","inBlock","blockTags","lastLastBlock","nodeName","toLowerCase","nextBlockType","inBlockType","chunk","_text","nodeTextContent","parentElement","parentNodeName","replace","HTMLImageElement","attributes","getNamedItem","image","entityConfig","attr","imageAttribute","getAttribute","styleToCheck","toOrderedSet","htmlElement","processInlineTag","depthClass","classList","contains","getListItemDepth","inListBlock","inBlockOrHasNestedBlocks","entityId","href","anchor","anchorAttribute","_genFragment","generatedChunk","sibling","getChunkForHTML","DOMBuilder","supportedBlockTags","unstyledElement","tags","getBlockMapSupportedTags","safeBody","workingBlocks","containsSemanticBlockMarkup","unshift","chunkData","rawInlines","rawEntities","BlockNodeRecord","textBlock","parentTextNodeKey","parentIndex","cacheRef","parentRecord","parentCharacterList","parentText","textNode","convertChunkToContentBlocks","createCharacterList","decodeEntityRanges","decodeInlineStyleRanges","decodeBlockNodeConfig","decodeCharacterList","rawEntityRanges","rawInlineStyleRanges","range","addKeyIfMissing","updateNodeStack","nodes","parentRef","nodesWithParentRef","decodeRawBlocks","isTreeRawBlock","contentBlockNode","siblings","_index","isValidBlock","_children","_contentBlockNode","decodeContentBlockNodes","decodeContentBlocks","rawEntityKey","_rawEntityMap$rawEnti","decodeRawEntityMap","characterArray","substr","ranges","styles","cursor","setImmediate","FF_QUICKFIND_CHAR","FF_QUICKFIND_LINK_CHAR","isFirefox","_pendingStateFromBeforeInput","mustPreventNative","nativeSelection","global","anchorNode","parentNode","nodeValue","containsNode","getActiveElement","body","_selection","rangeCount","focusNode","removeAllRanges","currentSelection","getFragmentFromSelection","removeFragment","isGecko","isEngine","domSelection","isNotTextNode","isNotTextOrElementNode","ELEMENT_NODE","previousSibling","span","removeChild","domText","_DraftOffsetKey$decod","_editorState$getBlock","modelText","preserveEntity","abs","charDelta","contentWithAdjustedDOMSelection","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo","isChrome","keyCode","handleReturn","ESC","onEscape","TAB","UP","onUpArrow","onRightArrow","DOWN","onDownArrow","onLeftArrow","newState","onKeyCommand","splitTextIntoTextBlocks","insertFragment","clipboardData","isRichText","defaultFileText","handlePastedFiles","currentBlockType","withInsertedText","getHTML","handlePastedText","internalClipboard","types","every","areTextBlocksAndClipboardEqual","htmlFragment","htmlMap","textFragment","textMap","getDraftEditorSelection","documentSelection","updatedSelectionState","needsRecovery","strlen","storageMap","encoded","Number","UnicodeUtils","isTruthy","EMPTY_ARRAY","styleList","flatten","styleToEncode","filteredInlines","getEncodedInlinesForType","getRangeClientRects","areRectsOnOneLine","rects","lineHeight","minTop","Infinity","minBottom","maxTop","maxBottom","rect","width","top","bottom","getNodeLength","DOCUMENT_TYPE_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","childNodes","collapsed","containingElement","cloneRange","computed","getComputedStyle","div","fontSize","position","documentBody","appendChild","getBoundingClientRect","getLineHeightPx","bestContainer","endContainer","bestOffset","setStart","setStartBefore","display","currentContainer","maxIndexToConsider","isSurrogatePair","getSelectionOffsetKeyForNode","searchNode","documentElement","haystack","areEqualFn","foundFn","nextValue","nextIndex","count","seenKeys","MULTIPLIER","pow","isNaN","floor","random","DraftEntitySegments","getRangesForDraftEntity","getEntityRemovalRange","isEntireSelectionWithinEntity","isEntityAtStart","sideToConsider","entityRange","newSelectionState","startSelectionState","endSelectionState","_startSelectionState","_endSelectionState","randomizeBlockMapKeys","blockKeys","startIndex","endIndex","isWindows","shouldFixFirefoxMovement","shouldRemoveWord","getZCommand","DELETE","getDeleteCommand","BACKSPACE","getBackspaceCommand","getDraftEditorSelectionWithNodes","root","getPointForNonTextNode","editorRoot","startNode","childOffset","firstLeaf","getFirstLeaf","nodeBeforeCursor","lastChild","getLastLeaf","getTextContentLength","anchorIsTextNode","focusIsTextNode","anchorPoint","focusPoint","filterKey","nextSiblingKey","nextNonDescendantBlock","right","left","_rects$","_rects$2","tempRange","clientRects","ancestor","atCommonAncestor","commonAncestorContainer","from","getClientRects","setEndBefore","isOldIE","doc","implementation","createHTMLDocument","innerHTML","getElementsByTagName","childOffsetKey","TEXT_CLIPPING_REGEX","TEXT_TYPES","readCount","results","file","FileReader","contents","test","name","reader","onload","result","onerror","readAsText","readFile","anchorPath","anchorBlockKey","anchorLeaf","focusPath","focusBlockKey","focusLeaf","anchorLeafStart","focusLeafStart","anchorBlockOffset","focusBlockOffset","anchorLeafEnd","focusLeafEnd","getRangeBoundingClientRect","getRangeAt","boundingRect","insertIntoList","targetKey","targetOffset","isTreeBasedBlockMap","newBlockArr","fragmentSize","head","tail","finalOffset","finalKey","shouldNotUpdateFromFragmentBlock","headText","headCharacters","appendToHead","updateHead","fragmentBlock","blockSize","tailText","tailCharacters","prependToTail","updateTail","updatedBlockMap","originalBlockMap","fragmentHeadBlock","blockMapState","headKey","targetNextKey","targetParentKey","fragmentRootBlocks","rootBlock","rootBlocks","lastSiblingKey","getRootBlocks","lastRootFragmentBlockKey","setIn","originalTargetParentChildKeys","insertionIndex","newChildrenKeysArray","splice","updateBlockMapLinks","fragmentBlockMap","updateExistingBlock","targetList","toInsert","characterMetadata","len","blockText","newOffset","blockTree","isAtStart","leafStart","expandRangeToStartOfLine","moveSelectionBackward","removeTextWithStrategy","strategyState","toRemove","moveSelectionForward","charBehind","getUTF16Length","charAhead","finalSelection","afterInsert","updateFn","undoneState","operation","getNextDelimiterBlockKey","transformBlock","func","originalBlockToBeMoved","originalTargetBlock","isExperimentalTreeBlock","isInsertedAfterTarget","originalBlockKey","originalTargetKey","originalParentKey","originalNextSiblingKey","originalPrevSiblingKey","newParentKey","newNextSiblingKey","newPrevSiblingKey","parentChildrenList","newParentChildrenList","targetBlockIndex","newChildrenArray","blockToBeMoved","blocksToBeMoved","blockMapWithoutBlocksToBeMoved","nextDelimiterBlockKey","takeWhile","isBlockToBeMoved","hasNextSiblingAndIsNotNextSibling","doesNotHaveNextSiblingAndIsNotDelimiter","blocksBefore","blocksAfter","slicedBlocks","maxDistance","keyBefore","newKeysRef","lastRootBlock","oldKey","nextKey","prevKey","childrenKeys","childKey","randomizeContentBlockNodeKeys","randomizeContentBlockKeys","removeForBlock","charBefore","charAfter","entityBeforeCursor","entityAfterCursor","_getRemovalRange","updatedBlocks","updatedStart","updatedEnd","getAncestorsKeys","parents","getNextValidSibling","nextValidSiblingKey","getPrevValidSibling","prevValidSiblingKey","nextDelimiters","nextDelimiter","getNextDelimitersBlockKeys","delimiterKey","removeFromList","parentAncestors","endBlockchildrenKeys","endBlockAncestors","modifiedStart","REGEX_BLOCK_DELIMITER","input","DraftJsDebugLogging","getAnonymizedDOM","getNodeLabels","anonymized","anonymizeTextWithin","outerHTML","labels","createTextNode","clone","cloneNode","setAttribute","getAnonymizedEditorDOM","currentNode","hasAttribute","addFocusToSelection","activeElement","extend","anonymizedDom","extraParams","JSON","nodeWasFocus","activeElementName","nodeIsFocus","selectionRangeCount","selectionAnchorNodeName","selectionAnchorOffset","selectionFocusNodeName","selectionFocusOffset","message","setEnd","addRange","addPointToSelection","createRange","nodeStart","nodeEnd","tempKey","tempOffset","hasAnchor","storedFocusNode","storedFocusOffset","blockToSplit","keyBelow","blockBelow","rest","originalBlock","belowBlock","belowBlockKey","NEWLINE_REGEX","PhotosMimeType","createArrayFromMixed","CR_LF_REGEX","RICH_TEXT_TYPES","getFileFromDataTransfer","item","kind","getAsFile","isImage","isLink","getLink","items","getCount","mozItemCount","thatReturnsArgument","hasFiles","ALT","PAGE_UP","PAGE_DOWN","END","HOME","COMMA","PERIOD","Z","ZERO","NUMPAD_0","NUMPAD_9","mimeString","getParts","isJpeg","parts","_isViewportScrollElement","ownerDocument","scrollTop","newTop","getLeft","scrollLeft","setLeft","newLeft","_isNodeScrollable","overflow","defaultView","parentWindow","_uri","RANGE_BY_BIDI_TYPE","REGEX_STRONG","REGEX_RTL","firstStrongChar","str","match","firstStrongCharDir","strongChar","NEUTRAL","RTL","LTR","resolveBlockDir","fallback","blockDir","strongFallback","getGlobalDir","isStrong","isDirectionLTR","isDirectionRTL","globalDir","getHTMLDir","setGlobalDir","otherDir","initGlobalDir","defaultDir","_defaultDir","_lastDir","SURROGATE_HIGH_START","SURROGATE_LOW_END","SURROGATE_UNITS_REGEX","isCodeUnitInSurrogateRange","codeUnit","hasSurrogateUnit","pos","charCodeAt","posA","posB","substring","getCodePoints","codePoints","codePointAt","second","UserAgentData","VersionRange","mapObject","memoizeStringOnly","compare","version","query","normalizer","startsWith","normalizePlatformVersion","platformName","browserName","browserFullVersion","isBrowserArchitecture","browserArchitecture","isDevice","deviceName","engineName","engineVersion","platformFullVersion","isPlatformArchitecture","platformArchitecture","UAParser","UNKNOWN","PLATFORM_MAP","getResult","browserVersionData","major","minor","getBrowserVersion","browser","uaData","cpu","architecture","browserMinorVersion","browserVersion","device","model","engine","os","platformVersion","componentRegex","orRegex","rangeRegex","modifierRegex","numericRegex","checkOrExpression","expressions","checkSimpleExpression","startVersion","endVersion","isSimpleVersion","checkRangeExpression","versionComponents","_getModifierAndCompon","getModifierAndComponents","modifier","rangeComponents","checkLessThan","compareComponents","checkLessThanOrEqual","checkGreaterThanOrEqual","lowerBound","upperBound","lastIndex","numeric","isNumber","checkApproximateVersion","checkEqual","number","isFinite","zeroPad","array","compareNumeric","aPrefix","bPrefix","aNumeric","bNumeric","_normalizeVersions","j","normalizeVersions","aNormalized","bNormalized","_hyphenPattern","string","toUpperCase","isTextNode","outerNode","innerNode","compareDocumentPosition","hasArrayNature","callee","ret","classNames","makeEmptyFunction","arg","thatReturnsFalse","thatReturnsThis","isWebkit","navigator","userAgent","scrollingElement","compatMode","getElementRect","elem","docElem","round","clientLeft","clientTop","getDocumentScrollElement","getUnboundedScrollPosition","scrollable","documentScrollElement","Window","viewport","xMax","scrollWidth","clientWidth","yMax","scrollHeight","clientHeight","camelize","hyphenate","asString","computedStyle","getPropertyValue","cssFloat","styleFloat","pageXOffset","pageYOffset","getViewportWidth","getViewportHeight","innerWidth","innerHeight","withoutScrollbars","_uppercasePattern","condition","format","d","error","Error","args","argIndex","framesToPop","object","isNode","nextClass","argLength","context","cache","SLICE$0","createClass","ctor","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","SHIFT","SIZE","MASK","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","arr","newArr","ensureSize","iter","__iterate","wrapIndex","uint32Index","NaN","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","Symbol","iterator","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","next","iteratorValue","iteratorResult","done","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","isArrayLike","emptySequence","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","KEYS","VALUES","ENTRIES","inspect","toSource","__toString","cacheResult","_cache","__iterateUncached","seqIterate","__iterator","seqIterator","isSeq","EMPTY_SEQ","EMPTY_REPEAT","EMPTY_RANGE","IS_SEQ_SENTINEL","ArraySeq","_array","ObjectSeq","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iterator","_iteratorCache","maybeSeq","seq","maybeIndexedSeqFromValue","useKeys","maxIndex","entry","__iteratorUncached","fromJS","json","converter","fromJSWith","fromJSDefault","parentJSON","isPlainObj","toMap","valueA","valueB","valueOf","equals","deepEqual","__hash","notAssociative","entries","flipped","allEqual","bSize","times","_value","Range","step","_start","_end","_step","ceil","Collection","KeyedCollection","IndexedCollection","SetCollection","notSetValue","iterations","val","searchValue","lastIndexOf","this$0","other","possibleIndex","offsetValue","imul","smi","i32","hash","o","h","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","isExtensible","uniqueID","WeakMap","assertNotInfinite","emptyMap","isMap","maybeMap","IS_MAP_SENTINEL","_root","updateMap","keyPath","updateIn","deleteIn","updater","updatedValue","updateInDeepMap","forceIterator","clear","__ownerID","__altered","mergeIntoMapWith","mergeWith","merger","mergeIn","iters","m","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","sortFactory","sortBy","mapper","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","EMPTY_MAP","MapPrototype","ArrayMapNode","BitmapIndexedNode","bitmap","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","prev","__prev","newRoot","newSize","didChangeSize","didAlter","updateNode","isLeafNode","mergeIntoNode","newNode","idx1","idx2","createNodes","packNodes","excluding","packedII","packedNodes","bit","expandNodes","including","expandedNodes","iterables","mergeIntoCollectionWith","collection","mergeIntoMap","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","popCount","idx","canEdit","newArray","spliceIn","newLen","after","spliceOut","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","isEditable","newEntries","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","newBitmap","newNodes","newCount","MIN_HASH_ARRAY_MAP_SIZE","keyMatch","subNode","empty","emptyList","makeList","VNode","list","setSize","maybeList","IS_LIST_SENTINEL","listNodeFor","_origin","updateList","insert","_capacity","_level","_tail","values","oldSize","setListBounds","mergeIntoListWith","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","newChild","removingFirst","oldChild","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","EMPTY_ORDERED_MAP","tailPos","getTailOffset","iterateNodeOrLeaf","iterateLeaf","iterateNode","to","origin","capacity","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","cacheResultThrough","mapFactory","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","countByFactory","grouper","groups","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","sum","flattenFactory","flatSequence","stopped","flatDeep","flatMapFactory","interposeFactory","separator","interposedSequence","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","validateEntry","resolveSize","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","indexedIterable","recordName","defaultVal","_empty","makeRecord","likeRecord","getPrototypeOf","names","setProp","bind","emptySet","isSet","maybeSet","IS_SET_SENTINEL","fromKeys","updateSet","union","intersect","originalSet","subtract","__make","SetPrototype","__empty","makeSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","_head","makeStack","pushAll","EMPTY_STACK","StackPrototype","mixin","methods","keyCopier","getOwnPropertySymbols","__toJS","toJSON","toStack","__toStringMapper","returnValue","find","findEntry","found","findLastEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","not","butLast","countBy","entriesSequence","entryMapper","filterNot","findLast","flatMap","searchKey","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyMapper","maxBy","neg","defaultNegComparator","minBy","amount","skipLast","take","takeLast","hashIterable","IterablePrototype","quoteString","chain","noLengthWarning","findKey","findLastKey","keyOf","lastKeyOf","mapEntries","mapKeys","KeyedIterablePrototype","defaultZipper","ordered","keyed","murmurHashOfSize","hashMerge","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zipWith","factory","HASH_UNDEFINED","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","MAX_SAFE_INTEGER","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","freeSelf","Function","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","mapToArray","setToArray","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Promise","nativeCreate","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","ListCache","MapCache","SetCache","__data__","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","bitmask","customizer","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othProps","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isObject","isMasked","isFunction","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","getValue","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","isLength","baseUnary","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_11__","installedModules","__webpack_require__","moduleId","loaded","modules","p","default","DraggableCore","_domFns","_positionFns","_shims","Draggable","coreData","_log2","onStart","createDraggableData","dragging","dragged","onDrag","uiData","bounds","_x","_y","slackX","slackY","_getBoundPosition","getBoundPosition","_getBoundPosition2","_slicedToArray","deltaX","deltaY","onDragStop","onStop","Boolean","_this$props$position","_x2","_y2","defaultPosition","isElementSVG","SVGElement","_reactDom2","_classNames","svgTransform","draggable","transformOpts","canDragX","canDragY","createSVGTransform","createCSSTransform","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","_classnames2","_react2","_DraggableCore2","Children","only","displayName","propTypes","axis","_propTypes2","oneOf","oneOfType","shape","dontSetMe","NODE_ENV","REACT_ELEMENT_TYPE","for","$$typeof","warning","ReactPropTypesSecret","checkPropTypes","isValidElement","throwOnDirectAccess","ANONYMOUS","ReactPropTypes","createPrimitiveTypeChecker","bool","any","createChainableTypeChecker","arrayOf","typeChecker","propName","componentName","location","propFullName","PropTypeError","propValue","getPropType","instanceOf","expectedClass","expectedClassName","objectOf","propType","expectedValues","arrayOfTypeCheckers","checker","shapeTypes","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","secret","cacheKey","chainedCheckType","expectedType","preciseType","Date","getPreciseType","isSymbol","PropTypes","validateFormat","printWarning","_len","_key","_len2","_key2","loggedTypeFailures","typeSpecs","getStack","typeSpecName","ex","shim","getShim","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","classes","argType","matchesSelector","matchesSelectorAndParentsTo","el","selector","baseNode","addEvent","handler","attachEvent","addEventListener","removeEvent","detachEvent","removeEventListener","outerHeight","int","borderTopWidth","borderBottomWidth","outerWidth","borderLeftWidth","borderRightWidth","paddingTop","paddingBottom","paddingLeft","paddingRight","offsetXYFromParent","evt","offsetParent","offsetParentRect","clientX","clientY","_getPrefix","browserPrefixToKey","_getPrefix2","getTouch","identifier","targetTouches","findInArray","changedTouches","getTouchIdentifier","addUserSelectStyles","userSelectReplaceRegExp","userSelectStyle","removeUserSelectStyles","styleHacks","childStyle","touchAction","matchesSelectorFunc","userSelectPrefix","getPrefix","browserPrefixToStyle","isNum","num","prop","prefix","prefixes","out","shouldCapitalize","kebabToTitleCase","cloneBounds","ownerWindow","boundNode","querySelector","nodeStyle","boundNodeStyle","offsetLeft","marginLeft","marginTop","marginRight","marginBottom","snapToGrid","grid","pendingX","pendingY","getControlPosition","touchIdentifier","draggableCore","touchObj","createCoreData","lastX","lastY","_reactDom","eventsFor","move","stop","dragEventFor","handleDragStart","onMouseDown","allowAnyClick","button","domNode","disabled","handle","cancel","coreEvent","enableUserSelectHack","handleDrag","handleDragStop","_snapToGrid","_snapToGrid2","MouseEvent","err","createEvent","initMouseEvent","onTouchStart","onTouchEnd","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","cwd","chdir","umask","__esModule","_react","_reactDraggable","_utils","_propTypes","assign","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","defineProperties","_assertThisInitialized","Resizable","_proto","componentWillUnmount","resetData","lockAspectRatio","aspectRatio","lastHandleRect","slack","runConstraints","minConstraints","maxConstraints","ratio","_ratio","oldW","oldH","slackW","slackH","resizeHandler","handlerName","axisV","axisH","handleRect","transformScale","_this2$runConstraints","dimensionsChanged","cb","persist","renderResizeHandle","resizeHandleAxis","_this$props","draggableOpts","resizeHandles","handleSize","onResize","onResizeStop","onResizeStart","excluded","sourceKeys","_objectWithoutPropertiesLoose","handleAxis","resizableProps","_getRequireWildcardCache","newObj","hasPropertyDescriptor","desc","_interopRequireWildcard","_interopRequireDefault","_Resizable","ResizableBox","propsWidth","propsHeight","getDerivedStateFromProps","nodeRef","scale","emptyFunctionWithReset","resetWarningCache","bigint","elementType","exact","_DraggableCore","nodeInterop","_clsx","_log","cacheBabelInterop","cacheNodeInterop","hint","prim","toPrimitive","res","_toPrimitive","_toPropertyKey","prevPropsPosition","super","newStateX","newStateY","_this$props$nodeRef$c","positionOffset","draggableCoreProps","validPosition","thisNode","mounted","passive","_this$props2","addClassName","inputOptions","options","capture","styleEl","getElementById","controlPos","translation","getTranslation","removeClassName","unitSuffix","defaultX","defaultY","_window$document","isStart","boundNodeEl","Stickies","_Stickies","_Stickies2","_createClass","descriptor","protoProps","staticProps","_class","_Component","lastHtml","emitChange","dangerouslySetInnerHTML","__html","_draftJs","_moment2","_ContentEditable2","WidthProvider","ResponsiveReactGridLayout","Responsive","tranformEditorState","notes","note","newCounter","colors","dateFormat","createBlankNote","renderNote","onLayoutChange","onBreakpointChange","currentNote","onTitleChange","timeStamp","transformContentState","s4","guid","cols","w","color","generateRandomColors","degree","generateRandomDegree","onAdd","layout","_this4","breakpoint","_this5","closeStyle","addStyle","closeIcon","addIcon","noteStyle","background","noteHeaderStyle","header","noteBodyStyle","noteTitleStyle","noteFooterStyle","footer","tape","onClick","handleTitleChange","deleteNote","gridProps","lg","md","sm","xs","xxs","rowHeight","isDraggable","isResizable","useCSSTransforms","margin","wrapperStyle","mediaQuery","alreadyImportedModules","stylesInDom","memoize","memo","getHeadElement","singletonElement","singletonCounter","styleElementsInsertedAtTop","addStylesToDom","domStyle","refs","listToStyles","part","css","media","sourceMap","insertStyleElement","styleElement","lastStyleElementInsertedAtTop","insertAt","insertBefore","removeStyleElement","createStyleElement","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","linkElement","rel","createLinkElement","updateLink","applyToTag","mayRemove","textStore","replacement","styleSheet","cssText","cssNode","unescape","encodeURIComponent","blob","oldSrc","locals","_reactResizable","GridItem","_temp","resizing","calcColWidth","containerPadding","containerWidth","calcPosition","colWidth","calcXY","_props3","maxRows","calcWH","_props4","createStyle","_props5","usePercentages","setTransform","setTopLeft","perc","mixinDraggable","onDragHandler","mixinResizable","_props6","minW","minH","maxW","maxH","maxWidth","mins","maxes","onResizeHandler","newPosition","parentRect","clientRect","_calcXY","_props7","_calcWH","_props8","static","cssTransforms","_lodash2","_GridItem2","ReactGridLayout","_initialiseProps","autoBindHandlers","onLayoutMaybeChanged","componentWillReceiveProps","newLayoutBase","childrenEqual","newLayout","synchronizeLayoutWithChildren","verticalCompact","_oldLayout","containerHeight","autoSize","nbRow","containerPaddingY","l","getLayoutItem","oldDragItem","cloneLayoutItem","oldLayout","moveElement","compact","activeDrag","_ref4","oldResizeItem","_ref5","_state","_ref6","_state2","processGridItem","draggableCancel","draggableHandle","resizable","mergedStyle","validateLayout","_componentName","_responsiveUtils","_ReactGridLayout2","generateInitialState","_extends2","layouts","breakpoints","getBreakpointFromWidth","colNo","getColsFromBreakpoint","findOrGenerateResponsiveLayout","_breakpoint","_cols","onWidthChange","newBreakpoint","lastBreakpoint","cloneLayout","newCols","_layout","_objectWithoutProperties","ComposedComponent","_temp2","onWindowResize","_event","offsetWidth","measureBeforeMount","sorted","sortBreakpoints","matching","breakpointName","breakpointsSorted","breakpointsAbove","correctBounds","_i2","collides","compactItem","getFirstCollision","getAllCollisions","getStatics","moveElementAwayFromCollision","translate","WebkitTransform","MozTransform","msTransform","OTransform","sortLayoutItemsByRowCol","initialLayout","isProduction","_grid","g","fns","bottomY","_i","layoutItem","moved","l1","l2","compareWith","_i3","collidesWith","_i4","_i5","_i6","isUserAction","movingUp","collisions","_i7","collision","itemToMove","fakeItem","contextName","subProps","_i8","utils","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","onGlobalMessage","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","script","onreadystatechange","installReadyStateChangeImplementation","task","clearImmediate","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","enumerize","enums","str1","str2","lowerize","rgxMapper","ua","arrays","q","regex","strMapper","windowsVersionMap","regexes","EDGE","extensions","_navigator","_ua","_uach","userAgentData","_rgxmap","mergedRegexes","_isSelfNav","getBrowser","_browser","brave","isBrave","getCPU","_cpu","getDevice","_device","mobile","standalone","maxTouchPoints","getEngine","_engine","getOS","_os","platform","getUA","setUA","CPU","DEVICE","ENGINE","OS","define","$","jQuery","Zepto","parser"],"sourceRoot":""}